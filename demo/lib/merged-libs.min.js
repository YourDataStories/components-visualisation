function rhex(num){for(str="",j=0;j<=3;j++)str+=hex_chr.charAt(num>>8*j+4&15)+hex_chr.charAt(num>>8*j&15);return str}function str2blks_MD5(str){for(nblk=1+(str.length+8>>6),blks=new Array(16*nblk),i=0;i<16*nblk;i++)blks[i]=0;for(i=0;i<str.length;i++)blks[i>>2]|=str.charCodeAt(i)<<i%4*8;return blks[i>>2]|=128<<i%4*8,blks[16*nblk-2]=8*str.length,blks}function add(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function rol(num,cnt){return num<<cnt|num>>>32-cnt}function cmn(q,a,b,x,s,t){return add(rol(add(add(a,q),add(x,t)),s),b)}function ff(a,b,c,d,x,s,t){return cmn(b&c|~b&d,a,b,x,s,t)}function gg(a,b,c,d,x,s,t){return cmn(b&d|c&~d,a,b,x,s,t)}function hh(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t)}function ii(a,b,c,d,x,s,t){return cmn(c^(b|~d),a,b,x,s,t)}function calcMD5(str){for(x=str2blks_MD5(str),a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16)olda=a,oldb=b,oldc=c,oldd=d,a=ff(a,b,c,d,x[i+0],7,-680876936),d=ff(d,a,b,c,x[i+1],12,-389564586),c=ff(c,d,a,b,x[i+2],17,606105819),b=ff(b,c,d,a,x[i+3],22,-1044525330),a=ff(a,b,c,d,x[i+4],7,-176418897),d=ff(d,a,b,c,x[i+5],12,1200080426),c=ff(c,d,a,b,x[i+6],17,-1473231341),b=ff(b,c,d,a,x[i+7],22,-45705983),a=ff(a,b,c,d,x[i+8],7,1770035416),d=ff(d,a,b,c,x[i+9],12,-1958414417),c=ff(c,d,a,b,x[i+10],17,-42063),b=ff(b,c,d,a,x[i+11],22,-1990404162),a=ff(a,b,c,d,x[i+12],7,1804603682),d=ff(d,a,b,c,x[i+13],12,-40341101),c=ff(c,d,a,b,x[i+14],17,-1502002290),b=ff(b,c,d,a,x[i+15],22,1236535329),a=gg(a,b,c,d,x[i+1],5,-165796510),d=gg(d,a,b,c,x[i+6],9,-1069501632),c=gg(c,d,a,b,x[i+11],14,643717713),b=gg(b,c,d,a,x[i+0],20,-373897302),a=gg(a,b,c,d,x[i+5],5,-701558691),d=gg(d,a,b,c,x[i+10],9,38016083),c=gg(c,d,a,b,x[i+15],14,-660478335),b=gg(b,c,d,a,x[i+4],20,-405537848),a=gg(a,b,c,d,x[i+9],5,568446438),d=gg(d,a,b,c,x[i+14],9,-1019803690),c=gg(c,d,a,b,x[i+3],14,-187363961),b=gg(b,c,d,a,x[i+8],20,1163531501),a=gg(a,b,c,d,x[i+13],5,-1444681467),d=gg(d,a,b,c,x[i+2],9,-51403784),c=gg(c,d,a,b,x[i+7],14,1735328473),b=gg(b,c,d,a,x[i+12],20,-1926607734),a=hh(a,b,c,d,x[i+5],4,-378558),d=hh(d,a,b,c,x[i+8],11,-2022574463),c=hh(c,d,a,b,x[i+11],16,1839030562),b=hh(b,c,d,a,x[i+14],23,-35309556),a=hh(a,b,c,d,x[i+1],4,-1530992060),d=hh(d,a,b,c,x[i+4],11,1272893353),c=hh(c,d,a,b,x[i+7],16,-155497632),b=hh(b,c,d,a,x[i+10],23,-1094730640),a=hh(a,b,c,d,x[i+13],4,681279174),d=hh(d,a,b,c,x[i+0],11,-358537222),c=hh(c,d,a,b,x[i+3],16,-722521979),b=hh(b,c,d,a,x[i+6],23,76029189),a=hh(a,b,c,d,x[i+9],4,-640364487),d=hh(d,a,b,c,x[i+12],11,-421815835),c=hh(c,d,a,b,x[i+15],16,530742520),b=hh(b,c,d,a,x[i+2],23,-995338651),a=ii(a,b,c,d,x[i+0],6,-198630844),d=ii(d,a,b,c,x[i+7],10,1126891415),c=ii(c,d,a,b,x[i+14],15,-1416354905),b=ii(b,c,d,a,x[i+5],21,-57434055),a=ii(a,b,c,d,x[i+12],6,1700485571),d=ii(d,a,b,c,x[i+3],10,-1894986606),c=ii(c,d,a,b,x[i+10],15,-1051523),b=ii(b,c,d,a,x[i+1],21,-2054922799),a=ii(a,b,c,d,x[i+8],6,1873313359),d=ii(d,a,b,c,x[i+15],10,-30611744),c=ii(c,d,a,b,x[i+6],15,-1560198380),b=ii(b,c,d,a,x[i+13],21,1309151649),a=ii(a,b,c,d,x[i+4],6,-145523070),d=ii(d,a,b,c,x[i+11],10,-1120210379),c=ii(c,d,a,b,x[i+2],15,718787259),b=ii(b,c,d,a,x[i+9],21,-343485551),a=add(a,olda),b=add(b,oldb),c=add(c,oldc),d=add(d,oldd);return rhex(a)+rhex(b)+rhex(c)+rhex(d)}!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t.L={})}(this,function(t){"use strict";function i(t){var i,e,n,o;for(e=1,n=arguments.length;e<n;e++){o=arguments[e];for(i in o)t[i]=o[i]}return t}function e(t,i){var e=Array.prototype.slice;if(t.bind)return t.bind.apply(t,e.call(arguments,1));var n=e.call(arguments,2);return function(){return t.apply(i,n.length?n.concat(e.call(arguments)):arguments)}}function n(t){return t._leaflet_id=t._leaflet_id||++ti,t._leaflet_id}function o(t,i,e){var n,o,s,r;return r=function(){n=!1,o&&(s.apply(e,o),o=!1)},s=function(){n?o=arguments:(t.apply(e,arguments),setTimeout(r,i),n=!0)}}function s(t,i,e){var n=i[1],o=i[0],s=n-o;return t===n&&e?t:((t-o)%s+s)%s+o}function r(){return!1}function a(t,i){var e=Math.pow(10,i||5);return Math.round(t*e)/e}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function u(t){return h(t).split(/\s+/)}function l(t,i){t.hasOwnProperty("options")||(t.options=t.options?Qt(t.options):{});for(var e in i)t.options[e]=i[e];return t.options}function c(t,i,e){var n=[];for(var o in t)n.push(encodeURIComponent(e?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(i&&-1!==i.indexOf("?")?"&":"?")+n.join("&")}function _(t,i){return t.replace(ii,function(t,e){var n=i[e];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(i)),n})}function d(t,i){for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var i=+new Date,e=Math.max(0,16-(i-oi));return oi=i+e,window.setTimeout(t,e)}function f(t,i,n){if(!n||si!==m)return si.call(window,e(t,i));t.call(i)}function g(t){t&&ri.call(window,t)}function v(){}function x(t,i,e){this.x=e?Math.round(t):t,this.y=e?Math.round(i):i}function w(t,i,e){return t instanceof x?t:ei(t)?new x(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new x(t.x,t.y):new x(t,i,e)}function b(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])}function P(t,i){return!t||t instanceof b?t:new b(t,i)}function T(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])}function z(t,i){return t instanceof T?t:new T(t,i)}function M(t,i,e){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,void 0!==e&&(this.alt=+e)}function C(t,i,e){return t instanceof M?t:ei(t)&&"object"!=typeof t[0]?3===t.length?new M(t[0],t[1],t[2]):2===t.length?new M(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new M(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===i?null:new M(t,i,e)}function Z(t,i,e,n){if(ei(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=i,this._c=e,this._d=n}function E(t,i,e,n){return new Z(t,i,e,n)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t,i){var e,n,o,s,r,a,h="";for(e=0,o=t.length;e<o;e++){for(n=0,s=(r=t[e]).length;n<s;n++)a=r[n],h+=(n?"L":"M")+a.x+" "+a.y;h+=i?qi?"z":"x":""}return h||"M0 0"}function B(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function I(t,i,e,n){return"touchstart"===i?O(t,e,n):"touchmove"===i?function(t,i,e){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&j(t,i)};t["_leaflet_touchmove"+e]=n,t.addEventListener(Ji,n,!1)}(t,e,n):"touchend"===i&&function(t,i,e){var n=function(t){j(t,i)};t["_leaflet_touchend"+e]=n,t.addEventListener($i,n,!1),t.addEventListener(Qi,n,!1)}(t,e,n),this}function O(t,i,n){var o=e(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(te.indexOf(t.target.tagName)<0))return;$(t)}j(t,i)});t["_leaflet_touchstart"+n]=o,t.addEventListener(Xi,o,!1),ee||(document.documentElement.addEventListener(Xi,R,!0),document.documentElement.addEventListener(Ji,D,!0),document.documentElement.addEventListener($i,N,!0),document.documentElement.addEventListener(Qi,N,!0),ee=!0)}function R(t){ie[t.pointerId]=t,ne++}function D(t){ie[t.pointerId]&&(ie[t.pointerId]=t)}function N(t){delete ie[t.pointerId],ne--}function j(t,i){t.touches=[];for(var e in ie)t.touches.push(ie[e]);t.changedTouches=[t],i(t)}function F(t,i,e){function n(t){var i;if(Wi){if(!Li||"mouse"===t.pointerType)return;i=ne}else i=t.touches.length;if(!(i>1)){var e=Date.now(),n=e-(s||e);r=t.touches?t.touches[0]:t,a=n>0&&n<=h,s=e}}function o(t){if(a&&!r.cancelBubble){if(Wi){if(!Li||"mouse"===t.pointerType)return;var e,n,o={};for(n in r)e=r[n],o[n]=e&&e.bind?e.bind(r):e;r=o}r.type="dblclick",i(r),s=null}}var s,r,a=!1,h=250;return t[re+oe+e]=n,t[re+se+e]=o,t[re+"dblclick"+e]=i,t.addEventListener(oe,n,!1),t.addEventListener(se,o,!1),t.addEventListener("dblclick",i,!1),this}function U(t,i){var e=t[re+oe+i],n=t[re+se+i],o=t[re+"dblclick"+i];return t.removeEventListener(oe,e,!1),t.removeEventListener(se,n,!1),Li||t.removeEventListener("dblclick",o,!1),this}function V(t,i,e,n){if("object"==typeof i)for(var o in i)q(t,o,i[o],e);else for(var s=0,r=(i=u(i)).length;s<r;s++)q(t,i[s],e,n);return this}function G(t,i,e,n){if("object"==typeof i)for(var o in i)K(t,o,i[o],e);else if(i)for(var s=0,r=(i=u(i)).length;s<r;s++)K(t,i[s],e,n);else{for(var a in t[ae])K(t,a,t[ae][a]);delete t[ae]}return this}function q(t,i,e,o){var s=i+n(e)+(o?"_"+n(o):"");if(t[ae]&&t[ae][s])return this;var r=function(i){return e.call(o||t,i||window.event)},a=r;Wi&&0===i.indexOf("touch")?I(t,i,r,s):!Hi||"dblclick"!==i||!F||Wi&&Mi?"addEventListener"in t?"mousewheel"===i?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===i||"mouseleave"===i?(r=function(i){i=i||window.event,ot(t,i)&&a(i)},t.addEventListener("mouseenter"===i?"mouseover":"mouseout",r,!1)):("click"===i&&Pi&&(r=function(t){!function(t,i){var e=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=di&&e-di;n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?Q(t):(di=e,i(t))}(t,a)}),t.addEventListener(i,r,!1)):"attachEvent"in t&&t.attachEvent("on"+i,r):F(t,r,s),t[ae]=t[ae]||{},t[ae][s]=r}function K(t,i,e,o){var s=i+n(e)+(o?"_"+n(o):""),r=t[ae]&&t[ae][s];if(!r)return this;Wi&&0===i.indexOf("touch")?function(t,i,e){var n=t["_leaflet_"+i+e];"touchstart"===i?t.removeEventListener(Xi,n,!1):"touchmove"===i?t.removeEventListener(Ji,n,!1):"touchend"===i&&(t.removeEventListener($i,n,!1),t.removeEventListener(Qi,n,!1))}(t,i,s):Hi&&"dblclick"===i&&U?U(t,s):"removeEventListener"in t?"mousewheel"===i?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===i?"mouseover":"mouseleave"===i?"mouseout":i,r,!1):"detachEvent"in t&&t.detachEvent("on"+i,r),t[ae][s]=null}function Y(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,nt(t),this}function X(t){return q(t,"mousewheel",Y),this}function J(t){return V(t,"mousedown touchstart dblclick",Y),q(t,"click",et),this}function $(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Q(t){return $(t),Y(t),this}function tt(t,i){if(!i)return new x(t.clientX,t.clientY);var e=i.getBoundingClientRect();return new x(t.clientX-e.left-i.clientLeft,t.clientY-e.top-i.clientTop)}function it(t){return Li?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/he:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function et(t){ue[t.type]=!0}function nt(t){var i=ue[t.type];return ue[t.type]=!1,i}function ot(t,i){var e=i.relatedTarget;if(!e)return!0;try{for(;e&&e!==t;)e=e.parentNode}catch(t){return!1}return e!==t}function rt(t){return"string"==typeof t?document.getElementById(t):t}function at(t,i){var e=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!e||"auto"===e)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);e=n?n[i]:null}return"auto"===e?null:e}function ht(t,i,e){var n=document.createElement(t);return n.className=i||"",e&&e.appendChild(n),n}function ut(t){var i=t.parentNode;i&&i.removeChild(t)}function lt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ct(t){var i=t.parentNode;i.lastChild!==t&&i.appendChild(t)}function _t(t){var i=t.parentNode;i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function dt(t,i){if(void 0!==t.classList)return t.classList.contains(i);var e=gt(t);return e.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(e)}function pt(t,i){if(void 0!==t.classList)for(var e=u(i),n=0,o=e.length;n<o;n++)t.classList.add(e[n]);else if(!dt(t,i)){var s=gt(t);ft(t,(s?s+" ":"")+i)}}function mt(t,i){void 0!==t.classList?t.classList.remove(i):ft(t,h((" "+gt(t)+" ").replace(" "+i+" "," ")))}function ft(t,i){void 0===t.className.baseVal?t.className=i:t.className.baseVal=i}function gt(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function vt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&function(t,i){var e=!1,n="DXImageTransform.Microsoft.Alpha";try{e=t.filters.item(n)}catch(t){if(1===i)return}i=Math.round(100*i),e?(e.Enabled=100!==i,e.Opacity=i):t.style.filter+=" progid:"+n+"(opacity="+i+")"}(t,i)}function xt(t){for(var i=document.documentElement.style,e=0;e<t.length;e++)if(t[e]in i)return t[e];return!1}function wt(t,i,e){var n=i||new x(0,0);t.style[ce]=(Bi?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(e?" scale("+e+")":"")}function Lt(t,i){t._leaflet_pos=i,Oi?wt(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function bt(t){return t._leaflet_pos||new x(0,0)}function Pt(){V(window,"dragstart",$)}function Tt(){G(window,"dragstart",$)}function zt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Mt(),me=t,fe=t.style.outline,t.style.outline="none",V(window,"keydown",Mt))}function Mt(){me&&(me.style.outline=fe,me=void 0,fe=void 0,G(window,"keydown",Mt))}function Ct(t,i){if(!i||!t.length)return t.slice();var e=i*i;return t=function(t,i){for(var e=[t[0]],n=1,o=0,s=t.length;n<s;n++)(function(t,i){var e=i.x-t.x,n=i.y-t.y;return e*e+n*n})(t[n],t[o])>i&&(e.push(t[n]),o=n);return o<s-1&&e.push(t[s-1]),e}(t,e),t=function(t,i){var e=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(e);n[0]=n[e-1]=1,St(t,n,i,0,e-1);var o,s=[];for(o=0;o<e;o++)n[o]&&s.push(t[o]);return s}(t,e)}function Zt(t,i,e){return Math.sqrt(Rt(t,i,e,!0))}function St(t,i,e,n,o){var s,r,a,h=0;for(r=n+1;r<=o-1;r++)(a=Rt(t[r],t[n],t[o],!0))>h&&(s=r,h=a);h>e&&(i[s]=1,St(t,i,e,n,s),St(t,i,e,s,o))}function Bt(t,i,e,n,o){var s,r,a,h=n?ze:At(t,e),u=At(i,e);for(ze=u;;){if(!(h|u))return[t,i];if(h&u)return!1;a=At(r=It(t,i,s=h||u,e,o),e),s===h?(t=r,h=a):(i=r,u=a)}}function It(t,i,e,n,o){var s,r,a=i.x-t.x,h=i.y-t.y,u=n.min,l=n.max;return 8&e?(s=t.x+a*(l.y-t.y)/h,r=l.y):4&e?(s=t.x+a*(u.y-t.y)/h,r=u.y):2&e?(s=l.x,r=t.y+h*(l.x-t.x)/a):1&e&&(s=u.x,r=t.y+h*(u.x-t.x)/a),new x(s,r,o)}function At(t,i){var e=0;return t.x<i.min.x?e|=1:t.x>i.max.x&&(e|=2),t.y<i.min.y?e|=4:t.y>i.max.y&&(e|=8),e}function Rt(t,i,e,n){var o,s=i.x,r=i.y,a=e.x-s,h=e.y-r,u=a*a+h*h;return u>0&&((o=((t.x-s)*a+(t.y-r)*h)/u)>1?(s=e.x,r=e.y):o>0&&(s+=a*o,r+=h*o)),a=t.x-s,h=t.y-r,n?a*a+h*h:new x(s,r)}function Dt(t){return!ei(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Nt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(t)}function jt(t,i,e){var n,o,s,r,a,h,u,l,c,_=[1,4,2,8];for(o=0,u=t.length;o<u;o++)t[o]._code=At(t[o],i);for(r=0;r<4;r++){for(l=_[r],n=[],o=0,s=(u=t.length)-1;o<u;s=o++)a=t[o],h=t[s],a._code&l?h._code&l||((c=It(h,a,l,i,e))._code=At(c,i),n.push(c)):(h._code&l&&((c=It(h,a,l,i,e))._code=At(c,i),n.push(c)),n.push(a));t=n}return t}function Wt(t,i){var e,n,o,s,r="Feature"===t.type?t.geometry:t,a=r?r.coordinates:null,h=[],u=i&&i.pointToLayer,l=i&&i.coordsToLatLng||Ht;if(!a&&!r)return null;switch(r.type){case"Point":return e=l(a),u?u(t,e):new qe(e);case"MultiPoint":for(o=0,s=a.length;o<s;o++)e=l(a[o]),h.push(u?u(t,e):new qe(e));return new Fe(h);case"LineString":case"MultiLineString":return n=Ft(a,"LineString"===r.type?0:1,l),new Je(n,i);case"Polygon":case"MultiPolygon":return n=Ft(a,"Polygon"===r.type?1:2,l),new $e(n,i);case"GeometryCollection":for(o=0,s=r.geometries.length;o<s;o++){var c=Wt({geometry:r.geometries[o],type:"Feature",properties:t.properties},i);c&&h.push(c)}return new Fe(h);default:throw new Error("Invalid GeoJSON object.")}}function Ht(t){return new M(t[1],t[0],t[2])}function Ft(t,i,e){for(var n,o=[],s=0,r=t.length;s<r;s++)n=i?Ft(t[s],i-1,e):(e||Ht)(t[s]),o.push(n);return o}function Ut(t,i){return i="number"==typeof i?i:6,void 0!==t.alt?[a(t.lng,i),a(t.lat,i),a(t.alt,i)]:[a(t.lng,i),a(t.lat,i)]}function Vt(t,i,e,n){for(var o=[],s=0,r=t.length;s<r;s++)o.push(i?Vt(t[s],i-1,e,n):Ut(t[s],n));return!i&&e&&o.push(o[0]),o}function Gt(t,e){return t.feature?i({},t.feature,{geometry:e}):qt(e)}function qt(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Kt(t,i){return new Qe(t,i)}function Yt(t,i){return new ln(t,i)}function Xt(t){return Gi?new dn(t):null}function Jt(t){return qi||Ki?new gn(t):null}var $t=Object.freeze;Object.freeze=function(t){return t};var Qt=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}(),ti=0,ii=/\{ *([\w_\-]+) *\}/g,ei=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ni="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",oi=0,si=window.requestAnimationFrame||p("RequestAnimationFrame")||m,ri=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},ai=(Object.freeze||Object)({freeze:$t,extend:i,create:Qt,bind:e,lastId:ti,stamp:n,throttle:o,wrapNum:s,falseFn:r,formatNum:a,trim:h,splitWords:u,setOptions:l,getParamString:c,template:_,isArray:ei,indexOf:d,emptyImageUrl:ni,requestFn:si,cancelFn:ri,requestAnimFrame:f,cancelAnimFrame:g});v.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,o=Qt(n);o.constructor=e,e.prototype=o;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(function(t){if(L&&L.Mixin){t=ei(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),i.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=i(Qt(o.options),t.options)),i(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,i=o._initHooks.length;t<i;t++)o._initHooks[t].call(this)}},e},v.include=function(t){return i(this.prototype,t),this},v.mergeOptions=function(t){return i(this.prototype.options,t),this},v.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),e="function"==typeof t?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e),this};var hi={on:function(t,i,e){if("object"==typeof t)for(var n in t)this._on(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._on(t[o],i,e);return this},off:function(t,i,e){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._off(t[o],i,e);else delete this._events;return this},_on:function(t,i,e){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),e===this&&(e=void 0);for(var o={fn:i,ctx:e},s=n,r=0,a=s.length;r<a;r++)if(s[r].fn===i&&s[r].ctx===e)return;s.push(o)},_off:function(t,i,e){var n,o,s;if(this._events&&(n=this._events[t]))if(i){if(e===this&&(e=void 0),n)for(o=0,s=n.length;o<s;o++){var a=n[o];if(a.ctx===e&&a.fn===i)return a.fn=r,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,s=n.length;o<s;o++)n[o].fn=r;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var o=i({},e,{type:t,target:this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;r<a;r++){var h=s[r];h.fn.call(h.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,i){var e=this._events&&this._events[t];if(e&&e.length)return!0;if(i)for(var n in this._eventParents)if(this._eventParents[n].listens(t,i))return!0;return!1},once:function(t,i,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],i);return this}var s=e(function(){this.off(t,i,n).off(t,s,n)},this);return this.on(t,i,n).on(t,s,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[n(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[n(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target},t),!0)}};hi.addEventListener=hi.on,hi.removeEventListener=hi.clearAllEventListeners=hi.off,hi.addOneTimeEventListener=hi.once,hi.fireEvent=hi.fire,hi.hasEventListeners=hi.listens;var ui=v.extend(hi);x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(w(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(w(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new x(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new x(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){var i=(t=w(t)).x-this.x,e=t.y-this.y;return Math.sqrt(i*i+e*e)},equals:function(t){return(t=w(t)).x===this.x&&t.y===this.y},contains:function(t){return t=w(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},b.prototype={extend:function(t){return t=w(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,e;return(t="number"==typeof t[0]||t instanceof x?w(t):P(t))instanceof b?(i=t.min,e=t.max):i=e=t,i.x>=this.min.x&&e.x<=this.max.x&&i.y>=this.min.y&&e.y<=this.max.y},intersects:function(t){t=P(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x>=i.x&&n.x<=e.x,r=o.y>=i.y&&n.y<=e.y;return s&&r},overlaps:function(t){t=P(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x>i.x&&n.x<e.x,r=o.y>i.y&&n.y<e.y;return s&&r},isValid:function(){return!(!this.min||!this.max)}},T.prototype={extend:function(t){var i,e,n=this._southWest,o=this._northEast;if(t instanceof M)i=t,e=t;else{if(!(t instanceof T))return t?this.extend(C(t)||z(t)):this;if(i=t._southWest,e=t._northEast,!i||!e)return this}return n||o?(n.lat=Math.min(i.lat,n.lat),n.lng=Math.min(i.lng,n.lng),o.lat=Math.max(e.lat,o.lat),o.lng=Math.max(e.lng,o.lng)):(this._southWest=new M(i.lat,i.lng),this._northEast=new M(e.lat,e.lng)),this},pad:function(t){var i=this._southWest,e=this._northEast,n=Math.abs(i.lat-e.lat)*t,o=Math.abs(i.lng-e.lng)*t;return new T(new M(i.lat-n,i.lng-o),new M(e.lat+n,e.lng+o))},getCenter:function(){return new M((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new M(this.getNorth(),this.getWest())},getSouthEast:function(){return new M(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof M||"lat"in t?C(t):z(t);var i,e,n=this._southWest,o=this._northEast;return t instanceof T?(i=t.getSouthWest(),e=t.getNorthEast()):i=e=t,i.lat>=n.lat&&e.lat<=o.lat&&i.lng>=n.lng&&e.lng<=o.lng},intersects:function(t){t=z(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=i.lat&&n.lat<=e.lat,r=o.lng>=i.lng&&n.lng<=e.lng;return s&&r},overlaps:function(t){t=z(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>i.lat&&n.lat<e.lat,r=o.lng>i.lng&&n.lng<e.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return!!t&&(t=z(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i))},isValid:function(){return!(!this._southWest||!this._northEast)}},M.prototype={equals:function(t,i){return!!t&&(t=C(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===i?1e-9:i))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return ci.distance(this,C(t))},wrap:function(){return ci.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,e=i/Math.cos(Math.PI/180*this.lat);return z([this.lat-i,this.lng-e],[this.lat+i,this.lng+e])},clone:function(){return new M(this.lat,this.lng,this.alt)}};var li={latLngToPoint:function(t,i){var e=this.projection.project(t),n=this.scale(i);return this.transformation._transform(e,n)},pointToLatLng:function(t,i){var e=this.scale(i),n=this.transformation.untransform(t,e);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,e=this.scale(t);return new b(this.transformation.transform(i.min,e),this.transformation.transform(i.max,e))},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?s(t.lng,this.wrapLng,!0):t.lng;return new M(this.wrapLat?s(t.lat,this.wrapLat,!0):t.lat,i,t.alt)},wrapLatLngBounds:function(t){var i=t.getCenter(),e=this.wrapLatLng(i),n=i.lat-e.lat,o=i.lng-e.lng;if(0===n&&0===o)return t;var s=t.getSouthWest(),r=t.getNorthEast();return new T(new M(s.lat-n,s.lng-o),new M(r.lat-n,r.lng-o))}},ci=i({},li,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var e=Math.PI/180,n=t.lat*e,o=i.lat*e,s=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos((i.lng-t.lng)*e);return this.R*Math.acos(Math.min(s,1))}}),_i={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,e=this.MAX_LATITUDE,n=Math.max(Math.min(e,t.lat),-e),o=Math.sin(n*i);return new x(this.R*t.lng*i,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var i=180/Math.PI;return new M((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=6378137*Math.PI;return new b([-t,-t],[t,t])}()};Z.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new x((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};var di,pi,mi,fi,gi=i({},ci,{code:"EPSG:3857",projection:_i,transformation:function(){var t=.5/(Math.PI*_i.R);return E(t,.5,-t,.5)}()}),vi=i({},gi,{code:"EPSG:900913"}),yi=document.documentElement.style,xi="ActiveXObject"in window,wi=xi&&!document.addEventListener,Li="msLaunchUri"in navigator&&!("documentMode"in document),bi=B("webkit"),Pi=B("android"),Ti=B("android 2")||B("android 3"),zi=!!window.opera,Mi=B("chrome"),Ci=B("gecko")&&!bi&&!zi&&!xi,Zi=!Mi&&B("safari"),Ei=B("phantom"),Si="OTransition"in yi,ki=0===navigator.platform.indexOf("Win"),Bi=xi&&"transition"in yi,Ii="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ti,Ai="MozPerspective"in yi,Oi=!window.L_DISABLE_3D&&(Bi||Ii||Ai)&&!Si&&!Ei,Ri="undefined"!=typeof orientation||B("mobile"),Di=Ri&&bi,Ni=Ri&&Ii,ji=!window.PointerEvent&&window.MSPointerEvent,Wi=!(!window.PointerEvent&&!ji),Hi=!window.L_NO_TOUCH&&(Wi||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Fi=Ri&&zi,Ui=Ri&&Ci,Vi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Gi=!!document.createElement("canvas").getContext,qi=!(!document.createElementNS||!S("svg").createSVGRect),Ki=!qi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(t){return!1}}(),Yi=(Object.freeze||Object)({ie:xi,ielt9:wi,edge:Li,webkit:bi,android:Pi,android23:Ti,opera:zi,chrome:Mi,gecko:Ci,safari:Zi,phantom:Ei,opera12:Si,win:ki,ie3d:Bi,webkit3d:Ii,gecko3d:Ai,any3d:Oi,mobile:Ri,mobileWebkit:Di,mobileWebkit3d:Ni,msPointer:ji,pointer:Wi,touch:Hi,mobileOpera:Fi,mobileGecko:Ui,retina:Vi,canvas:Gi,svg:qi,vml:Ki}),Xi=ji?"MSPointerDown":"pointerdown",Ji=ji?"MSPointerMove":"pointermove",$i=ji?"MSPointerUp":"pointerup",Qi=ji?"MSPointerCancel":"pointercancel",te=["INPUT","SELECT","OPTION"],ie={},ee=!1,ne=0,oe=ji?"MSPointerDown":Wi?"pointerdown":"touchstart",se=ji?"MSPointerUp":Wi?"pointerup":"touchend",re="_leaflet_",ae="_leaflet_events",he=ki&&Mi?2*window.devicePixelRatio:Ci?window.devicePixelRatio:1,ue={},le=(Object.freeze||Object)({on:V,off:G,stopPropagation:Y,disableScrollPropagation:X,disableClickPropagation:J,preventDefault:$,stop:Q,getMousePosition:tt,getWheelDelta:it,fakeStop:et,skipped:nt,isExternalTarget:ot,addListener:V,removeListener:G}),ce=xt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),_e=xt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),de="webkitTransition"===_e||"OTransition"===_e?_e+"End":"transitionend";if("onselectstart"in document)pi=function(){V(window,"selectstart",$)},mi=function(){G(window,"selectstart",$)};else{var pe=xt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pi=function(){if(pe){var t=document.documentElement.style;fi=t[pe],t[pe]="none"}},mi=function(){pe&&(document.documentElement.style[pe]=fi,fi=void 0)}}var me,fe,ge=(Object.freeze||Object)({TRANSFORM:ce,TRANSITION:_e,TRANSITION_END:de,get:rt,getStyle:at,create:ht,remove:ut,empty:lt,toFront:ct,toBack:_t,hasClass:dt,addClass:pt,removeClass:mt,setClass:ft,getClass:gt,setOpacity:vt,testProp:xt,setTransform:wt,setPosition:Lt,getPosition:bt,disableTextSelection:pi,enableTextSelection:mi,disableImageDrag:Pt,enableImageDrag:Tt,preventOutline:zt,restoreOutline:Mt}),ve=ui.extend({run:function(t,i,e,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=bt(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=f(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,e=1e3*this._duration;i<e?this._runFrame(this._easeOut(i/e),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var e=this._startPos.add(this._offset.multiplyBy(t));i&&e._round(),Lt(this._el,e),this.fire("step")},_complete:function(){g(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ye=ui.extend({options:{crs:gi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=l(this,i),this._initContainer(t),this._initLayout(),this._onResize=e(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),void 0!==i.zoom&&(this._zoom=this._limitZoom(i.zoom)),i.center&&void 0!==i.zoom&&this.setView(C(i.center),i.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=_e&&Oi&&!Fi&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,de,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(C(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Oi?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Oi?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,e){var n=this.getZoomScale(i),o=this.getSize().divideBy(2),s=(t instanceof x?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),r=this.containerPointToLatLng(o.add(s));return this.setView(r,i,{zoom:e})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():z(t);var e=w(i.paddingTopLeft||i.padding||[0,0]),n=w(i.paddingBottomRight||i.padding||[0,0]),o=this.getBoundsZoom(t,!1,e.add(n));if((o="number"==typeof i.maxZoom?Math.min(i.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=n.subtract(e).divideBy(2),r=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,i){if(!(t=z(t)).isValid())throw new Error("Bounds are not valid.");var e=this._getBoundsCenterZoom(t,i);return this.setView(e.center,e.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=w(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==i.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ve,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),!1!==i.animate){pt(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,e,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,e){function n(t){var i=(g*g-m*m+(t?-1:1)*x*x*v*v)/(2*(t?g:m)*x*v),e=Math.sqrt(i*i+1)-i;return e<1e-9?-18:Math.log(e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function h(t){return m*(s(w)*function(t){return o(t)/s(t)}(w+y*t)-o(w))/x}function l(){var e=(Date.now()-L)/P,n=function(t){return 1-Math.pow(1-t,1.5)}(e)*b;e<=1?(this._flyToFrame=f(l,this),this._move(this.unproject(c.add(_.subtract(c).multiplyBy(h(n)/v)),p),this.getScaleZoom(m/function(t){return m*(s(w)/s(w+y*t))}(n),p),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}if(!1===(e=e||{}).animate||!Oi)return this.setView(t,i,e);this._stop();var c=this.project(this.getCenter()),_=this.project(t),d=this.getSize(),p=this._zoom;t=C(t),i=void 0===i?p:i;var m=Math.max(d.x,d.y),g=m*this.getZoomScale(p,i),v=_.distanceTo(c)||1,y=1.42,x=y*y,w=n(0),L=Date.now(),b=(n(1)-w)/y,P=e.duration?1e3*e.duration:1e3*b*.8;return this._moveStart(!0),l.call(this),this},flyToBounds:function(t,i){var e=this._getBoundsCenterZoom(t,i);return this.flyTo(e.center,e.zoom,i)},setMaxBounds:function(t){return(t=z(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var e=this.getCenter(),n=this._limitCenter(e,this._zoom,z(t));return e.equals(n)||this.panTo(n,i),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=n.divideBy(2).round(),r=o.divideBy(2).round(),a=s.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=e(this._handleGeolocationResponse,this),o=e(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var i=t.code,e=t.message||(1===i?"permission denied":2===i?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+e+"."})},_handleGeolocationResponse:function(t){var i=new M(t.coords.latitude,t.coords.longitude),e=i.toBounds(t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(e);this.setView(i,n.maxZoom?Math.min(o,n.maxZoom):o)}var s={latlng:i,bounds:e,timestamp:t.timestamp};for(var r in t.coords)"number"==typeof t.coords[r]&&(s[r]=t.coords[r]);this.fire("locationfound",s)},addHandler:function(t,i){if(!i)return this;var e=this[t]=new i(this);return this._handlers.push(e),this.options[t]&&e.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ut(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var e=ht("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i||this._mapPane);return t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,e){t=z(t),e=w(e||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),a=t.getSouthEast(),h=this.getSize().subtract(e),u=P(this.project(a,n),this.project(r,n)).getSize(),l=Oi?this.options.zoomSnap:1,c=h.x/u.x,_=h.y/u.y,d=i?Math.max(c,_):Math.min(c,_);return n=this.getScaleZoom(d,n),l&&(n=Math.round(n/(l/100))*(l/100),n=i?Math.ceil(n/l)*l:Math.floor(n/l)*l),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var e=this._getTopLeftPoint(t,i);return new b(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var e=this.options.crs;return i=void 0===i?this._zoom:i,e.scale(t)/e.scale(i)},getScaleZoom:function(t,i){var e=this.options.crs;i=void 0===i?this._zoom:i;var n=e.zoom(t*e.scale(i));return isNaN(n)?1/0:n},project:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.latLngToPoint(C(t),i)},unproject:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.pointToLatLng(w(t),i)},layerPointToLatLng:function(t){var i=w(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){return this.project(C(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(C(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(z(t))},distance:function(t,i){return this.options.crs.distance(C(t),C(i))},containerPointToLayerPoint:function(t){return w(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return w(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(w(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))},mouseEventToContainerPoint:function(t){return tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=rt(t);if(!i)throw new Error("Map container not found.");if(i._leaflet_id)throw new Error("Map container is already initialized.");V(i,"scroll",this._onScroll,this),this._containerId=n(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oi,pt(t,"leaflet-container"+(Hi?" leaflet-touch":"")+(Vi?" leaflet-retina":"")+(wi?" leaflet-oldie":"")+(Zi?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=at(t,"position");"absolute"!==i&&"relative"!==i&&"fixed"!==i&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Lt(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(t.markerPane,"leaflet-zoom-hide"),pt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i){Lt(this._mapPane,new x(0,0));var e=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var n=this._zoom!==i;this._moveStart(n)._move(t,i)._moveEnd(n),this.fire("viewreset"),e&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,i,e){void 0===i&&(i=this._zoom);var n=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||e&&e.pinch)&&this.fire("zoom",e),this.fire("move",e)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return g(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Lt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[n(this._container)]=this;var i=t?G:V;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Oi&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=f(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var e,o=[],s="mouseout"===i||"mouseover"===i,r=t.target||t.srcElement,a=!1;r;){if((e=this._targets[n(r)])&&("click"===i||"preclick"===i)&&!t._simulated&&this._draggableMoved(e)){a=!0;break}if(e&&e.listens(i,!0)){if(s&&!ot(r,t))break;if(o.push(e),s)break}if(r===this._container)break;r=r.parentNode}return o.length||a||s||!ot(r,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!nt(t)){var i=t.type;"mousedown"!==i&&"keypress"!==i||zt(t.target||t.srcElement),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var o=i({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var s=n[0];"contextmenu"===e&&s.listens(e,!0)&&$(t);var r={originalEvent:t};if("keypress"!==t.type){var a=s.options&&"icon"in s.options;r.containerPoint=a?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?s.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var h=0;h<n.length;h++)if(n[h].fire(e,r,!0),r.originalEvent._stopped||!1===n[h].options.bubblingMouseEvents&&-1!==d(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return bt(this._mapPane)||new x(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){return(t&&void 0!==i?this._getNewPixelOrigin(t,i):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var e=this.getSize()._divideBy(2);return this.project(t,i)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return this.project(t,i)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return P([this.project(t.getSouthWest(),i)._subtract(n),this.project(t.getNorthWest(),i)._subtract(n),this.project(t.getSouthEast(),i)._subtract(n),this.project(t.getNorthEast(),i)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,e){if(!e)return t;var n=this.project(t,i),o=this.getSize().divideBy(2),s=new b(n.subtract(o),n.add(o)),r=this._getBoundsOffset(s,e,i);return r.round().equals([0,0])?t:this.unproject(n.add(r),i)},_limitOffset:function(t,i){if(!i)return t;var e=this.getPixelBounds(),n=new b(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(n,i))},_getBoundsOffset:function(t,i,e){var n=P(this.project(i.getNorthEast(),e),this.project(i.getSouthWest(),e)),o=n.min.subtract(t.min),s=n.max.subtract(t.max);return new x(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),e=this.getMaxZoom(),n=Oi?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(i,Math.min(e,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var e=this._getCenterOffset(t)._floor();return!(!0!==(i&&i.animate)&&!this.getSize().contains(e)||(this.panBy(e,i),0))},_createAnimProxy:function(){var t=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var i=ce,e=this._proxy.style[i];wt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),e===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),i=this.getZoom();wt(this._proxy,this.project(t,i),this.getZoomScale(i,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(i),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==e.animate&&!this.getSize().contains(o)||(f(function(){this._moveStart(!0)._animateZoom(t,i,!0)},this),0))},_animateZoom:function(t,i,n,o){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:o}),setTimeout(e(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),f(function(){this._moveEnd(!0)},this))}}),xe=v.extend({options:{position:"topright"},initialize:function(t){l(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),e=this.getPosition(),n=t._controlCorners[e];return pt(i,"leaflet-control"),-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),we=function(t){return new xe(t)};ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var s=e+t+" "+e+o;i[t+o]=ht("div",s,n)}var i=this._controlCorners={},e="leaflet-",n=this._controlContainer=ht("div",e+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ut(this._controlCorners[t]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Le=xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,e,n){return e<n?-1:n<e?1:0}},initialize:function(t,i,e){l(this,e),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in i)this._addLayer(i[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(n(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(pt(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):mt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=ht("div",t),e=this.options.collapsed;i.setAttribute("aria-haspopup",!0),J(i),X(i);var n=this._form=ht("form",t+"-list");e&&(this._map.on("click",this.collapse,this),Pi||V(i,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ht("a",t+"-toggle",i);o.href="#",o.title="Layers",Hi?(V(o,"click",Q),V(o,"click",this.expand,this)):V(o,"focus",this.expand,this),e||this.expand(),this._baseLayersList=ht("div",t+"-base",n),this._separator=ht("div",t+"-separator",n),this._overlaysList=ht("div",t+"-overlays",n),i.appendChild(n)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&n(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:n}),this.options.sortLayers&&this._layers.sort(e(function(t,i){return this.options.sortFunction(t.layer,i.layer,t.name,i.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;lt(this._baseLayersList),lt(this._overlaysList),this._layerControlInputs=[];var t,i,e,n,o=0;for(e=0;e<this._layers.length;e++)n=this._layers[e],this._addItem(n),i=i||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(n(t.target)),e=i.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;e&&this._map.fire(e,i)},_createRadioElement:function(t,i){var e='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=e,n.firstChild},_addItem:function(t){var i,e=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((i=document.createElement("input")).type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=o):i=this._createRadioElement("leaflet-base-layers",o),this._layerControlInputs.push(i),i.layerId=n(t.layer),V(i,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+t.name;var r=document.createElement("div");return e.appendChild(r),r.appendChild(i),r.appendChild(s),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t,i,e=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=e.length-1;s>=0;s--)t=e[s],i=this._getLayer(t.layerId).layer,t.checked?n.push(i):t.checked||o.push(i);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,i,e=this._layerControlInputs,n=this._map.getZoom(),o=e.length-1;o>=0;o--)t=e[o],i=this._getLayer(t.layerId).layer,t.disabled=void 0!==i.options.minZoom&&n<i.options.minZoom||void 0!==i.options.maxZoom&&n>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),be=xe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",e=ht("div",i+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,i+"-in",e,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,i+"-out",e,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),e},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,e,n,o){var s=ht("a",e,n);return s.innerHTML=t,s.href="#",s.title=i,s.setAttribute("role","button"),s.setAttribute("aria-label",i),J(s),V(s,"click",Q),V(s,"click",o,this),V(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";mt(this._zoomInButton,i),mt(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMinZoom())&&pt(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMaxZoom())&&pt(this._zoomInButton,i)}});ye.mergeOptions({zoomControl:!0}),ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new be,this.addControl(this.zoomControl))});var Pe=xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i=ht("div","leaflet-control-scale"),e=this.options;return this._addScales(e,"leaflet-control-scale-line",i),t.on(e.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,e){t.metric&&(this._mScale=ht("div",i,e)),t.imperial&&(this._iScale=ht("div",i,e))},_update:function(){var t=this._map,i=t.getSize().y/2,e=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),e=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,e,i/t)},_updateImperial:function(t){var i,e,n,o=3.2808399*t;o>5280?(i=o/5280,e=this._getRoundNum(i),this._updateScale(this._iScale,e+" mi",e/i)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,i,e){t.style.width=Math.round(this.options.maxWidth*e)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),e=t/i;return e=e>=10?10:e>=5?5:e>=3?3:e>=2?2:1,i*e}}),Te=xe.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){l(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),J(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var e=[];this.options.prefix&&e.push(this.options.prefix),t.length&&e.push(t.join(", ")),this._container.innerHTML=e.join(" | ")}}});ye.mergeOptions({attributionControl:!0}),ye.addInitHook(function(){this.options.attributionControl&&(new Te).addTo(this)}),xe.Layers=Le,xe.Zoom=be,xe.Scale=Pe,xe.Attribution=Te,we.layers=function(t,i,e){return new Le(t,i,e)},we.zoom=function(t){return new be(t)},we.scale=function(t){return new Pe(t)},we.attribution=function(t){return new Te(t)};var ze,Me=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Ce={Events:hi},Ze=Hi?"touchstart mousedown":"mousedown",Ee={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Se={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ke=ui.extend({options:{clickTolerance:3},initialize:function(t,i,e,n){l(this,n),this._element=t,this._dragStartTarget=i||t,this._preventOutline=e},enable:function(){this._enabled||(V(this._dragStartTarget,Ze,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ke._dragging===this&&this.finishDrag(),G(this._dragStartTarget,Ze,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!dt(this._element,"leaflet-zoom-anim")&&!(ke._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ke._dragging=this,this._preventOutline&&zt(this._element),Pt(),pi(),this._moving)))){this.fire("down");var i=t.touches?t.touches[0]:t;this._startPoint=new x(i.clientX,i.clientY),V(document,Se[t.type],this._onMove,this),V(document,Ee[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var i=t.touches&&1===t.touches.length?t.touches[0]:t,e=new x(i.clientX,i.clientY).subtract(this._startPoint);(e.x||e.y)&&(Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||($(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=bt(this._element).subtract(e),pt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,g(this._animRequest),this._lastEvent=t,this._animRequest=f(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Lt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Se)G(document,Se[t],this._onMove,this),G(document,Ee[t],this._onUp,this);Tt(),mi(),this._moved&&this._moving&&(g(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ke._dragging=!1}}),Be=(Object.freeze||Object)({simplify:Ct,pointToSegmentDistance:Zt,closestPointOnSegment:function(t,i,e){return Rt(t,i,e)},clipSegment:Bt,_getEdgeIntersection:It,_getBitCode:At,_sqClosestPointOnSegment:Rt,isFlat:Dt,_flat:Nt}),Ie=(Object.freeze||Object)({clipPolygon:jt}),Ae={project:function(t){return new x(t.lng,t.lat)},unproject:function(t){return new M(t.y,t.x)},bounds:new b([-180,-90],[180,90])},Oe={R:6378137,R_MINOR:6356752.314245179,bounds:new b([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var i=Math.PI/180,e=this.R,n=t.lat*i,o=this.R_MINOR/e,s=Math.sqrt(1-o*o),r=s*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-r)/(1+r),s/2);return n=-e*Math.log(Math.max(a,1e-10)),new x(t.lng*i*e,n)},unproject:function(t){for(var i,e=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),r=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(r),h=0,u=.1;h<15&&Math.abs(u)>1e-7;h++)i=s*Math.sin(a),i=Math.pow((1-i)/(1+i),s/2),a+=u=Math.PI/2-2*Math.atan(r*i)-a;return new M(a*e,t.x*e/n)}},Re=(Object.freeze||Object)({LonLat:Ae,Mercator:Oe,SphericalMercator:_i}),De=i({},ci,{code:"EPSG:3395",projection:Oe,transformation:function(){var t=.5/(Math.PI*Oe.R);return E(t,.5,-t,.5)}()}),Ne=i({},ci,{code:"EPSG:4326",projection:Ae,transformation:E(1/180,1,-1/180,.5)}),je=i({},li,{projection:Ae,transformation:E(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var e=i.lng-t.lng,n=i.lat-t.lat;return Math.sqrt(e*e+n*n)},infinite:!0});li.Earth=ci,li.EPSG3395=De,li.EPSG3857=gi,li.EPSG900913=vi,li.EPSG4326=Ne,li.Simple=je;var We=ui.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[n(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[n(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var e=this.getEvents();i.on(e,this),this.once("remove",function(){i.off(e,this)},this)}this.onAdd(i),this.getAttribution&&i.attributionControl&&i.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),i.fire("layeradd",{layer:this})}}});ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=n(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=n(t);return this._layers[i]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&n(t)in this._layers},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},_addLayers:function(t){for(var i=0,e=(t=t?ei(t)?t:[t]:[]).length;i<e;i++)this.addLayer(t[i])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[n(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=n(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,e=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),i=void 0===o.maxZoom?i:Math.max(i,o.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,e!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var He=We.extend({initialize:function(t){this._layers={};var i,e;if(t)for(i=0,e=t.length;i<e;i++)this.addLayer(t[i])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var i,e,n=Array.prototype.slice.call(arguments,1);for(i in this._layers)(e=this._layers[i])[t]&&e[t].apply(e,n);return this},onAdd:function(t){for(var i in this._layers)t.addLayer(this._layers[i])},onRemove:function(t){for(var i in this._layers)t.removeLayer(this._layers[i])},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var i in this._layers)t.push(this._layers[i]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return n(t)}}),Fe=He.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),He.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),He.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new T;for(var i in this._layers){var e=this._layers[i];t.extend(e.getBounds?e.getBounds():e.getLatLng())}return t}}),Ue=v.extend({initialize:function(t){l(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var e=this._getIconUrl(t);if(!e){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(e,i&&"IMG"===i.tagName?i:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,i){var e=this.options,n=e[i+"Size"];"number"==typeof n&&(n=[n,n]);var o=w(n),s=w("shadow"===i&&e.shadowAnchor||e.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(e.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Vi&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Ve=Ue.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ve.imagePath||(Ve.imagePath=this._detectIconPath()),(this.options.imagePath||Ve.imagePath)+Ue.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ht("div","leaflet-default-icon-path",document.body),i=at(t,"background-image")||at(t,"backgroundImage");return document.body.removeChild(t),i=null===i||0!==i.indexOf("url")?"":i.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),Ge=Me.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ke(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var i=this._marker,e=i._shadow,n=bt(i._icon),o=i._map.layerPointToLatLng(n);e&&Lt(e,n),i._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),qe=We.extend({options:{icon:new Ve,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,i){l(this,i),this._latlng=C(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=C(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),e=t.icon.createIcon(this._icon),n=!1;e!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(e.title=t.title),t.alt&&(e.alt=t.alt)),pt(e,i),t.keyboard&&(e.tabIndex="0"),this._icon=e,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(pt(o,i),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(t){Lt(this._icon,t),this._shadow&&Lt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ge)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ge(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;vt(this._icon,t),this._shadow&&vt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),Ke=We.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return l(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(Hi?10:0)}}),Ye=Ke.extend({options:{fill:!0,radius:10},initialize:function(t,i){l(this,i),this._latlng=C(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=C(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Ke.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,e=this._clickTolerance(),n=[t+e,i+e];this._pxBounds=new b(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Xe=Ye.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=i({},n,{radius:e})),l(this,e),this._latlng=C(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ke.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,e=this._map,n=e.options.crs;if(n.distance===ci.distance){var o=Math.PI/180,s=this._mRadius/ci.R/o,r=e.project([i+s,t]),a=e.project([i-s,t]),h=r.add(a).divideBy(2),u=e.unproject(h).lat,l=Math.acos((Math.cos(s*o)-Math.sin(i*o)*Math.sin(u*o))/(Math.cos(i*o)*Math.cos(u*o)))/o;(isNaN(l)||0===l)&&(l=s/Math.cos(Math.PI/180*i)),this._point=h.subtract(e.getPixelOrigin()),this._radius=isNaN(l)?0:Math.max(Math.round(h.x-e.project([u,t-l]).x),1),this._radiusY=Math.max(Math.round(h.y-r.y),1)}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=e.latLngToLayerPoint(this._latlng),this._radius=this._point.x-e.latLngToLayerPoint(c).x}this._updateBounds()}}),Je=Ke.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){l(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i,e,n=1/0,o=null,s=Rt,r=0,a=this._parts.length;r<a;r++)for(var h=this._parts[r],u=1,l=h.length;u<l;u++){var c=s(t,i=h[u-1],e=h[u],!0);c<n&&(n=c,o=s(t,i,e))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,e,n,o,s,r,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,i=0;t<h-1;t++)i+=a[t].distanceTo(a[t+1])/2;if(0===i)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<h-1;t++)if(o=a[t],s=a[t+1],e=o.distanceTo(s),(n+=e)>i)return r=(n-i)/e,this._map.layerPointToLatLng([s.x-r*(s.x-o.x),s.y-r*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=C(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],e=Dt(t),n=0,o=t.length;n<o;n++)e?(i[n]=C(t[n]),this._bounds.extend(i[n])):i[n]=this._convertLatLngs(t[n]);return i},_project:function(){var t=new b;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var i=this._clickTolerance(),e=new x(i,i);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(e),t.max._add(e),this._pxBounds=t)},_projectLatlngs:function(t,i,e){var n,o,s=t[0]instanceof M,r=t.length;if(s){for(o=[],n=0;n<r;n++)o[n]=this._map.latLngToLayerPoint(t[n]),e.extend(o[n]);i.push(o)}else for(n=0;n<r;n++)this._projectLatlngs(t[n],i,e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var i,e,n,o,s,r,a,h=this._parts;for(i=0,n=0,o=this._rings.length;i<o;i++)for(e=0,s=(a=this._rings[i]).length;e<s-1;e++)(r=Bt(a[e],a[e+1],t,e,!0))&&(h[n]=h[n]||[],h[n].push(r[0]),r[1]===a[e+1]&&e!==s-2||(h[n].push(r[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,e=0,n=t.length;e<n;e++)t[e]=Ct(t[e],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var e,n,o,s,r,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(e=0,s=this._parts.length;e<s;e++)for(n=0,o=(r=(a=this._parts[e]).length)-1;n<r;o=n++)if((i||0!==n)&&Zt(t,a[o],a[n])<=h)return!0;return!1}});Je._flat=Nt;var $e=Je.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,e,n,o,s,r,a,h,u=this._rings[0],l=u.length;if(!l)return null;for(s=r=a=0,t=0,i=l-1;t<l;i=t++)e=u[t],n=u[i],o=e.y*n.x-n.y*e.x,r+=(e.x+n.x)*o,a+=(e.y+n.y)*o,s+=3*o;return h=0===s?u[0]:[r/s,a/s],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var i=Je.prototype._convertLatLngs.call(this,t),e=i.length;return e>=2&&i[0]instanceof M&&i[0].equals(i[e-1])&&i.pop(),i},_setLatLngs:function(t){Je.prototype._setLatLngs.call(this,t),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,e=new x(i,i);if(t=new b(t.min.subtract(e),t.max.add(e)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,s=this._rings.length;o<s;o++)(n=jt(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i,e,n,o,s,r,a,h,u=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(s=0,r=(h=(i=this._parts[o]).length)-1;s<h;r=s++)e=i[s],n=i[r],e.y>t.y!=n.y>t.y&&t.x<(n.x-e.x)*(t.y-e.y)/(n.y-e.y)+e.x&&(u=!u);return u||Je.prototype._containsPoint.call(this,t,!0)}}),Qe=Fe.extend({initialize:function(t,i){l(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i,e,n,o=ei(t)?t:t.features;if(o){for(i=0,e=o.length;i<e;i++)((n=o[i]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=Wt(t,s);return r?(r.feature=qt(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){"function"==typeof i&&(i=i(t.feature)),t.setStyle&&t.setStyle(i)}}),tn={toGeoJSON:function(t){return Gt(this,{type:"Point",coordinates:Ut(this.getLatLng(),t)})}};qe.include(tn),Xe.include(tn),Ye.include(tn),Je.include({toGeoJSON:function(t){var i=!Dt(this._latlngs),e=Vt(this._latlngs,i?1:0,!1,t);return Gt(this,{type:(i?"Multi":"")+"LineString",coordinates:e})}}),$e.include({toGeoJSON:function(t){var i=!Dt(this._latlngs),e=i&&!Dt(this._latlngs[0]),n=Vt(this._latlngs,e?2:i?1:0,!0,t);return i||(n=[n]),Gt(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})}}),He.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(e){i.push(e.toGeoJSON(t).geometry.coordinates)}),Gt(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===i)return this.toMultiPoint(t);var e="GeometryCollection"===i,n=[];return this.eachLayer(function(i){if(i.toGeoJSON){var o=i.toGeoJSON(t);if(e)n.push(o.geometry);else{var s=qt(o);"FeatureCollection"===s.type?n.push.apply(n,s.features):n.push(s)}}}),e?Gt(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var en=Kt,nn=We.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,e){this._url=t,this._bounds=z(i),l(this,e)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ct(this._image),this},bringToBack:function(){return this._map&&_t(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=z(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=ht("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=r,t.onmousemove=r,t.onload=e(this.fire,this,"load"),t.onerror=e(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),e=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;wt(this._image,e,i)},_reset:function(){var t=this._image,i=new b(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=i.getSize();Lt(t,i.min),t.style.width=e.x+"px",t.style.height=e.y+"px"},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),on=nn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,i=this._image=t?this._url:ht("video");if(i.class=i.class||"",i.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),i.onselectstart=r,i.onmousemove=r,i.onloadeddata=e(this.fire,this,"load"),!t){ei(this._url)||(this._url=[this._url]),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop;for(var n=0;n<this._url.length;n++){var o=ht("source");o.src=this._url[n],i.appendChild(o)}}}}),sn=We.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,i){l(this,t),this._source=i},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&vt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(e(ut,void 0,this._container),200)):ut(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=C(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ct(this._container),this},bringToBack:function(){return this._map&&_t(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,i="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof i)t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=w(this.options.offset),e=this._getAnchor();this._zoomAnimated?Lt(this._container,t.add(e)):i=i.add(t).add(e);var n=this._containerBottom=-i.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),rn=sn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){sn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ke||this._source.on("preclick",Y))},onRemove:function(t){sn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ke||this._source.off("preclick",Y))},getEvents:function(){var t=sn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",i=this._container=ht("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),e=this._wrapper=ht("div",t+"-content-wrapper",i);if(this._contentNode=ht("div",t+"-content",e),J(e),X(this._contentNode),V(e,"contextmenu",Y),this._tipContainer=ht("div",t+"-tip-container",i),this._tip=ht("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=ht("a",t+"-close-button",i);n.href="#close",n.innerHTML="&#215;",V(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var e=t.offsetWidth;e=Math.min(e,this.options.maxWidth),e=Math.max(e,this.options.minWidth),i.width=e+1+"px",i.whiteSpace="",i.height="";var n=t.offsetHeight,o=this.options.maxHeight;o&&n>o?(i.height=o+"px",pt(t,"leaflet-popup-scrolled")):mt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();Lt(this._container,i.add(e))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,i=parseInt(at(this._container,"marginBottom"),10)||0,e=this._container.offsetHeight+i,n=this._containerWidth,o=new x(this._containerLeft,-e-this._containerBottom);o._add(bt(this._container));var s=t.layerPointToContainerPoint(o),r=w(this.options.autoPanPadding),a=w(this.options.autoPanPaddingTopLeft||r),h=w(this.options.autoPanPaddingBottomRight||r),u=t.getSize(),l=0,c=0;s.x+n+h.x>u.x&&(l=s.x+n-u.x+h.x),s.x-l-a.x<0&&(l=s.x-a.x),s.y+e+h.y>u.y&&(c=s.y+e-u.y+h.y),s.y-c-a.y<0&&(c=s.y-a.y),(l||c)&&t.fire("autopanstart").panBy([l,c])}},_onCloseButtonClick:function(t){this._close(),Q(t)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ye.mergeOptions({closePopupOnClick:!0}),ye.include({openPopup:function(t,i,e){return t instanceof rn||(t=new rn(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),We.include({bindPopup:function(t,i){return t instanceof rn?(l(t,i),this._popup=t,t._source=this):(this._popup&&!i||(this._popup=new rn(i,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,i){if(t instanceof We||(i=t,t=this),t instanceof Fe)for(var e in this._layers){t=this._layers[e];break}return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,i)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var i=t.layer||t.target;this._popup&&this._map&&(Q(t),i instanceof Ke?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===i?this.closePopup():this.openPopup(i,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var an=sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){sn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){sn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=sn.prototype.getEvents.call(this);return Hi&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i=this._map,e=this._container,n=i.latLngToContainerPoint(i.getCenter()),o=i.layerPointToContainerPoint(t),s=this.options.direction,r=e.offsetWidth,a=e.offsetHeight,h=w(this.options.offset),u=this._getAnchor();"top"===s?t=t.add(w(-r/2+h.x,-a+h.y+u.y,!0)):"bottom"===s?t=t.subtract(w(r/2-h.x,-h.y,!0)):"center"===s?t=t.subtract(w(r/2+h.x,a/2-u.y+h.y,!0)):"right"===s||"auto"===s&&o.x<n.x?(s="right",t=t.add(w(h.x+u.x,u.y-a/2+h.y,!0))):(s="left",t=t.subtract(w(r+u.x-h.x,a/2-u.y-h.y,!0))),mt(e,"leaflet-tooltip-right"),mt(e,"leaflet-tooltip-left"),mt(e,"leaflet-tooltip-top"),mt(e,"leaflet-tooltip-bottom"),pt(e,"leaflet-tooltip-"+s),Lt(e,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&vt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ye.include({openTooltip:function(t,i,e){return t instanceof an||(t=new an(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),We.include({bindTooltip:function(t,i){return t instanceof an?(l(t,i),this._tooltip=t,t._source=this):(this._tooltip&&!i||(this._tooltip=new an(i,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var i=t?"off":"on",e={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?e.add=this._openTooltip:(e.mouseover=this._openTooltip,e.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(e.mousemove=this._moveTooltip),Hi&&(e.click=this._openTooltip)),this[i](e),this._tooltipHandlersAdded=!t}},openTooltip:function(t,i){if(t instanceof We||(i=t,t=this),t instanceof Fe)for(var e in this._layers){t=this._layers[e];break}return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,i),this._tooltip.options.interactive&&this._tooltip._container&&(pt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(mt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var i=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(i,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var i,e,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),e=this._map.containerPointToLayerPoint(i),n=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(n)}});var hn=Ue.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:document.createElement("div"),e=this.options;if(i.innerHTML=!1!==e.html?e.html:"",e.bgPos){var n=w(e.bgPos);i.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});Ue.Default=Ve;var un=We.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ri,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){l(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ut(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_t(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof x?t:new x(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i,e=this.getPane().children,n=-t(-1/0,1/0),o=0,s=e.length;o<s;o++)i=e[o].style.zIndex,e[o]!==this._container&&i&&(n=t(n,+i));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!wi){vt(this._container,this.options.opacity);var t=+new Date,i=!1,e=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);vt(o.el,s),s<1?i=!0:(o.active?e=!0:this._onOpaqueTile(o),o.active=!0)}}e&&!this._noPrune&&this._pruneTiles(),i&&(g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this))}},_onOpaqueTile:r,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(void 0!==t){for(var e in this._levels)this._levels[e].el.children.length||e===t?(this._levels[e].el.style.zIndex=i-Math.abs(t-e),this._onUpdateLevel(e)):(ut(this._levels[e].el),this._removeTilesAtZoom(e),this._onRemoveLevel(e),delete this._levels[e]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=i,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:r,_onRemoveLevel:r,_onCreateLevel:r,_pruneTiles:function(){if(this._map){var t,i,e=this._map.getZoom();if(e>this.options.maxZoom||e<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(i=this._tiles[t]).retain=i.current;for(t in this._tiles)if((i=this._tiles[t]).current&&!i.active){var n=i.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ut(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,i,e,n){var o=Math.floor(t/2),s=Math.floor(i/2),r=e-1,a=new x(+o,+s);a.z=+r;var h=this._tileCoordsToKey(a),u=this._tiles[h];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),r>n&&this._retainParent(o,s,r,n))},_retainChildren:function(t,i,e,n){for(var o=2*t;o<2*t+2;o++)for(var s=2*i;s<2*i+2;s++){var r=new x(o,s);r.z=e+1;var a=this._tileCoordsToKey(r),h=this._tiles[a];h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),e+1<n&&this._retainChildren(o,s,e+1,n))}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return void 0!==i.minNativeZoom&&t<i.minNativeZoom?i.minNativeZoom:void 0!==i.maxNativeZoom&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,e,n){var o=this._clampZoom(Math.round(i));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),e||this._pruneTiles(),this._noPrune=!!e),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var e in this._levels)this._setZoomTransform(this._levels[e],t,i)},_setZoomTransform:function(t,i,e){var n=this._map.getZoomScale(e,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i,e)).round();Oi?wt(t.el,o,n):Lt(t.el,o)},_resetGrid:function(){var t=this._map,i=t.options.crs,e=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],n).x/e.x),Math.ceil(t.project([0,i.wrapLng[1]],n).x/e.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],n).y/e.x),Math.ceil(t.project([i.wrapLat[1],0],n).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var i=this._map,e=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),n=i.getZoomScale(e,this._tileZoom),o=i.project(t,this._tileZoom).floor(),s=i.getSize().divideBy(2*n);return new b(o.subtract(s),o.add(s))},_update:function(t){var i=this._map;if(i){var e=this._clampZoom(i.getZoom());if(void 0===t&&(t=i.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),s=o.getCenter(),r=[],a=this.options.keepBuffer,h=new b(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var l=this._tiles[u].coords;l.z===this._tileZoom&&h.contains(new x(l.x,l.y))||(this._tiles[u].current=!1)}if(Math.abs(e-this._tileZoom)>1)this._setView(t,e);else{for(var c=o.min.y;c<=o.max.y;c++)for(var _=o.min.x;_<=o.max.x;_++){var d=new x(_,c);d.z=this._tileZoom,this._isValidTile(d)&&(this._tiles[this._tileCoordsToKey(d)]||r.push(d))}if(r.sort(function(t,i){return t.distanceTo(s)-i.distanceTo(s)}),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(_=0;_<r.length;_++)this._addTile(r[_],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var e=this._globalTileRange;if(!i.wrapLng&&(t.x<e.min.x||t.x>e.max.x)||!i.wrapLat&&(t.y<e.min.y||t.y>e.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var i=this._map,e=this.getTileSize(),n=t.scaleBy(e),o=n.add(e),s=new T(i.unproject(n,t.z),i.unproject(o,t.z));return this.options.noWrap||i.wrapLatLngBounds(s),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),e=new x(+i[0],+i[1]);return e.z=+i[2],e},_removeTile:function(t){var i=this._tiles[t];i&&(ut(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){pt(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=r,t.onmousemove=r,wi&&this.options.opacity<1&&vt(t,this.options.opacity),Pi&&!Ti&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,i){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),e(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&f(e(this._tileReady,this,t,null,s)),Lt(s,n),this._tiles[o]={el:s,coords:t,current:!0},i.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,i,n){if(this._map){i&&this.fire("tileerror",{error:i,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(vt(n.el,0),g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),i||(pt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),wi||!this._map._fadeAnimated?f(this._pruneTiles,this):setTimeout(e(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new x(this._wrapX?s(t.x,this._wrapX):t.x,this._wrapY?s(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new b(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ln=un.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,i){this._url=t,(i=l(this,i)).detectRetina&&Vi&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),"string"==typeof i.subdomains&&(i.subdomains=i.subdomains.split("")),Pi||this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url=t,i||this.redraw(),this},createTile:function(t,i){var n=document.createElement("img");return V(n,"load",e(this._tileOnLoad,this,i,n)),V(n,"error",e(this._tileOnError,this,i,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Vi?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return _(this._url,i(e,this.options))},_tileOnLoad:function(t,i){wi?setTimeout(e(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,e){var n=this.options.errorTileUrl;n&&i.src!==n&&(i.src=n),t(e,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,e=this.options.zoomReverse,n=this.options.zoomOffset;return e&&(t=i-t),t+n},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((i=this._tiles[t].el).onload=r,i.onerror=r,i.complete||(i.src=ni,ut(i)))}}),cn=ln.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var o in e)o in this.options||(n[o]=e[o]);e=l(this,e),n.width=n.height=e.tileSize*(e.detectRetina&&Vi?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,ln.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToBounds(t),e=this._crs.project(i.getNorthWest()),n=this._crs.project(i.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===Ne?[n.y,e.x,e.y,n.x]:[e.x,n.y,n.x,e.y]).join(","),s=ln.prototype.getTileUrl.call(this,t);return s+c(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});ln.WMS=cn,Yt.wms=function(t,i){return new cn(t,i)};var _n=We.extend({options:{padding:.1},initialize:function(t){l(this,t),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var e=this._map.getZoomScale(i,this._zoom),n=bt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,i),r=this._map.project(t,i).subtract(s),a=o.multiplyBy(-e).add(n).add(o).subtract(r);Oi?wt(this._container,a,e):Lt(this._container,a)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),e=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new b(e,e.add(i.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dn=_n.extend({getEvents:function(){var t=_n.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_n.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");V(t,"mousemove",o(this._onMouseMove,32,this),this),V(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),V(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,ut(this._container),G(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var t in this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},_n.prototype._update.call(this);var t=this._bounds,i=this._container,e=t.getSize(),n=Vi?2:1;Lt(i,t.min),i.width=n*e.x,i.height=n*e.y,i.style.width=e.x+"px",i.style.height=e.y+"px",Vi&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){_n.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[n(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,e=i.next,n=i.prev;e?e.prev=n:this._drawLast=n,n?n.next=e:this._drawFirst=e,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var i,e=t.options.dashArray.split(","),n=[];for(i=0;i<e.length;i++)n.push(Number(e[i]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||f(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new b,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var e=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,e.x,e.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var e,n,o,s,r=t._parts,a=r.length,h=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,h.beginPath(),e=0;e<a;e++){for(n=0,o=r[e].length;n<o;n++)s=r[e][n],h[n?"lineTo":"moveTo"](s.x,s.y);i&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var i=t._point,e=this._ctx,n=t._radius,o=(t._radiusY||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(e.save(),e.scale(1,o)),e.beginPath(),e.arc(i.x,i.y/o,n,0,2*Math.PI,!1),1!==o&&e.restore(),this._fillStroke(e,t)}},_fillStroke:function(t,i){var e=i.options;e.fill&&(t.globalAlpha=e.fillOpacity,t.fillStyle=e.fillColor||e.color,t.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=e.opacity,t.lineWidth=e.weight,t.strokeStyle=e.color,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.stroke())},_onClick:function(t){for(var i,e,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(n)&&!this._map._draggableMoved(i)&&(e=i);e&&(et(t),this._fireEvent([e],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(mt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,i){for(var e,n,o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&(n=e);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(pt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,i,e){this._map._fireDOMEvent(i,e||i.type,t)},_bringToFront:function(t){var i=t._order,e=i.next,n=i.prev;e&&(e.prev=n,n?n.next=e:e&&(this._drawFirst=e),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t))},_bringToBack:function(t){var i=t._order,e=i.next,n=i.prev;n&&(n.next=e,e?e.prev=n:n&&(this._drawLast=n),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t))}}),pn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),mn={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_n.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=pn("shape");pt(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=pn("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ut(i),t.removeInteractiveTarget(i),delete this._layers[n(t)]},_updateStyle:function(t){var i=t._stroke,e=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(i||(i=t._stroke=pn("stroke")),o.appendChild(i),i.weight=n.weight+"px",i.color=n.color,i.opacity=n.opacity,n.dashArray?i.dashStyle=ei(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=n.lineCap.replace("butt","flat"),i.joinstyle=n.lineJoin):i&&(o.removeChild(i),t._stroke=null),n.fill?(e||(e=t._fill=pn("fill")),o.appendChild(e),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(o.removeChild(e),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),e=Math.round(t._radius),n=Math.round(t._radiusY||e);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+e+","+n+" 0,23592600")},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){ct(t._container)},_bringToBack:function(t){_t(t._container)}},fn=Ki?pn:S,gn=_n.extend({getEvents:function(){var t=_n.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=fn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),G(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){_n.prototype._update.call(this);var t=this._bounds,i=t.getSize(),e=this._container;this._svgSize&&this._svgSize.equals(i)||(this._svgSize=i,e.setAttribute("width",i.x),e.setAttribute("height",i.y)),Lt(e,t.min),e.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=fn("path");t.options.className&&pt(i,t.options.className),t.options.interactive&&pt(i,"leaflet-interactive"),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ut(t._path),t.removeInteractiveTarget(t._path),delete this._layers[n(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,e=t.options;i&&(e.stroke?(i.setAttribute("stroke",e.color),i.setAttribute("stroke-opacity",e.opacity),i.setAttribute("stroke-width",e.weight),i.setAttribute("stroke-linecap",e.lineCap),i.setAttribute("stroke-linejoin",e.lineJoin),e.dashArray?i.setAttribute("stroke-dasharray",e.dashArray):i.removeAttribute("stroke-dasharray"),e.dashOffset?i.setAttribute("stroke-dashoffset",e.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),e.fill?(i.setAttribute("fill",e.fillColor||e.color),i.setAttribute("fill-opacity",e.fillOpacity),i.setAttribute("fill-rule",e.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,k(t._parts,i))},_updateCircle:function(t){var i=t._point,e=t._radius,n="a"+e+","+(t._radiusY||e)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(i.x-e)+","+i.y+n+2*e+",0 "+n+2*-e+",0 ";this._setPath(t,o)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){ct(t._path)},_bringToBack:function(t){_t(t._path)}});Ki&&gn.include(mn),ye.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this.options.preferCanvas&&Xt()||Jt()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var i=this._paneRenderers[t];return void 0===i&&(i=gn&&Jt({pane:t})||dn&&Xt({pane:t}),this._paneRenderers[t]=i),i}});var vn=$e.extend({initialize:function(t,i){$e.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=z(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});gn.create=fn,gn.pointsToPath=k,Qe.geometryToLayer=Wt,Qe.coordsToLatLng=Ht,Qe.coordsToLatLngs=Ft,Qe.latLngToCoords=Ut,Qe.latLngsToCoords=Vt,Qe.getFeature=Gt,Qe.asFeature=qt,ye.mergeOptions({boxZoom:!0});var yn=Me.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),pi(),Pt(),this._startPoint=this._map.mouseEventToContainerPoint(t),V(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new b(this._point,this._startPoint),e=i.getSize();Lt(this._box,i.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish:function(){this._moved&&(ut(this._box),mt(this._container,"leaflet-crosshair")),mi(),Tt(),G(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(e(this._resetState,this),0);var i=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});ye.addInitHook("addHandler","boxZoom",yn),ye.mergeOptions({doubleClickZoom:!0});var xn=Me.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,e=i.getZoom(),n=i.options.zoomDelta,o=t.originalEvent.shiftKey?e-n:e+n;"center"===i.options.doubleClickZoom?i.setZoom(o):i.setZoomAround(t.containerPoint,o)}});ye.addInitHook("addHandler","doubleClickZoom",xn),ye.mergeOptions({dragging:!0,inertia:!Ti,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wn=Me.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ke(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=z(this._map.options.maxBounds);this._offsetLimit=P(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e),this._times.push(i),i-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),e=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-i+e)%t+i-e,s=(n+i+e)%t-i-e,r=Math.abs(o+e)<Math.abs(s+e)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var i=this._map,e=i.options,n=!e.inertia||this._times.length<2;if(i.fire("dragend",t),n)i.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=e.easeLinearity,a=o.multiplyBy(r/s),h=a.distanceTo([0,0]),u=Math.min(e.inertiaMaxSpeed,h),l=a.multiplyBy(u/h),c=u/(e.inertiaDeceleration*r),_=l.multiplyBy(-c/2).round();_.x||_.y?(_=i._limitOffset(_,i.options.maxBounds),f(function(){i.panBy(_,{duration:c,easeLinearity:r,noMoveStart:!0,animate:!0})})):i.fire("moveend")}}});ye.addInitHook("addHandler","dragging",wn),ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ln=Me.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),V(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),G(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,e=t.scrollTop||i.scrollTop,n=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(n,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i,e,n=this._panKeys={},o=this.keyCodes;for(i=0,e=o.left.length;i<e;i++)n[o.left[i]]=[-1*t,0];for(i=0,e=o.right.length;i<e;i++)n[o.right[i]]=[t,0];for(i=0,e=o.down.length;i<e;i++)n[o.down[i]]=[0,t];for(i=0,e=o.up.length;i<e;i++)n[o.up[i]]=[0,-1*t]},_setZoomDelta:function(t){var i,e,n=this._zoomKeys={},o=this.keyCodes;for(i=0,e=o.zoomIn.length;i<e;i++)n[o.zoomIn[i]]=t;for(i=0,e=o.zoomOut.length;i<e;i++)n[o.zoomOut[i]]=-t},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){G(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i,e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;i=this._panKeys[e],t.shiftKey&&(i=w(i).multiplyBy(3)),n.panBy(i),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e||!n._popup)return;n.closePopup()}Q(t)}}});ye.addInitHook("addHandler","keyboard",Ln),ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bn=Me.extend({addHooks:function(){V(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){G(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=it(t),n=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(e(this._performZoom,this),o),Q(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),e=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=e?Math.ceil(o/e)*e:o,r=t._limitZoom(i+(this._delta>0?s:-s))-i;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(i+r):t.setZoomAround(this._lastMousePos,i+r))}});ye.addInitHook("addHandler","scrollWheelZoom",bn),ye.mergeOptions({tap:!0,tapTolerance:15});var Pn=Me.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if($(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new x(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&pt(n,"leaflet-active"),this._holdTimeout=setTimeout(e(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),this._simulateEvent("mousedown",i),V(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),G(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],e=i.target;e&&e.tagName&&"a"===e.tagName.toLowerCase()&&mt(e,"leaflet-active"),this._simulateEvent("mouseup",i),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var i=t.touches[0];this._newPos=new x(i.clientX,i.clientY),this._simulateEvent("mousemove",i)},_simulateEvent:function(t,i){var e=document.createEvent("MouseEvents");e._simulated=!0,i.target._simulatedClick=!0,e.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(e)}});Hi&&!Wi&&ye.addInitHook("addHandler","tap",Pn),ye.mergeOptions({touchZoom:Hi&&!Ti,bounceAtZoomLimits:!0});var Tn=Me.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var e=i.mouseEventToContainerPoint(t.touches[0]),n=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),V(document,"touchmove",this._onTouchMove,this),V(document,"touchend",this._onTouchEnd,this),$(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var i=this._map,n=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]),s=n.distanceTo(o)/this._startDist;if(this._zoom=i.getScaleZoom(s,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&s<1||this._zoom>i.getMaxZoom()&&s>1)&&(this._zoom=i._limitZoom(this._zoom)),"center"===i.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(i._moveStart(!0),this._moved=!0),g(this._animRequest);var a=e(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=f(a,this,!0),$(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,g(this._animRequest),G(document,"touchmove",this._onTouchMove),G(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ye.addInitHook("addHandler","touchZoom",Tn),ye.BoxZoom=yn,ye.DoubleClickZoom=xn,ye.Drag=wn,ye.Keyboard=Ln,ye.ScrollWheelZoom=bn,ye.Tap=Pn,ye.TouchZoom=Tn;var zn=window.L;window.L=t,Object.freeze=$t,t.version="1.2.0+HEAD.1ac320b",t.noConflict=function(){return window.L=zn,this},t.Control=xe,t.control=we,t.Browser=Yi,t.Evented=ui,t.Mixin=Ce,t.Util=ai,t.Class=v,t.Handler=Me,t.extend=i,t.bind=e,t.stamp=n,t.setOptions=l,t.DomEvent=le,t.DomUtil=ge,t.PosAnimation=ve,t.Draggable=ke,t.LineUtil=Be,t.PolyUtil=Ie,t.Point=x,t.point=w,t.Bounds=b,t.bounds=P,t.Transformation=Z,t.transformation=E,t.Projection=Re,t.LatLng=M,t.latLng=C,t.LatLngBounds=T,t.latLngBounds=z,t.CRS=li,t.GeoJSON=Qe,t.geoJSON=Kt,t.geoJson=en,t.Layer=We,t.LayerGroup=He,t.layerGroup=function(t){return new He(t)},t.FeatureGroup=Fe,t.featureGroup=function(t){return new Fe(t)},t.ImageOverlay=nn,t.imageOverlay=function(t,i,e){return new nn(t,i,e)},t.VideoOverlay=on,t.videoOverlay=function(t,i,e){return new on(t,i,e)},t.DivOverlay=sn,t.Popup=rn,t.popup=function(t,i){return new rn(t,i)},t.Tooltip=an,t.tooltip=function(t,i){return new an(t,i)},t.Icon=Ue,t.icon=function(t){return new Ue(t)},t.DivIcon=hn,t.divIcon=function(t){return new hn(t)},t.Marker=qe,t.marker=function(t,i){return new qe(t,i)},t.TileLayer=ln,t.tileLayer=Yt,t.GridLayer=un,t.gridLayer=function(t){return new un(t)},t.SVG=gn,t.svg=Jt,t.Renderer=_n,t.Canvas=dn,t.canvas=Xt,t.Path=Ke,t.CircleMarker=Ye,t.circleMarker=function(t,i){return new Ye(t,i)},t.Circle=Xe,t.circle=function(t,i,e){return new Xe(t,i,e)},t.Polyline=Je,t.polyline=function(t,i){return new Je(t,i)},t.Polygon=$e,t.polygon=function(t,i){return new $e(t,i)},t.Rectangle=vn,t.rectangle=function(t,i){return new vn(t,i)},t.Map=ye,t.map=function(t,i){return new ye(t,i)}}),function(t){var e;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("object"==typeof module&&"object"==typeof module.exports)e=require("leaflet"),module.exports=t(e);else{if(void 0===window.L)throw new Error("Leaflet must be loaded first");t(window.L)}}(function(t){t.Map.mergeOptions({contextmenuItems:[]}),t.Map.ContextMenu=t.Handler.extend({_touchstart:t.Browser.msPointer?"MSPointerDown":t.Browser.pointer?"pointerdown":"touchstart",statics:{BASE_CLS:"leaflet-contextmenu"},initialize:function(e){t.Handler.prototype.initialize.call(this,e),this._items=[],this._visible=!1;var n=this._container=t.DomUtil.create("div",t.Map.ContextMenu.BASE_CLS,e._container);n.style.zIndex=1e4,n.style.position="absolute",e.options.contextmenuWidth&&(n.style.width=e.options.contextmenuWidth+"px"),this._createItems(),t.DomEvent.on(n,"click",t.DomEvent.stop).on(n,"mousedown",t.DomEvent.stop).on(n,"dblclick",t.DomEvent.stop).on(n,"contextmenu",t.DomEvent.stop)},addHooks:function(){var e=this._map.getContainer();t.DomEvent.on(e,"mouseleave",this._hide,this).on(document,"keydown",this._onKeyDown,this),t.Browser.touch&&t.DomEvent.on(document,this._touchstart,this._hide,this),this._map.on({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},removeHooks:function(){var e=this._map.getContainer();t.DomEvent.off(e,"mouseleave",this._hide,this).off(document,"keydown",this._onKeyDown,this),t.Browser.touch&&t.DomEvent.off(document,this._touchstart,this._hide,this),this._map.off({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},showAt:function(e,n){e instanceof t.LatLng&&(e=this._map.latLngToContainerPoint(e)),this._showAtPoint(e,n)},hide:function(){this._hide()},addItem:function(t){return this.insertItem(t)},insertItem:function(t,e){e=void 0!==e?e:this._items.length;var n=this._createItem(this._container,t,e);return this._items.push(n),this._sizeChanged=!0,this._map.fire("contextmenu.additem",{contextmenu:this,el:n.el,index:e}),n.el},removeItem:function(e){var n=this._container;return isNaN(e)||(e=n.children[e]),e?(this._removeItem(t.Util.stamp(e)),this._sizeChanged=!0,this._map.fire("contextmenu.removeitem",{contextmenu:this,el:e}),e):null},removeAllItems:function(){for(var n,e=this._container.children;e.length;)n=e[0],this._removeItem(t.Util.stamp(n));return e},hideAllItems:function(){var e,n;for(e=0,n=this._items.length;e<n;e++)this._items[e].el.style.display="none"},showAllItems:function(){var e,n;for(e=0,n=this._items.length;e<n;e++)this._items[e].el.style.display=""},setDisabled:function(e,n){var i=this._container,o=t.Map.ContextMenu.BASE_CLS+"-item";isNaN(e)||(e=i.children[e]),e&&t.DomUtil.hasClass(e,o)&&(n?(t.DomUtil.addClass(e,o+"-disabled"),this._map.fire("contextmenu.disableitem",{contextmenu:this,el:e})):(t.DomUtil.removeClass(e,o+"-disabled"),this._map.fire("contextmenu.enableitem",{contextmenu:this,el:e})))},isVisible:function(){return this._visible},_createItems:function(){var n,i,t=this._map.options.contextmenuItems;for(n=0,i=t.length;n<i;n++)this._items.push(this._createItem(this._container,t[n]))},_createItem:function(e,n,i){if(n.separator||"-"===n)return this._createSeparator(e,i);var o=t.Map.ContextMenu.BASE_CLS+"-item",s=n.disabled?o+" "+o+"-disabled":o,h=this._insertElementAt("a",s,e,i),r=this._createEventHandler(h,n.callback,n.context,n.hideOnSelect),a=this._getIcon(n),m=this._getIconCls(n),u="";return a?u='<img class="'+t.Map.ContextMenu.BASE_CLS+'-icon" src="'+a+'"/>':m&&(u='<span class="'+t.Map.ContextMenu.BASE_CLS+"-icon "+m+'"></span>'),h.innerHTML=u+n.text,h.href="#",t.DomEvent.on(h,"mouseover",this._onItemMouseOver,this).on(h,"mouseout",this._onItemMouseOut,this).on(h,"mousedown",t.DomEvent.stopPropagation).on(h,"click",r),t.Browser.touch&&t.DomEvent.on(h,this._touchstart,t.DomEvent.stopPropagation),t.Browser.pointer||t.DomEvent.on(h,"click",this._onItemMouseOut,this),{id:t.Util.stamp(h),el:h,callback:r}},_removeItem:function(e){var n,i,o,s,h;for(o=0,s=this._items.length;o<s;o++)if((n=this._items[o]).id===e)return i=n.el,(h=n.callback)&&(t.DomEvent.off(i,"mouseover",this._onItemMouseOver,this).off(i,"mouseover",this._onItemMouseOut,this).off(i,"mousedown",t.DomEvent.stopPropagation).off(i,"click",h),t.Browser.touch&&t.DomEvent.off(i,this._touchstart,t.DomEvent.stopPropagation),t.Browser.pointer||t.DomEvent.on(i,"click",this._onItemMouseOut,this)),this._container.removeChild(i),this._items.splice(o,1),n;return null},_createSeparator:function(e,n){var i=this._insertElementAt("div",t.Map.ContextMenu.BASE_CLS+"-separator",e,n);return{id:t.Util.stamp(i),el:i}},_createEventHandler:function(e,n,i,o){var s=this,h=this._map,r=t.Map.ContextMenu.BASE_CLS+"-item-disabled";o=void 0===o||o;return function(a){t.DomUtil.hasClass(e,r)||(o&&s._hide(),n&&n.call(i||h,s._showLocation),s._map.fire("contextmenu.select",{contextmenu:s,el:e}))}},_insertElementAt:function(t,e,n,i){var o,s=document.createElement(t);return s.className=e,void 0!==i&&(o=n.children[i]),o?n.insertBefore(s,o):n.appendChild(s),s},_show:function(t){this._showAtPoint(t.containerPoint,t)},_showAtPoint:function(e,n){if(this._items.length){var i=this._map,o=i.containerPointToLayerPoint(e),s=i.layerPointToLatLng(o),h=t.extend(n||{},{contextmenu:this});this._showLocation={latlng:s,layerPoint:o,containerPoint:e},n&&n.relatedTarget&&(this._showLocation.relatedTarget=n.relatedTarget),this._setPosition(e),this._visible||(this._container.style.display="block",this._visible=!0),this._map.fire("contextmenu.show",h)}},_hide:function(){this._visible&&(this._visible=!1,this._container.style.display="none",this._map.fire("contextmenu.hide",{contextmenu:this}))},_getIcon:function(e){return t.Browser.retina&&e.retinaIcon||e.icon},_getIconCls:function(e){return t.Browser.retina&&e.retinaIconCls||e.iconCls},_setPosition:function(e){var s,n=this._map.getSize(),i=this._container,o=this._getElementSize(i);this._map.options.contextmenuAnchor&&(s=t.point(this._map.options.contextmenuAnchor),e=e.add(s)),i._leaflet_pos=e,e.x+o.x>n.x?(i.style.left="auto",i.style.right=Math.min(Math.max(n.x-e.x,0),n.x-o.x-1)+"px"):(i.style.left=Math.max(e.x,0)+"px",i.style.right="auto"),e.y+o.y>n.y?(i.style.top="auto",i.style.bottom=Math.min(Math.max(n.y-e.y,0),n.y-o.y-1)+"px"):(i.style.top=Math.max(e.y,0)+"px",i.style.bottom="auto")},_getElementSize:function(t){var e=this._size,n=t.style.display;return e&&!this._sizeChanged||(e={},t.style.left="-999999px",t.style.right="auto",t.style.display="block",e.x=t.offsetWidth,e.y=t.offsetHeight,t.style.left="auto",t.style.display=n,this._sizeChanged=!1),e},_onKeyDown:function(t){27===t.keyCode&&this._hide()},_onItemMouseOver:function(e){t.DomUtil.addClass(e.target||e.srcElement,"over")},_onItemMouseOut:function(e){t.DomUtil.removeClass(e.target||e.srcElement,"over")}}),t.Map.addInitHook("addHandler","contextmenu",t.Map.ContextMenu),t.Mixin.ContextMenu={bindContextMenu:function(e){return t.setOptions(this,e),this._initContextMenu(),this},unbindContextMenu:function(){return this.off("contextmenu",this._showContextMenu,this),this},addContextMenuItem:function(t){this.options.contextmenuItems.push(t)},removeContextMenuItemWithIndex:function(t){for(var e=[],n=0;n<this.options.contextmenuItems.length;n++)this.options.contextmenuItems[n].index==t&&e.push(n);for(var i=e.pop();void 0!==i;)this.options.contextmenuItems.splice(i,1),i=e.pop()},replaceContextMenuItem:function(t){this.removeContextMenuItemWithIndex(t.index),this.addContextMenuItem(t)},_initContextMenu:function(){this._items=[],this.on("contextmenu",this._showContextMenu,this)},_showContextMenu:function(e){var n,i,o,s,h;if(this._map.contextmenu){for(i=t.extend({relatedTarget:this},e),o=this._map.mouseEventToContainerPoint(e.originalEvent),this.options.contextmenuInheritItems||this._map.contextmenu.hideAllItems(),s=0,h=this.options.contextmenuItems.length;s<h;s++)n=this.options.contextmenuItems[s],this._items.push(this._map.contextmenu.insertItem(n,n.index));this._map.once("contextmenu.hide",this._hideContextMenu,this),this._map.contextmenu.showAt(o,i)}},_hideContextMenu:function(){var t,e;for(t=0,e=this._items.length;t<e;t++)this._map.contextmenu.removeItem(this._items[t]);this._items.length=0,this.options.contextmenuInheritItems||this._map.contextmenu.showAllItems()}};var i,o,s,e=[t.Marker,t.Path],n={contextmenu:!1,contextmenuItems:[],contextmenuInheritItems:!0};for(o=0,s=e.length;o<s;o++)(i=e[o]).prototype.options?i.mergeOptions(n):i.prototype.options=n,i.addInitHook(function(){this.options.contextmenu&&this._initContextMenu()}),i.include(t.Mixin.ContextMenu);return t.Map.ContextMenu}),function(e,t,i){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,i=this._zoom;if(e.__parent)for(;t.__parent._zoom>=i;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var i,n=this._featureGroup,r=this._nonPointGroup,s=this.options.chunkedLoading,o=this.options.chunkInterval,a=this.options.chunkProgress,h=e.length,l=0,u=!0;if(this._map){var _=(new Date).getTime(),d=L.bind(function(){for(var c=(new Date).getTime();h>l;l++){if(s&&0==l%200){if((new Date).getTime()-c>o)break}if((i=e[l])instanceof L.LayerGroup)u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(i,e),h=e.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),t||this.fire("layeradd",{layer:i}),i.__parent&&2===i.__parent.getChildCount())){var f=i.__parent.getAllChildMarkers(),m=f[0]===i?f[1]:f[0];n.removeLayer(m)}}else r.addLayer(i),t||this.fire("layeradd",{layer:i})}a&&a(l,h,(new Date).getTime()-_),l===h?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else for(var c=this._needsClustering;h>l;l++)(i=e[l])instanceof L.LayerGroup?(u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(i,e),h=e.length):i.getLatLng?this.hasLayer(i)||c.push(i):r.addLayer(i);return this},removeLayers:function(e){var t,i,n=e.length,r=this._featureGroup,s=this._nonPointGroup,o=!0;if(!this._map){for(t=0;n>t;t++)(i=e[t])instanceof L.LayerGroup?(o&&(e=e.slice(),o=!1),this._extractNonGroupLayers(i,e),n=e.length):(this._arraySplice(this._needsClustering,i),s.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var a=e.slice(),h=n;for(t=0;h>t;t++)(i=a[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),h=a.length):this._unspiderfyLayer(i)}for(t=0;n>t;t++)(i=e[t])instanceof L.LayerGroup?(o&&(e=e.slice(),o=!1),this._extractNonGroupLayers(i,e),n=e.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),r.hasLayer(i)&&(r.removeLayer(i),i.clusterShow&&i.clusterShow())):(s.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var i,n,r,s=this._needsClustering.slice(),o=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),n=s.length-1;n>=0;n--){for(i=!0,r=o.length-1;r>=0;r--)if(o[r].layer===s[n]){i=!1;break}i&&e.call(t,s[n])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer(function(i){L.stamp(i)===e&&(t=i)}),t},hasLayer:function(e){if(!e)return!1;var t,i=this._needsClustering;for(t=i.length-1;t>=0;t--)if(i[t]===e)return!0;for(t=(i=this._needsRemoving).length-1;t>=0;t--)if(i[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var i=function(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var t,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,i=this._needsRemoving.length;i>t;t++)n=this._needsRemoving[t],n.newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(t=0,i=this._needsRemoving.length;i>t;t++)n=this._needsRemoving[t],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var i=e.length-1;i>=0;i--)if(e[i]===t)return e.splice(i,1),!0},_removeFromGridUnclustered:function(e,t){for(var i=this._map,n=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());t>=r&&n[t].removeObject(e,i.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,i){e._latlng=t,this.removeLayer(e),e._latlng=i,this.addLayer(e)},_childMarkerDragEnd:function(e){e.target.__dragStart&&this._moveChild(e.target,e.target.__dragStart,e.target._latlng),delete e.target.__dragStart},_removeLayer:function(e,t,i){var n=this._gridClusters,r=this._gridUnclustered,s=this._featureGroup,o=this._map,a=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var h,l=e.__parent,u=l._markers;for(this._arraySplice(u,e);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)t&&l._childCount<=1?(h=l._markers[0]===e?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,o.project(l._cLatLng,l._zoom)),r[l._zoom].addObject(h,o.project(h.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(h),h.__parent=l.__parent,l._icon&&(s.removeLayer(l),i||s.addLayer(h))):l._iconNeedsUpdate=!0,l=l.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,i){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,i)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),i=" marker-cluster-";return i+=10>t?"small":100>t?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(t||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,i=t;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(e||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var r=e;r>=t;r--)this._gridClusters[r]=new L.DistanceGrid(n(r)),this._gridUnclustered[r]=new L.DistanceGrid(n(r));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var i,n,r=this._gridClusters,s=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=o;t--){i=this._map.project(e.getLatLng(),t);var a=r[t].getNearObject(i);if(a)return a._addChild(e),void(e.__parent=a);if(a=s[t].getNearObject(i)){var h=a.__parent;h&&this._removeLayer(a,!1);var l=new this._markerCluster(this,t,a,e);r[t].addObject(l,this._map.project(l._cLatLng,t)),a.__parent=l,e.__parent=l;var u=l;for(n=t-1;n>h._zoom;n--)u=new this._markerCluster(this,n,u),r[n].addObject(u,this._map.project(a.getLatLng(),n));return h._addChild(u),void this._removeFromGridUnclustered(a,t)}s[t].addObject(e,i)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()})},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return t!==i&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var i=t.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var i,n=e.getLayers(),r=0;for(t=t||[];r<n.length;r++)(i=n[r])instanceof L.LayerGroup?this._extractNonGroupLayers(i,t):t.push(i);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var i,n=this._getExpandedVisibleBounds(),r=this._featureGroup,s=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(n,e,s,function(s){var o,a=s._latlng,h=s._markers;for(n.contains(a)||(a=null),s._isSingleParent()&&e+1===t?(r.removeLayer(s),s._recursivelyAddChildrenToMap(null,t,n)):(s.clusterHide(),s._recursivelyAddChildrenToMap(a,t,n)),i=h.length-1;i>=0;i--)o=h[i],n.contains(o._latlng)||r.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,t),r.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()}),this._topClusterLevel._recursively(n,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(n,e,s,function(e){r.removeLayer(e),e.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var i=this,n=this._featureGroup;n.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue(function(){n.removeLayer(e),e.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,i){var n=this._getExpandedVisibleBounds(),r=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(n,r,t+1,i);var s=this;this._forceLayout(),e._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===e._childCount){var o=e._markers[0];this._ignoreMove=!0,o.setLatLng(o.getLatLng()),this._ignoreMove=!1,o.clusterShow&&o.clusterShow()}else e._recursively(n,i,r,function(e){e._recursivelyRemoveChildrenFromMap(n,r,t+1)});s._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(t.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)},L.MarkerCluster=L.Marker.extend({initialize:function(e,t,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(e){e=e||[];for(var t=this._childClusters.length-1;t>=0;t--)this._childClusters[t].getAllChildMarkers(e);for(var i=this._markers.length-1;i>=0;i--)e.push(this._markers[i]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,i=this._childClusters.slice(),n=this._group._map,r=n.getBoundsZoom(this._bounds),s=this._zoom+1,o=n.getZoom();i.length>0&&r>s;){s++;var a=[];for(t=0;t<i.length;t++)a=a.concat(i[t]._childClusters);i=a}r>s?this._group._map.setView(this._latlng,s):o>=r?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,i,n,r=this._markers,s=this._childClusters,o=0,a=0,h=this._childCount;if(0!==h){for(this._resetBounds(),e=0;e<r.length;e++)i=r[e]._latlng,this._bounds.extend(i),o+=i.lat,a+=i.lng;for(e=0;e<s.length;e++)(t=s[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),i=t._wLatLng,n=t._childCount,o+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(o/h,a/h),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,i){this._recursively(e,this._group._map.getMinZoom(),i-1,function(e){var i,n,r=e._markers;for(i=r.length-1;i>=0;i--)(n=r[i])._icon&&(n._setPos(t),n.clusterHide())},function(e){var i,n,r=e._childClusters;for(i=r.length-1;i>=0;i--)(n=r[i])._icon&&(n._setPos(t),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,i,n){this._recursively(e,n,t,function(r){r._recursivelyAnimateChildrenIn(e,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),i),r._isSingleParent()&&i-1===n?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(e,t,i)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,function(e){e.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,i){this._recursively(i,this._group._map.getMinZoom()-1,t,function(n){if(t!==n._zoom)for(var r=n._markers.length-1;r>=0;r--){var s=n._markers[r];i.contains(s._latlng)&&(e&&(s._backupLatlng=s.getLatLng(),s.setLatLng(e),s.clusterHide&&s.clusterHide()),n._group._featureGroup.addLayer(s))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var i=this._markers[t];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(e-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,i,n){var r,s;this._recursively(e,t-1,i-1,function(e){for(s=e._markers.length-1;s>=0;s--)r=e._markers[s],n&&n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(e){for(s=e._childClusters.length-1;s>=0;s--)r=e._childClusters[s],n&&n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(e,t,i,n,r){var s,o,a=this._childClusters,h=this._zoom;if(h>=t&&(n&&n(this),r&&h===i&&r(this)),t>h||i>h)for(s=a.length-1;s>=0;s--)o=a[s],e.intersects(o._bounds)&&o._recursively(e,t,i,n,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var e=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,e}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var i=this._getCoord(t.x),n=this._getCoord(t.y),r=this._grid,s=r[n]=r[n]||{},o=s[i]=s[i]||[],a=L.Util.stamp(e);this._objectPoint[a]=t,o.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var i,n,r=this._getCoord(t.x),s=this._getCoord(t.y),o=this._grid,a=o[s]=o[s]||{},h=a[r]=a[r]||[];for(delete this._objectPoint[L.Util.stamp(e)],i=0,n=h.length;n>i;i++)if(h[i]===e)return h.splice(i,1),1===n&&delete a[r],!0},eachObject:function(e,t){var i,n,r,s,o,a,l=this._grid;for(i in l){o=l[i];for(n in o)for(a=o[n],r=0,s=a.length;s>r;r++)e.call(t,a[r])&&(r--,s--)}},getNearObject:function(e){var t,i,n,r,s,o,a,h,l=this._getCoord(e.x),u=this._getCoord(e.y),_=this._objectPoint,d=this._sqCellSize,c=null;for(t=u-1;u+1>=t;t++)if(r=this._grid[t])for(i=l-1;l+1>=i;i++)if(s=r[i])for(n=0,o=s.length;o>n;n++)a=s[n],h=this._sqDist(_[L.Util.stamp(a)],e),(d>h||d>=h&&null===c)&&(d=h,c=a);return c},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}},L.QuickHull={getDistant:function(e,t){var i=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+i*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var i,n,r,s=0,o=null,a=[];for(i=t.length-1;i>=0;i--)n=t[i],(r=this.getDistant(n,e))>0&&(a.push(n),r>s&&(s=r,o=n));return{maxPoint:o,newPoints:a}},buildConvexHull:function(e,t){var i=[],n=this.findMostDistantPointFromBaseLine(e,t);return n.maxPoint?(i=i.concat(this.buildConvexHull([e[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,e[1]],n.newPoints))):[e[0]]},getConvexHull:function(e){var t,i=!1,n=!1,r=!1,s=!1,o=null,a=null,h=null,l=null,u=null,_=null;for(t=e.length-1;t>=0;t--){var d=e[t];(!1===i||d.lat>i)&&(o=d,i=d.lat),(!1===n||d.lat<n)&&(a=d,n=d.lat),(!1===r||d.lng>r)&&(h=d,r=d.lng),(!1===s||d.lng<s)&&(l=d,s=d.lng)}n!==i?(_=a,u=o):(_=l,u=h);return[].concat(this.buildConvexHull([_,u],e),this.buildConvexHull([u,_],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,i=this.getAllChildMarkers(),n=[];for(t=i.length-1;t>=0;t--)e=i[t].getLatLng(),n.push(e);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(),r=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,r):(r.y+=10,e=this._generatePointsCircle(t.length,r)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var i,n,s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,o=this._2PI/e,a=[];for(a.length=e,i=e-1;i>=0;i--)n=this._circleStartAngle+i*o,a[i]=new L.Point(t.x+s*Math.cos(n),t.y+s*Math.sin(n))._round();return a},_generatePointsSpiral:function(e,t){var i,n=this._group.options.spiderfyDistanceMultiplier,r=n*this._spiralLengthStart,s=n*this._spiralFootSeparation,o=n*this._spiralLengthFactor*this._2PI,a=0,h=[];for(h.length=e,i=e-1;i>=0;i--)a+=s/r+5e-4*i,h[i]=new L.Point(t.x+r*Math.cos(a),t.y+r*Math.sin(a))._round(),r+=o/a;return h},_noanimationUnspiderfy:function(){var e,t,i=this._group,n=i._map,r=i._featureGroup,s=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),t=s.length-1;t>=0;t--)e=s[t],r.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(n.removeLayer(e._spiderLeg),delete e._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:s}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var i,n,r,s,o=this._group,a=o._map,h=o._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(o._ignoreMove=!0,i=0;i<e.length;i++)s=a.layerPointToLatLng(t[i]),n=e[i],r=new L.Polyline([this._latlng,s],l),a.addLayer(r),n._spiderLeg=r,n._preSpiderfyLatlng=n._latlng,n.setLatLng(s),n.setZIndexOffset&&n.setZIndexOffset(1e6),h.addLayer(n);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,r,s,o,a,h,l=this,u=this._group,_=u._map,d=u._featureGroup,c=this._latlng,p=_.latLngToLayerPoint(c),f=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),g=m.opacity;for(g===i&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=g,u._ignoreMove=!0,n=0;n<e.length;n++)r=e[n],h=_.layerPointToLatLng(t[n]),s=new L.Polyline([c,h],m),_.addLayer(s),r._spiderLeg=s,f&&(o=s._path,a=o.getTotalLength()+.1,o.style.strokeDasharray=a,o.style.strokeDashoffset=a),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),d.addLayer(r),r._setPos&&r._setPos(p);for(u._forceLayout(),u._animationStart(),n=e.length-1;n>=0;n--)h=_.layerPointToLatLng(t[n]),r=e[n],r._preSpiderfyLatlng=r._latlng,r.setLatLng(h),r.clusterShow&&r.clusterShow(),f&&(s=r._spiderLeg,o=s._path,o.style.strokeDashoffset=0,s.setStyle({opacity:g}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:l,markers:e})},200)},_animationUnspiderfy:function(e){var t,i,n,r,s,o,a=this,h=this._group,l=h._map,u=h._featureGroup,_=e?l._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):l.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(),c=L.Path.SVG;for(h._ignoreMove=!0,h._animationStart(),this.setOpacity(1),i=d.length-1;i>=0;i--)(t=d[i])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,o=!0,t._setPos&&(t._setPos(_),o=!1),t.clusterHide&&(t.clusterHide(),o=!1),o&&u.removeLayer(t),c&&(n=t._spiderLeg,r=n._path,s=r.getTotalLength()+.1,r.style.strokeDashoffset=s,n.setStyle({opacity:0})));h._ignoreMove=!1,setTimeout(function(){var e=0;for(i=d.length-1;i>=0;i--)(t=d[i])._spiderLeg&&e++;for(i=d.length-1;i>=0;i--)(t=d[i])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&u.removeLayer(t),l.removeLayer(t._spiderLeg),delete t._spiderLeg);h._animationEnd(),h.fire("unspiderfied",{cluster:a,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,i;for(t in e)for(i=e[t].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,i;for(t in e)i=e[t],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(e,t){var i=this.options.icon;return L.setOptions(i,e),this.setIcon(i),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.agGrid=t():e.agGrid=t()}(this,function(){return function(e){function t(o){if(i[o])return i[o].exports;var r=i[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){t.Grid=i(1).Grid,t.GridApi=i(43).GridApi,t.Events=i(5).Events,t.ComponentUtil=i(4).ComponentUtil,t.ColumnController=i(14).ColumnController,t.initialiseAgGridWithAngular1=i(65).initialiseAgGridWithAngular1,t.initialiseAgGridWithWebComponents=i(66).initialiseAgGridWithWebComponents,t.defaultGroupComparator=i(19).defaultGroupComparator,t.GridOptions=i(67).GridOptions,t.AbstractColDef=i(68).AbstractColDef,t.ColDef=i(68).ColDef,t.ColGroupDef=i(68).ColGroupDef,t.Column=i(8).Column,t.ColumnGroup=i(15).ColumnGroup,t.ColumnGroupChild=i(69).ColumnGroupChild,t.OriginalColumnGroup=i(17).OriginalColumnGroup,t.OriginalColumnGroupChild=i(70).OriginalColumnGroupChild,t.RowNode=i(71).RowNode,t.SetFilterParameters=i(72).SetFilterParameters,t.TextAndNumberFilterParameters=i(73).TextAndNumberFilterParameters,i(74),i(78),i(80),i(82)},function(e,t,i){var o=i(2),r=i(7),n=i(10),s=i(11),l=i(12),a=i(13),d=i(14),u=i(20),p=i(28),h=i(33),c=i(38),g=i(39),f=i(9),v=i(40),y=i(41),C=i(43),m=i(3),w=i(45),E=i(46),R=i(48),b=i(49),S=i(50),O=i(51),P=i(52),A=i(53),L=i(54),T=i(55),x=i(56),D=i(5),F=i(57),G=i(42),N=i(64),_=function(){function e(e,t,i,o,r,n){void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=null),this.virtualRowListeners={virtualRowRemoved:{},virtualRowSelected:{}},e||console.warn("ag-Grid: no div element provided to the grid"),t||console.warn("ag-Grid: no gridOptions provided to the grid"),this.gridOptions=t,this.setupComponents(o,r,e,i),this.gridOptions.api=new C.GridApi(this,this.rowRenderer,this.headerRenderer,this.filterManager,this.columnController,this.inMemoryRowController,this.selectionController,this.gridOptionsWrapper,this.gridPanel,this.valueService,this.masterSlaveService,this.eventService,this.floatingRowModel),this.gridOptions.columnApi=this.columnController.getColumnApi();var s=this;o&&o.$watch(n,function(e){s.onQuickFilterChanged(e)}),this.gridOptionsWrapper.isForPrint()||this.addWindowResizeListener(),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getRowData()),this.setupColumns(),this.updateModelAndRefresh(m.default.STEP_EVERYTHING),this.decideStartingOverlay(),this.gridOptionsWrapper.getDatasource()&&this.setDatasource(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout();var l={api:t.api,columnApi:t.columnApi};this.eventService.dispatchEvent(D.Events.EVENT_GRID_READY,l),this.logger.log("initialised")}return e.prototype.decideStartingOverlay=function(){if(!this.gridOptionsWrapper.isVirtualPaging()){var t=!this.gridOptionsWrapper.getRowData(),i=this.gridOptionsWrapper.getRowData()&&0==this.gridOptionsWrapper.getRowData().length;t&&this.showLoadingOverlay(),i&&this.showNoRowsOverlay()}},e.prototype.addWindowResizeListener=function(){var e=this;this.windowResizeListener=function(){e.doLayout()},window.addEventListener("resize",this.windowResizeListener)},e.prototype.getRowModel=function(){return this.rowModel},e.prototype.periodicallyDoLayout=function(){if(!this.finished){var e=this;setTimeout(function(){e.doLayout(),e.gridPanel.periodicallyCheck(),e.periodicallyDoLayout()},500)}},e.prototype.setupComponents=function(e,t,i,C){this.eUserProvidedDiv=i;var m=new N.DragService,_=new w.default,M=new l.default,I=new E.default,V=new R.default,H=new f.default,W=new o.default,k=new a.default,B=new h.default,U=new b.default,q=new d.ColumnController,z=new u.default,j=new p.default,K=new r.default,Y=new s.default,$=new S.default,Q=new O.default,X=new y.default,Z=new P.default,J=new c.default,ee=new A.default,te=new g.default,ie=new L.LoggerFactory,oe=new v.default,re=new T.default,ne=new x.default;W.init(this.gridOptions,H),ie.init(W),this.logger=ie.create("Grid"),this.logger.log("initialising"),_.init(W),M.init(W),re.init(W),ne.init(z,X),oe.init(ie),H.init(ie),X.init(W,q,z,te,ie,M),Q.init(e),$.init(ie),k.init(this,X,W,e,z,H),B.init(this,W,t,e,q,Z,J),U.init(this,k),I.init(W,ie,re),V.init(re),q.init(this,U,W,$,J,te,H,I,V,re,ne,ie),z.init(q,W,X,this,U,t,e,k,$,Q,J,H,M),j.init(W,q,X,this,B,e,t,_,m),K.init(W,q,this,B,e,ee,J,H),Y.init(z,W,this),J.init(W,$,q),ee.init(J,W),te.init(W,q,X,ie,H),C&&H.addGlobalListener(C);var se=null,le=null;W.isForPrint()||(le=new F.default,se=le.layout,le.init(q,K,W,Z,H,oe));var ae=K.getModel();k.setRowModel(ae),B.setRowModel(ae),z.setRowModel(ae),X.setRowModel(ae);var de=null,ue=null;W.isForPrint()||((de=new n.default).init(this,W),ue=de.getGui()),this.rowModel=ae,this.usingInMemoryModel=!0,this.selectionController=k,this.columnController=q,this.inMemoryRowController=K,this.virtualPageRowController=Y,this.rowRenderer=z,this.headerRenderer=j,this.paginationController=de,this.filterManager=B,this.toolPanel=le,this.gridPanel=X,this.valueService=J,this.masterSlaveService=te,this.eventService=H,this.gridOptionsWrapper=W,this.dragAndDropService=oe,this.floatingRowModel=M,this.eRootPanel=new G.default({center:X.getLayout(),east:se,south:ue,dontFill:W.isForPrint(),name:"eRootPanel"}),Z.init(this.eRootPanel.getGui()),this.eRootPanel.setSouthVisible(!1),this.showToolPanel(W.isShowToolPanel()),i.appendChild(this.eRootPanel.getGui()),this.logger.log("grid DOM added"),H.addEventListener(D.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_MOVED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_RESIZED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_VALUE_CHANGE,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_VISIBLE,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_PINNED,this.onColumnChanged.bind(this))},e.prototype.onColumnChanged=function(e){e.isRowGroupChanged()&&this.inMemoryRowController.onRowGroupChanged(),e.isValueChanged()&&this.inMemoryRowController.doAggregate(),e.isIndividualColumnResized()?this.onIndividualColumnResized(e.getColumn()):e.getType()===D.Events.EVENT_COLUMN_MOVED?this.refreshHeader():this.refreshHeaderAndBody(),this.gridPanel.showPinnedColContainersIfNeeded()},e.prototype.refreshRowGroup=function(){this.inMemoryRowController.onRowGroupChanged(),this.refreshHeaderAndBody()},e.prototype.onIndividualColumnResized=function(e){this.headerRenderer.onIndividualColumnResized(e),e.isPinned()?this.updatePinnedColContainerWidthAfterColResize():this.updateBodyContainerWidthAfterColResize()},e.prototype.showToolPanel=function(e){return this.toolPanel?(this.toolPanelShowing=e,void this.eRootPanel.setEastVisible(e)):void(this.toolPanelShowing=!1)},e.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},e.prototype.isUsingInMemoryModel=function(){return this.usingInMemoryModel},e.prototype.setDatasource=function(e){e&&(this.gridOptions.datasource=e);var t=this.gridOptionsWrapper.getDatasource();this.doingVirtualPaging=this.gridOptionsWrapper.isVirtualPaging()&&t,this.doingPagination=t&&!this.doingVirtualPaging;var i;this.doingVirtualPaging?(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(t),this.rowModel=this.virtualPageRowController.getModel(),this.usingInMemoryModel=!1,i=!1):this.doingPagination?(this.paginationController.setDatasource(t),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.usingInMemoryModel=!0,i=!0):(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.usingInMemoryModel=!0,i=!1),this.selectionController.setRowModel(this.rowModel),this.filterManager.setRowModel(this.rowModel),this.rowRenderer.setRowModel(this.rowModel),this.gridPanel.setRowModel(this.rowModel),this.eRootPanel.setSouthVisible(i),this.rowRenderer.refreshView(),this.doLayout()},e.prototype.refreshHeaderAndBody=function(){this.logger.log("refreshHeaderAndBody"),this.refreshHeader(),this.refreshBody()},e.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons(),this.headerRenderer.updateSortIcons(),this.headerRenderer.setPinnedColContainerWidth()},e.prototype.refreshBody=function(){this.gridPanel.setBodyContainerWidth(),this.gridPanel.setPinnedColContainerWidth(),this.rowRenderer.refreshView()},e.prototype.destroy=function(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.logger.log("Removing windowResizeListener")),this.finished=!0,this.dragAndDropService.destroy(),this.rowRenderer.destroy(),this.filterManager.destroy(),this.eUserProvidedDiv.removeChild(this.eRootPanel.getGui()),this.logger.log("Grid DOM removed")},e.prototype.onQuickFilterChanged=function(e){this.filterManager.setQuickFilter(e)&&this.onFilterChanged()},e.prototype.onFilterModified=function(){this.eventService.dispatchEvent(D.Events.EVENT_FILTER_MODIFIED)},e.prototype.onFilterChanged=function(){this.eventService.dispatchEvent(D.Events.EVENT_BEFORE_FILTER_CHANGED),this.filterManager.onFilterChanged(),this.headerRenderer.updateFilterIcons(),this.gridOptionsWrapper.isEnableServerSideFilter()?this.setDatasource():this.updateModelAndRefresh(m.default.STEP_FILTER),this.eventService.dispatchEvent(D.Events.EVENT_AFTER_FILTER_CHANGED)},e.prototype.onRowClicked=function(e,t,i){if(!i.group&&!i.floating){var o=this.gridOptionsWrapper,r=this.selectionController;if(o.isRowSelection()&&!o.isSuppressRowClickSelection()){e&&r.isNodeSelected(i)&&o.isRowDeselection()?r.deselectNode(i):r.selectNode(i,e)}}},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.setupColumns=function(){this.columnController.onColumnsChanged(),this.gridPanel.showPinnedColContainersIfNeeded(),this.gridPanel.onBodyHeightChange()},e.prototype.updateModelAndRefresh=function(e,t){this.inMemoryRowController.updateModel(e),this.rowRenderer.refreshView(t)},e.prototype.setRowData=function(e,t){e&&(this.gridOptions.rowData=e);var i=this.gridOptionsWrapper.getRowData();this.inMemoryRowController.setAllRows(i,t),this.selectionController.deselectAll(),this.filterManager.onNewRowsLoaded(),this.updateModelAndRefresh(m.default.STEP_EVERYTHING),this.headerRenderer.updateFilterIcons(),i&&i.length>0?this.hideOverlay():this.showNoRowsOverlay()},e.prototype.ensureNodeVisible=function(e){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var t=this.rowModel.getVirtualRowCount(),i="function"==typeof e,o=-1,r=0;t>r;r++){var n=this.rowModel.getVirtualRow(r);if(i){if(e(n)){o=r;break}}else if(e===n||e===n.data){o=r;break}}o>=0&&this.gridPanel.ensureIndexVisible(o)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.setFocusedCell=function(e,t){this.gridPanel.ensureIndexVisible(e),this.gridPanel.ensureColumnVisible(t);var i=this;setTimeout(function(){i.rowRenderer.setFocusedCell(e,t)},10)},e.prototype.getSortModel=function(){return this.columnController.getSortModel()},e.prototype.setSortModel=function(e){this.columnController.setSortModel(e),this.onSortingChanged()},e.prototype.onSortingChanged=function(){this.eventService.dispatchEvent(D.Events.EVENT_BEFORE_SORT_CHANGED),this.headerRenderer.updateSortIcons(),this.gridOptionsWrapper.isEnableServerSideSorting()?this.setDatasource():this.updateModelAndRefresh(m.default.STEP_SORT),this.eventService.dispatchEvent(D.Events.EVENT_AFTER_SORT_CHANGED)},e.prototype.addVirtualRowListener=function(e,t,i){var o=this.virtualRowListeners[e];return o?(o[t]||(o[t]=[]),void o[t].push(i)):void console.warn("ag-Grid: invalid listener type "+e+", expected values are "+Object.keys(this.virtualRowListeners))},e.prototype.onVirtualRowSelected=function(t,i){var o=this.virtualRowListeners[e.VIRTUAL_ROW_SELECTED];o[t]&&o[t].forEach(function(e){"function"==typeof e&&e(i)}),this.rowRenderer.onRowSelected(t,i)},e.prototype.onVirtualRowRemoved=function(t){var i=this.virtualRowListeners[e.VIRTUAL_ROW_REMOVED];i[t]&&i[t].forEach(function(e){"function"==typeof e&&e()}),this.removeVirtualCallbacksForRow(t)},e.prototype.removeVirtualCallbacksForRow=function(t){delete this.virtualRowListeners[e.VIRTUAL_ROW_REMOVED][t],delete this.virtualRowListeners[e.VIRTUAL_ROW_SELECTED][t]},e.prototype.setColumnDefs=function(e){e&&(this.gridOptions.columnDefs=e),this.setupColumns(),this.updateModelAndRefresh(m.default.STEP_EVERYTHING),this.doLayout()},e.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths(),this.gridPanel.setBodyContainerWidth()},e.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.gridPanel.setPinnedColContainerWidth(),this.headerRenderer.setPinnedColContainerWidth()},e.prototype.doLayout=function(){if(this.eRootPanel.doLayout()){this.rowRenderer.drawVirtualRows();var t={clientWidth:this.eRootPanel.getGui().clientWidth,clientHeight:this.eRootPanel.getGui().clientHeight};this.eventService.dispatchEvent(D.Events.EVENT_GRID_SIZE_CHANGED,t)}},e.VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.VIRTUAL_ROW_SELECTED="virtualRowSelected",e}();t.Grid=_},function(e,t,i){function o(e){return!0===e||"true"===e}var r=i(3),n=i(4),l=function(){function e(){}return e.prototype.init=function(e,t){this.gridOptions=e,this.headerHeight=e.headerHeight,t.addGlobalListener(this.globalEventHandler.bind(this)),this.checkForDeprecated()},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isRowDeselection=function(){return o(this.gridOptions.rowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isVirtualPaging=function(){return o(this.gridOptions.virtualPaging)},e.prototype.isShowToolPanel=function(){return o(this.gridOptions.showToolPanel)},e.prototype.isToolPanelSuppressGroups=function(){return o(this.gridOptions.toolPanelSuppressGroups)},e.prototype.isToolPanelSuppressValues=function(){return o(this.gridOptions.toolPanelSuppressValues)},e.prototype.isRowsAlreadyGrouped=function(){return o(this.gridOptions.rowsAlreadyGrouped)},e.prototype.isGroupSelectsChildren=function(){return o(this.gridOptions.groupSelectsChildren)},e.prototype.isGroupHideGroupColumns=function(){return o(this.gridOptions.groupHideGroupColumns)},e.prototype.isGroupIncludeFooter=function(){return o(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return o(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return o(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return o(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return o(this.gridOptions.suppressMultiSort)},e.prototype.isGroupSuppressAutoColumn=function(){return o(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isForPrint=function(){return o(this.gridOptions.forPrint)},e.prototype.isSuppressHorizontalScroll=function(){return o(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressLoadingOverlay=function(){return o(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return o(this.gridOptions.suppressNoRowsOverlay)},e.prototype.getFloatingTopRowData=function(){return this.gridOptions.floatingTopRowData},e.prototype.getFloatingBottomRowData=function(){return this.gridOptions.floatingBottomRowData},e.prototype.isUnSortIcon=function(){return o(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return o(this.gridOptions.suppressMenuHide)},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.isEnableColResize=function(){return o(this.gridOptions.enableColResize)},e.prototype.isSingleClickEdit=function(){return o(this.gridOptions.singleClickEdit)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getGroupAggFunction=function(){return this.gridOptions.groupAggFunction},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(){return o(this.gridOptions.groupUseEntireRow)},e.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},e.prototype.isGroupSuppressRow=function(){return o(this.gridOptions.groupSuppressRow)},e.prototype.isAngularCompileRows=function(){return o(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return o(this.gridOptions.angularCompileFilters)},e.prototype.isAngularCompileHeaders=function(){return o(this.gridOptions.angularCompileHeaders)},e.prototype.isDebug=function(){return o(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.isEnableSorting=function(){return o(this.gridOptions.enableSorting)||o(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableCellExpressions=function(){return o(this.gridOptions.enableCellExpressions)},e.prototype.isEnableServerSideSorting=function(){return o(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableFilter=function(){return o(this.gridOptions.enableFilter)||o(this.gridOptions.enableServerSideFilter)},e.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},e.prototype.isSuppressScrollLag=function(){return o(this.gridOptions.suppressScrollLag)},e.prototype.isSuppressMovableColumns=function(){return o(this.gridOptions.suppressMovableColumns)},e.prototype.isSuppressMovingCss=function(){return o(this.gridOptions.suppressMovingCss)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getSlaveGrids=function(){return this.gridOptions.slaveGrids},e.prototype.getGroupRowRenderer=function(){return this.gridOptions.groupRowRenderer},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.getCheckboxSelection=function(){return this.gridOptions.checkboxSelection},e.prototype.isSuppressAutoSize=function(){return o(this.gridOptions.suppressAutoSize)},e.prototype.isSuppressParentsInRowNodes=function(){return o(this.gridOptions.suppressParentsInRowNodes)},e.prototype.getHeaderCellTemplate=function(){return this.gridOptions.headerCellTemplate},e.prototype.getHeaderCellTemplateFunc=function(){return this.gridOptions.getHeaderCellTemplate},e.prototype.getHeaderHeight=function(){return"number"==typeof this.headerHeight?this.headerHeight:25},e.prototype.setHeaderHeight=function(e){this.headerHeight=e},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupRowInnerRenderer},e.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth>e.MIN_COL_WIDTH?this.gridOptions.minColWidth:e.MIN_COL_WIDTH},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth>e.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<e.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){return"number"==typeof this.gridOptions.rowBuffer?(this.gridOptions.rowBuffer<0&&console.warn("ag-Grid: rowBuffer should not be negative"),this.gridOptions.rowBuffer):r.default.ROW_BUFFER_SIZE},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortOrder instead."),e.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortOrder instead."),e.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),e.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),e.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),(e.ready||e.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),"boolean"==typeof e.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups")},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this;return function(t,i){var o=e.gridOptions.localeText;return o&&o[t]?o[t]:i}},e.prototype.globalEventHandler=function(e,t){var i=n.ComponentUtil.getCallbackForEvent(e);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](t)},e.prototype.getRowHeightForVirtualPagiation=function(){return"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:25},e.prototype.getRowHeightForNode=function(e){if("number"==typeof this.gridOptions.rowHeight)return this.gridOptions.rowHeight;if("function"==typeof this.gridOptions.getRowHeight){var t={node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context};return this.gridOptions.getRowHeight(t)}return 25},e.MIN_COL_WIDTH=10,e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t){var i=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.ROW_BUFFER_SIZE=2,e.KEY_TAB=9,e.KEY_ENTER=13,e.KEY_BACKSPACE=8,e.KEY_DELETE=46,e.KEY_ESCAPE=27,e.KEY_SPACE=32,e.KEY_DOWN=40,e.KEY_UP=38,e.KEY_LEFT=37,e.KEY_RIGHT=39,e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){function o(e){(e.ready||e.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady")}var r=i(5),n=i(6),s=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=[],e.EVENTS.forEach(function(t){e.EVENT_CALLBACKS.push(e.getCallbackForEvent(t))})),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,i){o(i),"object"!=typeof t&&(t={});var r=t;return e.ARRAY_PROPERTIES.concat(e.STRING_PROPERTIES).concat(e.OBJECT_PROPERTIES).concat(e.FUNCTION_PROPERTIES).forEach(function(e){void 0!==i[e]&&(r[e]=i[e])}),e.BOOLEAN_PROPERTIES.forEach(function(t){void 0!==i[t]&&(r[t]=e.toBoolean(i[t]))}),e.NUMBER_PROPERTIES.forEach(function(t){void 0!==i[t]&&(r[t]=e.toNumber(i[t]))}),e.getEventCallbacks().forEach(function(e){void 0!==i[e]&&(r[e]=i[e])}),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,i,r){if(t){o(t);var n=i;e.ARRAY_PROPERTIES.concat(e.OBJECT_PROPERTIES).concat(e.STRING_PROPERTIES).forEach(function(e){t[e]&&(n[e]=t[e].currentValue)}),e.BOOLEAN_PROPERTIES.forEach(function(i){t[i]&&(n[i]=e.toBoolean(t[i].currentValue))}),e.NUMBER_PROPERTIES.forEach(function(i){t[i]&&(n[i]=e.toNumber(t[i].currentValue))}),e.getEventCallbacks().forEach(function(e){t[e]&&(n[e]=t[e].currentValue)}),t.showToolPanel&&r.showToolPanel(t.showToolPanel.currentValue),t.quickFilterText&&r.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&r.setRowData(t.rowData.currentValue),t.floatingTopRowData&&r.setFloatingTopRowData(t.floatingTopRowData.currentValue),t.floatingBottomRowData&&r.setFloatingBottomRowData(t.floatingBottomRowData.currentValue),t.columnDefs&&r.setColumnDefs(t.columnDefs.currentValue),t.datasource&&r.setDatasource(t.datasource.currentValue),t.headerHeight&&r.setHeaderHeight(t.headerHeight.currentValue)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","headerCellTemplate","quickFilterText"],e.OBJECT_PROPERTIES=["rowStyle","context","groupColumnDef","localeText","icons","datasource"],e.ARRAY_PROPERTIES=["slaveGrids","rowData","floatingTopRowData","floatingBottomRowData","columnDefs"],e.NUMBER_PROPERTIES=["rowHeight","rowBuffer","colWidth","headerHeight","groupDefaultExpanded","minColWidth","maxColWidth"],e.BOOLEAN_PROPERTIES=["virtualPaging","toolPanelSuppressGroups","toolPanelSuppressValues","rowsAlreadyGrouped","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","debug","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupHideGroupColumns","groupIncludeFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","suppressScrollLag","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","suppressParentsInRowNodes","showToolPanel","suppressMovingCss","suppressMovableColumns"],e.FUNCTION_PROPERTIES=["headerCellRenderer","localeTextFunc","groupRowInnerRenderer","groupRowRenderer","groupAggFunction","isScrollLag","isExternalFilterPresent","doesExternalFilterPass","getRowClass","getRowStyle","getHeaderCellTemplate"],e.ALL_PROPERTIES=e.ARRAY_PROPERTIES.concat(e.OBJECT_PROPERTIES).concat(e.STRING_PROPERTIES).concat(e.NUMBER_PROPERTIES).concat(e.FUNCTION_PROPERTIES).concat(e.BOOLEAN_PROPERTIES),e}();t.ComponentUtil=s,n.default.iterateObject(r.Events,function(e,t){s.EVENTS.push(t)})},function(e,t){var i=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGE="columnRowGroupChanged",e.EVENT_COLUMN_VALUE_CHANGE="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_ROW_DESELECTED="rowDeselected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_BEFORE_FILTER_CHANGED="beforeFilterChanged",e.EVENT_AFTER_FILTER_CHANGED="afterFilterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_BEFORE_SORT_CHANGED="beforeSortChanged",e.EVENT_AFTER_SORT_CHANGED="afterSortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e}();t.Events=i},function(e,t){var i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g,r=function(){function e(){}return e.iterateObject=function(e,t){for(var i=Object.keys(e),o=0;o<i.length;o++){var r=i[o];t(r,e[r])}},e.cloneObject=function(e){for(var t={},i=Object.keys(e),o=0;o<i.length;o++){var r=i[o],n=e[r];t[r]=n}return t},e.map=function(e,t){for(var i=[],o=0;o<e.length;o++){var n=t(e[o]);i.push(n)}return i},e.forEach=function(e,t){if(e)for(var i=0;i<e.length;i++){t(e[i],i)}},e.filter=function(e,t){var i=[];return e.forEach(function(e){t(e)&&i.push(e)}),i},e.assign=function(t,i){e.iterateObject(i,function(e,i){t[e]=i})},e.getFunctionParameters=function(e){var t=e.toString().replace(i,""),r=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(o);return null===r?[]:r},e.find=function(e,t,i){if(null===e||void 0===e)return null;for(var o=0;o<e.length;o++)if(e[o][t]===i)return e[o];return null},e.toStrings=function(e){return this.map(e,function(e){return void 0!==e&&null!==e&&e.toString?e.toString():null})},e.iterateArray=function(e,t){for(var i=0;i<e.length;i++){t(e[i],i)}},e.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},e.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},e.makeNull=function(e){return null===e||void 0===e||""===e?null:e},e.removeAllChildren=function(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)},e.removeElement=function(e,t){this.removeFromParent(e.querySelector(t))},e.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},e.isVisible=function(e){return null!==e.offsetParent},e.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},e.querySelectorAll_addCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.addCssClass(o[r],i)},e.querySelectorAll_removeCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.removeCssClass(o[r],i)},e.querySelectorAll_replaceCssClass=function(e,t,i,o){for(var r=e.querySelectorAll(t),n=0;n<r.length;n++)this.removeCssClass(r[n],i),this.addCssClass(r[n],o)},e.addOrRemoveCssClass=function(e,t,i){i?this.addCssClass(e,t):this.removeCssClass(e,t)},e.addCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" ");i.indexOf(t)<0&&(i.push(t),e.className=i.join(" "))}else e.className=t},e.offsetHeight=function(e){return e&&e.clientHeight?e.clientHeight:0},e.offsetWidth=function(e){return e&&e.clientWidth?e.clientWidth:0},e.removeCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" "),o=i.indexOf(t);o>=0&&(i.splice(o,1),e.className=i.join(" "))}},e.removeFromArray=function(e,t){e.indexOf(t)>=0&&e.splice(e.indexOf(t),1)},e.defaultComparator=function(e,t){var i=null===e||void 0===e,o=null===t||void 0===t;return i&&o?0:i?-1:o?1:t>e?-1:e>t?1:0},e.formatWidth=function(e){return"number"==typeof e?e+"px":e},e.useRenderer=function(e,t,i){var o=t(i);if("string"==typeof o){var r=document.createElement("span");r.innerHTML=o,e.appendChild(r)}else this.isNodeOrElement(o)&&e.appendChild(o)},e.createIcon=function(e,t,i,o){var r=document.createElement("span");return r.appendChild(this.createIconNoSpan(e,t,i,o)),r},e.createIconNoSpan=function(e,t,i,o){var r;if(i&&i.getColDef().icons&&(r=i.getColDef().icons[e]),!r&&t.getIcons()&&(r=t.getIcons()[e]),r){var n;if("function"==typeof r)n=r();else{if("string"!=typeof r)throw"icon from grid options needs to be a string or a function";n=r}if("string"==typeof n)return this.loadTemplate(n);if(this.isNodeOrElement(n))return n;throw"iconRenderer should return back a string or a dom object"}return o()},e.addStylesToElement=function(e,t){Object.keys(t).forEach(function(i){e.style[i]=t[i]})},e.getScrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var o=i.offsetWidth;return e.parentNode.removeChild(e),t-o},e.isKeyPressed=function(e,t){return(e.which||e.keyCode)===t},e.setVisible=function(e,t){e.style.display=t?"inline":"none"},e.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},e.isBrowserSafari=function(){return void 0===this.isSafari&&(this.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0),this.isSafari},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o,r=i(6),n=i(3),s=i(5),l=i(8);!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort"}(o||(o={}));var a=function(){function e(){this.createModel()}return e.prototype.init=function(e,t,i,o,r,n,s,l){this.gridOptionsWrapper=e,this.columnController=t,this.angularGrid=i,this.filterManager=o,this.$scope=r,this.groupCreator=n,this.valueService=s,this.eventService=l,this.allRows=null,this.rowsAfterGroup=null,this.rowsAfterFilter=null,this.rowsAfterSort=null,this.rowsToDisplay=null},e.prototype.createModel=function(){var e=this;this.model={getTopLevelNodes:function(){return e.rowsAfterGroup},getVirtualRow:function(t){return e.rowsToDisplay[t]},getVirtualRowCount:function(){return e.rowsToDisplay?e.rowsToDisplay.length:0},getRowAtPixel:function(t){return e.getRowAtPixel(t)},getVirtualRowCombinedHeight:function(){return e.getVirtualRowCombinedHeight()},forEachInMemory:function(t){e.forEachInMemory(t)},forEachNode:function(t){e.forEachNode(t)},forEachNodeAfterFilter:function(t){e.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(t){e.forEachNodeAfterFilterAndSort(t)}}},e.prototype.getRowAtPixel=function(e){var t=0,i=this.rowsToDisplay.length-1;if(0>=e)return 0;if(this.rowsToDisplay[this.rowsToDisplay.length-1].rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((t+i)/2),n=this.rowsToDisplay[r];if(this.isRowInPixel(n,e))return r;n.rowTop<e?t=r+1:n.rowTop>e&&(i=r-1)}},e.prototype.isRowInPixel=function(e,t){var i=e.rowTop,o=e.rowTop+e.rowHeight;return t>=i&&o>t},e.prototype.getVirtualRowCombinedHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var e=this.rowsToDisplay[this.rowsToDisplay.length-1];return e.rowTop+e.rowHeight}return 0},e.prototype.getModel=function(){return this.model},e.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},e.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterGroup,e,o.Normal,0)},e.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterFilter,e,o.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterSort,e,o.AfterFilterAndSort,0)},e.prototype.recursivelyWalkNodesAndCallback=function(e,t,i,r){if(e)for(var n=0;n<e.length;n++){var s=e[n];if(t(s,r++),s.group){var l;switch(i){case o.Normal:l=s.children;break;case o.AfterFilter:l=s.childrenAfterFilter;break;case o.AfterFilterAndSort:l=s.childrenAfterSort}l&&(r=this.recursivelyWalkNodesAndCallback(l,t,i,r))}}return r},e.prototype.updateModel=function(e){var t=this;switch(e){case n.default.STEP_EVERYTHING:case n.default.STEP_FILTER:this.doFilter(),this.doAggregate();case n.default.STEP_SORT:this.doSort();case n.default.STEP_MAP:this.doRowsToDisplay()}this.eventService.dispatchEvent(s.Events.EVENT_MODEL_UPDATED),this.$scope&&setTimeout(function(){t.$scope.$apply()},0)},e.prototype.ensureRowHasHeight=function(e){},e.prototype.defaultGroupAggFunctionFactory=function(e){function t(e,t,o,r){for(var n=null,s=0;s<e.length;s++){var a,d=e[s];if("number"==typeof(a=r&&!d.group?i.getValue(r,d.data,d):d.data[o]))switch(t){case l.default.AGG_SUM:n+=a;break;case l.default.AGG_MIN:null===n?n=a:n>a&&(n=a);break;case l.default.AGG_MAX:null===n?n=a:a>n&&(n=a)}}return n}var i=this.valueService;return function(i){for(var o={},r=0;r<e.length;r++){var n=e[r],s=n.getColDef().field;s||console.log("ag-Grid: you need to provide a field for all value columns so that the grid knows what field to store the result in. so even if using a valueGetter, the result will not be stored in a value getter."),o[s]=t(i,n.getAggFunc(),s,n.getColDef())}return o}},e.prototype.doAggregate=function(){var e=this.gridOptionsWrapper.getGroupAggFunction();if("function"!=typeof e){var t=this.columnController.getValueColumns();if(t&&t.length>0){var i=this.defaultGroupAggFunctionFactory(t);this.recursivelyCreateAggData(this.rowsAfterFilter,i,0)}else this.gridOptionsWrapper.isRowsAlreadyGrouped()||this.recursivelyClearAggData(this.rowsAfterFilter)}else this.recursivelyCreateAggData(this.rowsAfterFilter,e,0)},e.prototype.expandOrCollapseAll=function(e,t){var i=this;null===t&&(t=this.rowsAfterGroup),t&&t.forEach(function(t){t.group&&(t.expanded=e,i.expandOrCollapseAll(e,t.children))})},e.prototype.recursivelyClearAggData=function(e){for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&(this.recursivelyClearAggData(o.childrenAfterFilter),o.data=null)}},e.prototype.recursivelyCreateAggData=function(e,t,i){for(var o=0,r=e.length;r>o;o++){var n=e[o];if(n.group){this.recursivelyCreateAggData(n.childrenAfterFilter,t,i++);var s=t(n.childrenAfterFilter,i);n.data=s,n.sibling&&(n.sibling.data=s)}}},e.prototype.doSort=function(){var e;if(this.gridOptionsWrapper.isEnableServerSideSorting())e=!1;else{var t=this.columnController.getSortForRowController();e=t.length>0}var i=this.rowsAfterFilter?this.rowsAfterFilter.slice(0):null;e?this.sortList(i,t):this.recursivelyResetSort(i),this.rowsAfterSort=i},e.prototype.recursivelyResetSort=function(e){if(e){for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&o.children&&(o.childrenAfterSort=o.childrenAfterFilter,this.recursivelyResetSort(o.children))}this.updateChildIndexes(e)}},e.prototype.sortList=function(e,t){function i(e,t,i,o){var n=l.valueService.getValue(i.getColDef(),e.data,e),s=l.valueService.getValue(i.getColDef(),t.data,t);return i.getColDef().comparator?i.getColDef().comparator(n,s,e,t,o):r.default.defaultComparator(n,s)}for(var o=0,n=e.length;n>o;o++){var s=e[o];s.group&&s.children&&(s.childrenAfterSort=s.childrenAfterFilter.slice(0),this.sortList(s.childrenAfterSort,t))}var l=this;e.sort(function(e,o){for(var r=0,n=t.length;n>r;r++){var s=t[r],l=i(e,o,s.column,-1===s.inverter);if(0!==l)return l*s.inverter}return 0}),this.updateChildIndexes(e)},e.prototype.updateChildIndexes=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.firstChild=0===t,i.lastChild=t===e.length-1,i.childIndex=t}},e.prototype.onRowGroupChanged=function(){this.doRowGrouping(),this.updateModel(n.default.STEP_EVERYTHING)},e.prototype.doRowGrouping=function(){var e,t=this.columnController.getRowGroupColumns();if(!this.gridOptionsWrapper.isRowsAlreadyGrouped()&&t.length>0){var r;r=this.gridOptionsWrapper.isGroupSuppressRow()?-1:this.gridOptionsWrapper.getGroupDefaultExpanded(),e=this.groupCreator.group(this.allRows,t,r)}else e=this.allRows;this.rowsAfterGroup=e},e.prototype.doFilter=function(){var t;!this.gridOptionsWrapper.isEnableServerSideFilter()&&this.filterManager.isAnyFilterPresent()?t=this.filterItems(this.rowsAfterGroup):(t=this.rowsAfterGroup,this.recursivelyResetFilter(this.rowsAfterGroup)),this.rowsAfterFilter=t},e.prototype.filterItems=function(e){for(var t=[],i=0,o=e.length;o>i;i++){var r=e[i];r.group?(r.childrenAfterFilter=this.filterItems(r.children),r.childrenAfterFilter.length>0&&(r.allChildrenCount=this.getTotalChildCount(r.childrenAfterFilter),t.push(r))):this.filterManager.doesRowPassFilter(r)&&t.push(r)}return t},e.prototype.recursivelyResetFilter=function(e){if(e)for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&o.children&&(o.childrenAfterFilter=o.children,this.recursivelyResetFilter(o.children),o.allChildrenCount=this.getTotalChildCount(o.childrenAfterFilter))}},e.prototype.setAllRows=function(e,t){if(this.gridOptionsWrapper.isRowsAlreadyGrouped())i=e,this.recursivelyCheckUserProvidedNodes(i,null,0);else{var i=[];if(e)for(var o=0;o<e.length;o++){var r={};r.data=e[o],i.push(r)}}var n=t||0;this.recursivelyAddIdToNodes(i,n),this.allRows=i,this.columnController.isSetupComplete()&&this.doRowGrouping()},e.prototype.recursivelyAddIdToNodes=function(e,t){if(e){for(var i=0;i<e.length;i++){var o=e[i];o.id=t++,o.group&&o.children&&(t=this.recursivelyAddIdToNodes(o.children,t))}return t}},e.prototype.recursivelyCheckUserProvidedNodes=function(e,t,i){if(e)for(var o=0;o<e.length;o++){var r=e[o];t&&!this.gridOptionsWrapper.isSuppressParentsInRowNodes()&&(r.parent=t),r.level=i,r.group&&r.children&&this.recursivelyCheckUserProvidedNodes(r.children,r,i+1)}},e.prototype.getTotalChildCount=function(e){for(var t=0,i=0,o=e.length;o>i;i++){var r=e[i];r.group?t+=r.allChildrenCount:t++}return t},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=[],this.nextRowTop=0,this.recursivelyAddToRowsToDisplay(this.rowsAfterSort)},e.prototype.recursivelyAddToRowsToDisplay=function(e){if(e)for(var t=this.gridOptionsWrapper.isGroupSuppressRow(),i=0;i<e.length;i++){var o=e[i];if(t&&o.group||this.addRowNodeToRowsToDisplay(o),o.group&&o.expanded&&(this.recursivelyAddToRowsToDisplay(o.childrenAfterSort),this.gridOptionsWrapper.isGroupIncludeFooter())){var n=this.createFooterNode(o);this.addRowNodeToRowsToDisplay(n)}}},e.prototype.addRowNodeToRowsToDisplay=function(e){this.rowsToDisplay.push(e),e.rowHeight=this.gridOptionsWrapper.getRowHeightForNode(e),e.rowTop=this.nextRowTop,this.nextRowTop+=e.rowHeight},e.prototype.createFooterNode=function(e){var t={};return Object.keys(e).forEach(function(i){t[i]=e[i]}),t.footer=!0,t.sibling=e,e.sibling=t,t},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,i){var o=i(9),r=function(){function e(e,t,i,r,n){this.moving=!1,this.eventService=new o.default,this.colDef=e,this.actualWidth=t,this.visible=!e.hide,this.sort=e.sort,this.sortedAt=e.sortedAt,this.colId=i,!0===e.pinned||"left"===e.pinned?this.pinned="left":"right"===e.pinned&&(this.pinned="right"),this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=r,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=n}return e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.setMoving=function(t){this.moving=t,this.eventService.dispatchEvent(e.EVENT_MOVING_CHANGED)},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(e){this.sort=e},e.prototype.getSortedAt=function(){return this.sortedAt},e.prototype.setSortedAt=function(e){this.sortedAt=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.setLeft=function(t){this.left!==t&&(this.left=t,this.eventService.dispatchEvent(e.EVENT_LEFT_CHANGED))},e.prototype.setPinned=function(t){this.pinned=!0===t||t===e.PINNED_LEFT?e.PINNED_LEFT:t===e.PINNED_RIGHT?e.PINNED_RIGHT:null},e.prototype.isPinned=function(){return this.pinned===e.PINNED_LEFT||this.pinned===e.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(e){this.visible=!0===e},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.setActualWidth=function(t){this.actualWidth!==t&&(this.actualWidth=t,this.eventService.dispatchEvent(e.EVENT_WIDTH_CHANGED))},e.prototype.isGreaterThanMax=function(e){return!!this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.setMinimum=function(){this.setActualWidth(this.minWidth)},e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.AGG_SUM="sum",e.AGG_MIN="min",e.AGG_MAX="max",e.SORT_ASC="asc",e.SORT_DESC="desc",e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=i(6),r=function(){function e(){this.allListeners={},this.globalListeners=[]}return e.prototype.init=function(e){this.logger=e.create("EventService")},e.prototype.getListenerList=function(e){var t=this.allListeners[e];return t||(t=[],this.allListeners[e]=t),t},e.prototype.addEventListener=function(e,t){var i=this.getListenerList(e);i.indexOf(t)<0&&i.push(t)},e.prototype.addGlobalListener=function(e){this.globalListeners.push(e)},e.prototype.removeEventListener=function(e,t){var i=this.getListenerList(e);o.default.removeFromArray(i,t)},e.prototype.removeGlobalListener=function(e){o.default.removeFromArray(this.globalListeners,e)},e.prototype.dispatchEvent=function(e,t){t||(t={});this.getListenerList(e).forEach(function(e){e(t)}),this.globalListeners.forEach(function(i){i(e,t)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=i(6),n=function(){function e(){}return e.prototype.init=function(e,t){this.gridOptionsWrapper=t,this.angularGrid=e,this.setupComponents(),this.callVersion=0},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){this.datasource.pageSize&&"number"!=typeof this.datasource.pageSize&&console.warn("datasource.pageSize should be a number"),this.pageSize=this.datasource.pageSize,"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage()},e.prototype.myToLocaleString=function(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},e.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.myToLocaleString(this.totalPages),this.lbRecordCount.innerHTML=this.myToLocaleString(this.rowCount);else{var e=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e}},e.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},e.prototype.pageLoaded=function(e,t){var i=this.currentPage*this.pageSize;this.angularGrid.setRowData(e,i),!this.foundMaxRow&&"number"==typeof t&&t>=0&&(this.foundMaxRow=!0,this.rowCount=t,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},e.prototype.updateRowLabels=function(){var e,t;this.isZeroPagesToDisplay()?(e=0,t=0):(e=this.pageSize*this.currentPage+1,t=e+this.pageSize-1,this.foundMaxRow&&t>this.rowCount&&(t=this.rowCount)),this.lbFirstRowOnPage.innerHTML=this.myToLocaleString(e),this.lbLastRowOnPage.innerHTML=this.myToLocaleString(t),this.ePageRowSummaryPanel.style.visibility=""},e.prototype.loadPage=function(){this.enableOrDisableButtons();var i=this.currentPage*this.datasource.pageSize,r=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=this.myToLocaleString(this.currentPage+1),this.callVersion++;var n=this.callVersion,s=this;this.angularGrid.showLoadingOverlay();var l;this.gridOptionsWrapper.isEnableServerSideSorting()&&(l=this.angularGrid.getSortModel());var a;this.gridOptionsWrapper.isEnableServerSideFilter()&&(a=this.angularGrid.getFilterModel());var d={startRow:i,endRow:r,successCallback:function(e,t){s.isCallDaemon(n)||s.pageLoaded(e,t)},failCallback:function(){s.isCallDaemon(n)||s.angularGrid.setRowData([])},sortModel:l,filterModel:a};o.default.getFunctionParameters(this.datasource.getRows).length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(d)},e.prototype.isCallDaemon=function(e){return e!==this.callVersion},e.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},e.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},e.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},e.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},e.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},e.prototype.enableOrDisableButtons=function(){var e=0===this.currentPage;this.btPrevious.disabled=e,this.btFirst.disabled=e;var t=this.isZeroPagesToDisplay(),o=this.foundMaxRow&&this.currentPage===this.totalPages-1||t;this.btNext.disabled=o;var r=!this.foundMaxRow||t||this.currentPage===this.totalPages-1;this.btLast.disabled=r},e.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();return'<div class="ag-paging-panel"><span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel"><span id="firstRowOnPage"></span> [TO] <span id="lastRowOnPage"></span> [OF] <span id="recordCount"></span></span><span class="ag-paging-page-summary-panel"><button type="button" class="ag-paging-button" id="btFirst">[FIRST]</button><button type="button" class="ag-paging-button" id="btPrevious">[PREVIOUS]</button>[PAGE] <span id="current"></span> [OF] <span id="total"></span><button type="button" class="ag-paging-button" id="btNext">[NEXT]</button><button type="button" class="ag-paging-button" id="btLast">[LAST]</button></span></div>'.replace("[PAGE]",e("page","Page")).replace("[TO]",e("to","to")).replace("[OF]",e("of","of")).replace("[OF]",e("of","of")).replace("[FIRST]",e("first","First")).replace("[PREVIOUS]",e("previous","Previous")).replace("[NEXT]",e("next","Next")).replace("[LAST]",e("last","Last"))},e.prototype.getGui=function(){return this.eGui},e.prototype.setupComponents=function(){this.eGui=o.default.loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var e=this;this.btNext.addEventListener("click",function(){e.onBtNext()}),this.btPrevious.addEventListener("click",function(){e.onBtPrevious()}),this.btFirst.addEventListener("click",function(){e.onBtFirst()}),this.btLast.addEventListener("click",function(){e.onBtLast()})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,i){var o=i(6),n=function(){function e(){}return e.prototype.init=function(e,t,i){this.rowRenderer=e,this.datasourceVersion=0,this.gridOptionsWrapper=t,this.angularGrid=i},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,"number"==typeof this.datasource.maxConcurrentRequests&&this.datasource.maxConcurrentRequests>0?this.maxConcurrentDatasourceRequests=this.datasource.maxConcurrentRequests:this.maxConcurrentDatasourceRequests=2,"number"==typeof this.datasource.maxPagesInCache&&this.datasource.maxPagesInCache>0?this.maxPagesInCache=this.datasource.maxPagesInCache:this.maxPagesInCache=null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0)},e.prototype.createNodesFromRows=function(e,t){var i=[];if(t)for(var o=0,r=t.length;r>o;o++){var n=e*this.pageSize+o,s=this.createNode(t[o],n);i.push(s)}return i},e.prototype.createNode=function(e,t){var i=this.getRowHeightAsNumber();return{data:e,id:t,rowTop:i*t,rowHeight:i}},e.prototype.removeFromLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e);this.pageLoadsInProgress.splice(t,1)},e.prototype.pageLoadFailed=function(e){this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.pageLoaded=function(e,t,i){this.putPageIntoCacheAndPurge(e,t),this.checkMaxRowAndInformRowRenderer(e,i),this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.putPageIntoCacheAndPurge=function(e,t){this.pageCache[e]=this.createNodesFromRows(e,t),this.pageCacheSize++;if(this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize){var o=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache));delete this.pageCache[o],this.pageCacheSize--}},e.prototype.checkMaxRowAndInformRowRenderer=function(e,t){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.foundMaxRow=!0;else{var i=(e+1)*this.pageSize+this.overflowSize;this.virtualRowCount<i&&(this.virtualRowCount=i)}this.rowRenderer.refreshView()}},e.prototype.isPageAlreadyLoading=function(e){return this.pageLoadsInProgress.indexOf(e)>=0||this.pageLoadsQueued.indexOf(e)>=0},e.prototype.doLoadOrQueue=function(e){this.isPageAlreadyLoading(e)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(e):this.addToQueueAndPurgeQueue(e))},e.prototype.addToQueueAndPurgeQueue=function(e){this.pageLoadsQueued.push(e);if(this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length){var i=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued),o=this.pageLoadsQueued.indexOf(i);this.pageLoadsQueued.splice(o,1)}},e.prototype.findLeastRecentlyAccessedPage=function(e){var t=-1,i=Number.MAX_VALUE,o=this;return e.forEach(function(e){var r=o.pageAccessTimes[e];i>r&&(i=r,t=e)}),t},e.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var e=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1),this.loadPage(e)}},e.prototype.loadPage=function(e){this.pageLoadsInProgress.push(e);var r,n=e*this.pageSize,s=(e+1)*this.pageSize,l=this,a=this.datasourceVersion;this.gridOptionsWrapper.isEnableServerSideSorting()&&(r=this.angularGrid.getSortModel());var d;this.gridOptionsWrapper.isEnableServerSideFilter()&&(d=this.angularGrid.getFilterModel());var u={startRow:n,endRow:s,successCallback:function(t,i){l.requestIsDaemon(a)||l.pageLoaded(e,t,i)},failCallback:function(){l.requestIsDaemon(a)||l.pageLoadFailed(e)},sortModel:r,filterModel:d};o.default.getFunctionParameters(this.datasource.getRows).length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(u)},e.prototype.requestIsDaemon=function(e){return this.datasourceVersion!==e},e.prototype.getVirtualRow=function(e){if(e>this.virtualRowCount)return null;var t=Math.floor(e/this.pageSize),i=this.pageCache[t];if(this.pageAccessTimes[t]=this.accessTime++,i){return i[e%this.pageSize]}this.doLoadOrQueue(t);return this.createNode({},e)},e.prototype.forEachNode=function(e){for(var t=Object.keys(this.pageCache),i=0;i<t.length;i++)for(var o=t[i],r=this.pageCache[o],n=0;n<r.length;n++){e(r[n])}},e.prototype.getRowHeightAsNumber=function(){var e=this.gridOptionsWrapper.getRowHeightForVirtualPagiation();return"number"==typeof e?e:(console.warn("ag-Grid row height must be a number when doing virtual paging"),25)},e.prototype.getVirtualRowCombinedHeight=function(){return this.virtualRowCount*this.getRowHeightAsNumber()},e.prototype.getRowAtPixel=function(e){var t=this.getRowHeightAsNumber();return 0!==t?Math.floor(e/t):0},e.prototype.getModel=function(){var e=this;return{getRowAtPixel:function(t){return e.getRowAtPixel(t)},getVirtualRowCombinedHeight:function(){return e.getVirtualRowCombinedHeight()},getVirtualRow:function(t){return e.getVirtualRow(t)},getVirtualRowCount:function(){return e.virtualRowCount},forEachInMemory:function(t){e.forEachNode(t)},forEachNode:function(t){e.forEachNode(t)},forEachNodeAfterFilter:function(e){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},forEachNodeAfterFilterAndSort:function(e){console.warn("forEachNodeAfterFilterAndSort - does not work with virtual pagination")}}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e){this.gridOptionsWrapper=e,this.setFloatingTopRowData(e.getFloatingTopRowData()),this.setFloatingBottomRowData(e.getFloatingBottomRowData())},e.prototype.setFloatingTopRowData=function(e){this.floatingTopRows=this.createNodesFromData(e,!1)},e.prototype.setFloatingBottomRowData=function(e){this.floatingBottomRows=this.createNodesFromData(e,!1)},e.prototype.createNodesFromData=function(e,t){var i=this,o=[];if(e){var r=0;e.forEach(function(e){var n={data:e,floating:!0,floatingTop:t,floatingBottom:!t,rowTop:r,rowHeight:null};n.rowHeight=i.gridOptionsWrapper.getRowHeightForNode(n),r+=n.rowHeight,o.push(n)})}return o},e.prototype.getFloatingTopRowData=function(){return this.floatingTopRows},e.prototype.getFloatingBottomRowData=function(){return this.floatingBottomRows},e.prototype.getFloatingTopTotalHeight=function(){return this.getTotalHeight(this.floatingTopRows)},e.prototype.getFloatingBottomTotalHeight=function(){return this.getTotalHeight(this.floatingBottomRows)},e.prototype.getTotalHeight=function(e){if(e&&0!==e.length){var t=e[e.length-1];return t.rowTop+t.rowHeight}return 0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var o=i(6),r=i(5),d=function(){function e(){}return e.prototype.init=function(e,t,i,o,r,n){this.eParentsOfRows=t.getRowsParent(),this.angularGrid=e,this.gridOptionsWrapper=i,this.$scope=o,this.rowRenderer=r,this.eventService=n,this.initSelectedNodesById(),this.selectedRows=[]},e.prototype.initSelectedNodesById=function(){this.selectedNodesById={}},e.prototype.getSelectedNodesById=function(){return this.selectedNodesById},e.prototype.getSelectedRows=function(){return this.selectedRows},e.prototype.getSelectedNodes=function(){for(var e=[],t=Object.keys(this.selectedNodesById),i=0;i<t.length;i++){var o=t[i],r=this.selectedNodesById[o];e.push(r)}return e},e.prototype.getBestCostNodeSelection=function(){function e(t){for(var r=0,n=t.length;n>r;r++){var s=t[r];o.isNodeSelected(s)?i.push(s):s.group&&s.children&&e(s.children)}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var i=[],o=this;return e(this.rowModel.getTopLevelNodes()),i},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.deselectAll=function(){this.initSelectedNodesById(),this.syncSelectedRowsAndCallListener()},e.prototype.selectAll=function(){function e(o){if(o)for(var r=0;r<o.length;r++){var n=o[r];n.group?(e(n.children),i&&(t[n.id]=n)):t[n.id]=n}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var t=this.selectedNodesById,i=!this.gridOptionsWrapper.isGroupSelectsChildren();e(this.rowModel.getTopLevelNodes()),this.syncSelectedRowsAndCallListener()},e.prototype.selectNode=function(e,t,i){var o,r=this.gridOptionsWrapper.isRowSelectionMulti()&&t;o=e.footer?e.sibling:e;var n=!1,s=!1;r||(n=this.doWorkOfDeselectAllNodes(null,i)),s=this.gridOptionsWrapper.isGroupSelectsChildren()&&o.group?this.recursivelySelectAllChildren(o):this.doWorkOfSelectNode(o,i),(n||s)&&this.syncSelectedRowsAndCallListener(i),this.updateGroupParentsIfNeeded()},e.prototype.recursivelySelectAllChildren=function(e,t){var i=!1;if(e.children)for(var o=0;o<e.children.length;o++){var r=e.children[o];r.group?this.recursivelySelectAllChildren(r)&&(i=!0):this.doWorkOfSelectNode(r,t)&&(i=!0)}return i},e.prototype.recursivelyDeselectAllChildren=function(e,t){if(e.children)for(var i=0;i<e.children.length;i++){var o=e.children[i];o.group?this.recursivelyDeselectAllChildren(o,t):this.deselectRealNode(o,t)}},e.prototype.doWorkOfSelectNode=function(e,t){if(this.selectedNodesById[e.id])return!1;if(this.selectedNodesById[e.id]=e,this.addCssClassForNode_andInformVirtualRowListener(e),e.group&&e.expanded&&e.sibling&&this.addCssClassForNode_andInformVirtualRowListener(e.sibling),!t){var i={node:e};this.eventService.dispatchEvent(r.Events.EVENT_ROW_SELECTED,i)}return!0},e.prototype.addCssClassForNode_andInformVirtualRowListener=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);t>=0&&(this.eParentsOfRows.forEach(function(e){o.default.querySelectorAll_addCssClass(e,'[row="'+t+'"]',"ag-row-selected")}),this.angularGrid.onVirtualRowSelected(t,!0))},e.prototype.doWorkOfDeselectAllNodes=function(e,t){for(var i,o=Object.keys(this.selectedNodesById),r=0;r<o.length;r++){var n=o[r],s=this.selectedNodesById[n];s!==e&&(this.deselectRealNode(s,t),i=!0)}return i},e.prototype.deselectRealNode=function(e,t){if(this.removeCssClassForNode(e),e.group&&e.expanded&&e.sibling&&this.removeCssClassForNode(e.sibling),delete this.selectedNodesById[e.id],!t){var i={node:e};this.eventService.dispatchEvent(r.Events.EVENT_ROW_DESELECTED,i)}},e.prototype.removeCssClassForNode=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);t>=0&&(this.eParentsOfRows.forEach(function(e){o.default.querySelectorAll_removeCssClass(e,'[row="'+t+'"]',"ag-row-selected")}),this.angularGrid.onVirtualRowSelected(t,!1))},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1);var i=this.rowModel.getVirtualRow(e);this.deselectNode(i,t)},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),e&&(this.gridOptionsWrapper.isGroupSelectsChildren()&&e.group?this.recursivelyDeselectAllChildren(e,t):this.deselectRealNode(e,t)),this.syncSelectedRowsAndCallListener(),this.updateGroupParentsIfNeeded()},e.prototype.selectIndex=function(e,t,i){void 0===i&&(i=!1);var o=this.rowModel.getVirtualRow(e);this.selectNode(o,t,i)},e.prototype.syncSelectedRowsAndCallListener=function(e){var t=this.selectedRows,i=t.length;t.length=0;for(var o=Object.keys(this.selectedNodesById),n=0;n<o.length;n++)if(void 0!==this.selectedNodesById[o[n]]){var s=this.selectedNodesById[o[n]];t.push(s.data)}if(!(0===i&&0===t.length)&&!e){var a={selectedNodesById:this.selectedNodesById,selectedRows:this.selectedRows};this.eventService.dispatchEvent(r.Events.EVENT_SELECTION_CHANGED,a)}var d=this;this.$scope&&setTimeout(function(){d.$scope.$apply()},0)},e.prototype.recursivelyCheckIfSelected=function(e){var t=!1,i=!1;if(e.children)for(var o=0;o<e.children.length;o++){var d=e.children[o];if(d.group)switch(this.recursivelyCheckIfSelected(d)){case 0:t=!0;break;case 1:i=!0;break;case 2:t=!0,i=!0}else this.isNodeSelected(d)?t=!0:i=!0;if(t&&i)return 2}return t?0:i?1:3},e.prototype.isNodeSelected=function(e){if(!this.gridOptionsWrapper.isGroupSelectsChildren()||!e.group)return void 0!==this.selectedNodesById[e.id];switch(this.recursivelyCheckIfSelected(e)){case 0:return!0;case 1:return!1;default:return}},e.prototype.updateGroupParentsIfNeeded=function(){if(this.gridOptionsWrapper.isGroupSelectsChildren())for(var e=this.rowRenderer.getFirstVirtualRenderedRow(),t=this.rowRenderer.getLastVirtualRenderedRow(),i=e;t>=i;i++){var r=this.rowModel.getVirtualRow(i);if(r.group){var n=this.isNodeSelected(r);this.angularGrid.onVirtualRowSelected(i,n),this.eParentsOfRows.forEach(function(e){n?o.default.querySelectorAll_addCssClass(e,'[row="'+i+'"]',"ag-row-selected"):o.default.querySelectorAll_removeCssClass(e,'[row="'+i+'"]',"ag-row-selected")})}}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,i){var o=i(6),r=i(15),n=i(8),s=i(5),l=i(16),a=i(17),d=i(18),u=i(19),p=function(){function e(e){this._columnController=e}return e.prototype.sizeColumnsToFit=function(e){this._columnController.sizeColumnsToFit(e)},e.prototype.setColumnGroupOpened=function(e,t,i){this._columnController.setColumnGroupOpened(e,t,i)},e.prototype.getColumnGroup=function(e,t){return this._columnController.getColumnGroup(e,t)},e.prototype.getDisplayNameForCol=function(e){return this._columnController.getDisplayNameForCol(e)},e.prototype.getColumn=function(e){return this._columnController.getColumn(e)},e.prototype.setState=function(e){return this._columnController.setState(e)},e.prototype.getState=function(){return this._columnController.getState()},e.prototype.resetState=function(){this._columnController.resetState()},e.prototype.isPinning=function(){return this._columnController.isPinningLeft()||this._columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this._columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this._columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this._columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this._columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this._columnController.setColumnVisible(e,t)},e.prototype.setColumnsVisible=function(e,t){this._columnController.setColumnsVisible(e,t)},e.prototype.setColumnPinned=function(e,t){this._columnController.setColumnPinned(e,t)},e.prototype.setColumnsPinned=function(e,t){this._columnController.setColumnsPinned(e,t)},e.prototype.getAllColumns=function(){return this._columnController.getAllColumns()},e.prototype.getDisplayedLeftColumns=function(){return this._columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this._columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this._columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this._columnController.getAllDisplayedColumns()},e.prototype.getRowGroupColumns=function(){return this._columnController.getRowGroupColumns()},e.prototype.getValueColumns=function(){return this._columnController.getValueColumns()},e.prototype.moveColumn=function(e,t){this._columnController.moveColumnByIndex(e,t)},e.prototype.moveRowGroupColumn=function(e,t){this._columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunction=function(e,t){this._columnController.setColumnAggFunction(e,t)},e.prototype.setColumnWidth=function(e,t,i){void 0===i&&(i=!0),this._columnController.setColumnWidth(e,t,i)},e.prototype.removeValueColumn=function(e){this._columnController.removeValueColumn(e)},e.prototype.addValueColumn=function(e){this._columnController.addValueColumn(e)},e.prototype.removeRowGroupColumn=function(e){this._columnController.removeRowGroupColumn(e)},e.prototype.addRowGroupColumn=function(e){this._columnController.addRowGroupColumn(e)},e.prototype.getLeftDisplayedColumnGroups=function(){return this._columnController.getLeftDisplayedColumnGroups()},e.prototype.getCenterDisplayedColumnGroups=function(){return this._columnController.getCenterDisplayedColumnGroups()},e.prototype.getRightDisplayedColumnGroups=function(){return this._columnController.getRightDisplayedColumnGroups()},e.prototype.getAllDisplayedColumnGroups=function(){return this._columnController.getAllDisplayedColumnGroups()},e.prototype.autoSizeColumn=function(e){return this._columnController.autoSizeColumn(e)},e.prototype.autoSizeColumns=function(e){return this._columnController.autoSizeColumns(e)},e.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this._columnController.setColumnsVisible(e,!t)},e.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this._columnController.setColumnVisible(e,!t)},e}();t.ColumnApi=p;var h=function(){function e(){this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.headerRowCount=0,this.setupComplete=!1}return e.prototype.init=function(e,t,i,o,r,n,s,l,a,d,u,p){this.gridOptionsWrapper=i,this.angularGrid=e,this.selectionRendererFactory=t,this.expressionService=o,this.valueService=r,this.masterSlaveController=n,this.eventService=s,this.balancedColumnTreeBuilder=l,this.displayedGroupCreator=a,this.columnUtils=d,this.autoWidthCalculator=u,this.logger=p.create("ColumnController")},e.prototype.autoSizeColumns=function(e){var t=this;this.actionOnColumns(e,function(e){var i=t.autoWidthCalculator.getPreferredWidthForColumn(e);if(i>0){var o=t.normaliseColumnWidth(e,i);e.setActualWidth(o)}},function(){return new l.default(s.Events.EVENT_COLUMN_RESIZED).withFinished(!0)})},e.prototype.autoSizeColumn=function(e){this.autoSizeColumns([e])},e.prototype.getColumnsFromTree=function(e){function t(e){for(var o=0;o<e.length;o++){var r=e[o];r instanceof n.default?i.push(r):r instanceof a.OriginalColumnGroup&&t(r.getChildren())}}var i=[];return t(e),i},e.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},e.prototype.getColumnApi=function(){return new p(this)},e.prototype.isSetupComplete=function(){return this.setupComplete},e.prototype.getHeaderRowCount=function(){return this.headerRowCount},e.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},e.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},e.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},e.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},e.prototype.getPinnedLeftContainerWidth=function(){return this.getWithOfColsInList(this.displayedLeftColumns)},e.prototype.getPinnedRightContainerWidth=function(){return this.getWithOfColsInList(this.displayedRightColumns)},e.prototype.addRowGroupColumn=function(e){if(this.allColumns.indexOf(e)<0)console.warn("not a valid column: "+e);else if(this.rowGroupColumns.indexOf(e)>=0)console.warn("column is already a value column");else{this.rowGroupColumns.push(e),this.updateModel();var t=new l.default(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,t)}},e.prototype.removeRowGroupColumn=function(e){if(this.rowGroupColumns.indexOf(e)<0)console.warn("column not a row group");else{o.default.removeFromArray(this.rowGroupColumns,e),this.updateModel();var t=new l.default(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,t)}},e.prototype.addValueColumn=function(e){if(this.allColumns.indexOf(e)<0)console.warn("not a valid column: "+e);else if(this.valueColumns.indexOf(e)>=0)console.warn("column is already a value column");else{e.getAggFunc()||e.setAggFunc(n.default.AGG_SUM),this.valueColumns.push(e);var t=new l.default(s.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_VALUE_CHANGE,t)}},e.prototype.removeValueColumn=function(e){if(this.valueColumns.indexOf(e)<0)console.warn("column not a value");else{o.default.removeFromArray(this.valueColumns,e);var t=new l.default(s.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_VALUE_CHANGE,t)}},e.prototype.getFirstRightPinnedColIndex=function(){return this.displayedLeftColumns.length+this.displayedCenterColumns.length},e.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),e.isGreaterThanMax(t)&&(t=e.getMaxWidth()),t},e.prototype.setColumnWidth=function(e,t,i){var o=this.getColumn(e);if(o){t=this.normaliseColumnWidth(o,t);var r=o.getActualWidth()!==t;if(r&&(o.setActualWidth(t),this.setLeftValues()),i||r){var n=new l.default(s.Events.EVENT_COLUMN_RESIZED).withColumn(o).withFinished(i);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_RESIZED,n)}}},e.prototype.setColumnAggFunction=function(e,t){e.setAggFunc(t);var i=new l.default(s.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_VALUE_CHANGE,i)},e.prototype.moveRowGroupColumn=function(e,t){var i=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i);var o=new l.default(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,o)},e.prototype.getColumnIndex=function(e){return this.allColumns.indexOf(e)},e.prototype.getPathForColumn=function(e){return this.columnUtils.getPathForColumn(e,this.getAllDisplayedColumnGroups())},e.prototype.moveColumns=function(e,t){var i=this;this.actionOnColumns(e,function(e){var o=i.allColumns.indexOf(e);i.allColumns.splice(o,1),i.allColumns.splice(t,0,e)},function(){return new l.default(s.Events.EVENT_COLUMN_MOVED).withToIndex(t)}),this.updateModel()},e.prototype.moveColumn=function(e,t){this.moveColumns([e],t)},e.prototype.moveColumnByIndex=function(e,t){var i=this.allColumns[e];this.moveColumn(i,t)},e.prototype.getBodyContainerWidth=function(){return this.getWithOfColsInList(this.displayedCenterColumns)},e.prototype.getValueColumns=function(){return this.valueColumns},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns},e.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},e.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},e.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},e.prototype.getAllColumns=function(){return this.allColumns},e.prototype.setColumnVisible=function(e,t){this.setColumnsVisible([e],t)},e.prototype.setColumnsVisible=function(e,t){this.actionOnColumns(e,function(e){e.setVisible(t)},function(){return new l.default(s.Events.EVENT_COLUMN_VISIBLE).withVisible(t)})},e.prototype.setColumnPinned=function(e,t){this.setColumnsPinned([e],t)},e.prototype.setColumnsPinned=function(e,t){var i;i=!0===t||t===n.default.PINNED_LEFT?n.default.PINNED_LEFT:t===n.default.PINNED_RIGHT?n.default.PINNED_RIGHT:null,this.actionOnColumns(e,function(e){e.setPinned(i)},function(){return new l.default(s.Events.EVENT_COLUMN_PINNED).withPinned(i)})},e.prototype.actionOnColumns=function(e,t,i){var o=this;if(e&&0!==e.length){var r=[];if(e.forEach(function(e){var i=o.getColumn(e);i&&(t(i),r.push(i))}),0!==r.length){this.updateModel();var n=i();n.withColumns(r),1===r.length&&n.withColumn(r[0]),this.eventService.dispatchEvent(n.getType(),n)}}},e.prototype.getDisplayedColBeforeForMoving=function(e){if(e===this.groupAutoColumn)return null;var t=this.getDisplayedColBefore(e);return t===this.groupAutoColumn?null:t&&t.getPinned()===e.getPinned()?t:null},e.prototype.getPixelsBeforeConsideringPinned=function(e){for(var t=this.getAllDisplayedColumns(),i=0,o=0;o<t.length;o++){var r=t[o];if(r===e)return i;r.getPinned()===e.getPinned()&&(i+=r.getActualWidth())}return null},e.prototype.getDisplayedColAfterForMoving=function(e){if(e===this.groupAutoColumn)return null;var t=this.getDisplayedColAfter(e);return t===this.groupAutoColumn?null:t&&t.getPinned()===e.getPinned()?t:null},e.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null},e.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null},e.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},e.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},e.prototype.clearSortBarThisColumn=function(e){this.getAllColumnsIncludingAuto().forEach(function(t){t!==e&&(t.sort=null)})},e.prototype.getAllColumnsIncludingAuto=function(){var e=this.allColumns.slice(0);return this.groupAutoColumn&&e.push(this.groupAutoColumn),e},e.prototype.getColumnsWithSortingOrdered=function(){var e=o.default.filter(this.getAllColumnsIncludingAuto(),function(e){return!!e.getSort()});return e.sort(function(e,t){return e.sortedAt-t.sortedAt}),e},e.prototype.getSortForRowController=function(){var e=this.getColumnsWithSortingOrdered();return o.default.map(e,function(e){return{inverter:e.getSort()===n.default.SORT_ASC?1:-1,column:e}})},e.prototype.getSortModel=function(){var e=this.getColumnsWithSortingOrdered();return o.default.map(e,function(e){return{colId:e.getColId(),sort:e.getSort()}})},e.prototype.setSortModel=function(e){if(this.gridOptionsWrapper.isEnableSorting()){var t=e&&e.length>0;this.getAllColumnsIncludingAuto().forEach(function(i){var o=null,r=-1;if(t&&!i.getColDef().suppressSorting)for(var n=0;n<e.length;n++){var s=e[n];"string"==typeof s.colId&&"string"==typeof i.getColId()&&s.colId===i.getColId()&&(o=s.sort,r=n)}o?(i.setSort(o),i.setSortedAt(r)):(i.setSort(null),i.setSortedAt(null))})}else console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled")},e.prototype.getState=function(){if(!this.allColumns||this.allColumns.length<0)return[];for(var e=[],t=0;t<this.allColumns.length;t++){var i=this.allColumns[t],o=this.rowGroupColumns.indexOf(i),r={colId:i.getColId(),hide:!i.isVisible(),aggFunc:i.getAggFunc()?i.getAggFunc():null,width:i.getActualWidth(),pinned:i.getPinned(),rowGroupIndex:o>=0?o:null};e.push(r)}return e},e.prototype.resetState=function(){var e=this.allColumns=this.getColumnsFromTree(this.originalBalancedTree),t=[];e&&e.forEach(function(e){t.push({colId:e.getColId(),aggFunc:e.getColDef().aggFunc,hide:e.getColDef().hide,pinned:e.getColDef().pinned,rowGroupIndex:e.getColDef().rowGroupIndex,width:e.getColDef().width})}),this.setState(t)},e.prototype.setState=function(e){var t=this,i=this.allColumns;this.allColumns=[],this.rowGroupColumns=[],this.valueColumns=[],e&&e.forEach(function(e){var r=o.default.find(i,"colId",e.colId);if(r){r.setVisible(!e.hide),r.setPinned(e.pinned),e.width>=t.gridOptionsWrapper.getMinColWidth()&&r.setActualWidth(e.width);[n.default.AGG_MIN,n.default.AGG_MAX,n.default.AGG_SUM].indexOf(e.aggFunc)>=0?(r.setAggFunc(e.aggFunc),t.valueColumns.push(r)):r.setAggFunc(null),"number"==typeof e.rowGroupIndex&&e.rowGroupIndex>=0&&t.rowGroupColumns.push(r),t.allColumns.push(r),i.splice(i.indexOf(r),1)}else console.warn("ag-grid: column "+e.colId+" not found")}),i.forEach(function(e){e.setVisible(!1),e.setAggFunc(null),e.setPinned(null),t.allColumns.push(e)}),this.rowGroupColumns.sort(function(t,i){for(var o=-1,r=-1,n=0;n<e.length;n++){var s=e[n];s.colId===t.getColId()&&(o=s.rowGroupIndex),s.colId===i.getColId()&&(r=s.rowGroupIndex)}return o-r}),this.updateModel();var r=new l.default(s.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_EVERYTHING_CHANGED,r)},e.prototype.getColumns=function(e){var t=this,i=[];return e&&e.forEach(function(e){var o=t.getColumn(e);o&&i.push(o)}),i},e.prototype.getColumn=function(e){function t(t){var i=t===e,o=t.getColDef()===e,r=t.getColId()===e;return i||o||r}if(!e)return null;for(var i=0;i<this.allColumns.length;i++)if(t(this.allColumns[i]))return this.allColumns[i];return this.groupAutoColumn&&t(this.groupAutoColumn)?this.groupAutoColumn:(console.log("could not find column for key "+e),null)},e.prototype.getDisplayNameForCol=function(e){var t=e.colDef,i=t.headerValueGetter;if(!i)return t.displayName?(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.displayName):t.headerName;var o={colDef:t,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof i?i(o):"string"==typeof i?this.expressionService.evaluate(i,o):void console.warn("ag-grid: headerValueGetter must be a function or a string")},e.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof r.default)return e;var i=this.getAllDisplayedColumnGroups(),o="number"==typeof t,n=null;return this.columnUtils.deptFirstAllColumnTreeSearch(i,function(i){if(i instanceof r.default){var l=i;(o?e===l.getGroupId()&&t===l.getInstanceId():e===l.getGroupId())&&(n=l)}}),n},e.prototype.onColumnsChanged=function(){var e=this.gridOptionsWrapper.getColumnDefs(),t=this.balancedColumnTreeBuilder.createBalancedColumnGroups(e);this.originalBalancedTree=t.balancedTree,this.headerRowCount=t.treeDept+1,this.allColumns=this.getColumnsFromTree(this.originalBalancedTree),this.extractRowGroupColumns(),this.createValueColumns(),this.updateModel();var i=new l.default(s.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_EVERYTHING_CHANGED,i),this.setupComplete=!0},e.prototype.extractRowGroupColumns=function(){var e=this;this.rowGroupColumns=[],this.allColumns.forEach(function(t){"number"==typeof t.getColDef().rowGroupIndex&&e.rowGroupColumns.push(t)}),this.rowGroupColumns.sort(function(e,t){return e.getColDef().rowGroupIndex-t.getColDef().rowGroupIndex})},e.prototype.setColumnGroupOpened=function(e,t,i){var o=this.getColumnGroup(e,i);if(o){this.logger.log("columnGroupOpened("+o.getGroupId()+","+t+")"),o.setExpanded(t),this.updateGroupsAndDisplayedColumns();var r=new l.default(s.Events.EVENT_COLUMN_GROUP_OPENED).withColumnGroup(o);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_GROUP_OPENED,r)}},e.prototype.getColumnGroupState=function(){var e={};return this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(t){if(t instanceof r.default){var i=t,o=i.getGroupId();e.hasOwnProperty(o)||(e[o]=i.isExpanded())}}),e},e.prototype.setColumnGroupState=function(e){this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(t){if(t instanceof r.default){var i=t,o=i.getGroupId();!0===e[o]&&i.isExpandable()&&i.setExpanded(!0)}})},e.prototype.updateModel=function(){var e=this.getColumnGroupState();this.createGroupAutoColumn();var t=this.updateVisibleColumns();this.buildAllGroups(t),this.setColumnGroupState(e),this.updateGroupsAndDisplayedColumns()},e.prototype.updateGroupsAndDisplayedColumns=function(){this.updateGroups(),this.updateDisplayedColumnsFromGroups()},e.prototype.updateDisplayedColumnsFromGroups=function(){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.setLeftValues()},e.prototype.setLeftValues=function(){[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(e){var t=0;e.forEach(function(e){e.setLeft(t),t+=e.getActualWidth()})})},e.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.deptFirstDisplayedColumnTreeSearch(e,function(e){e instanceof n.default&&t.push(e)})},e.prototype.sizeColumnsToFit=function(e){function t(e){o.default.removeFromArray(d,e),a.push(e)}function i(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].getActualWidth();return t}var r=this,n=this.getAllDisplayedColumns();if(!(0>=e||0===n.length)){for(var a=o.default.filter(n,function(e){return!0===e.getColDef().suppressSizeToFit}),d=o.default.filter(n,function(e){return!0!==e.getColDef().suppressSizeToFit}),u=d.slice(0),p=!1;!p;){p=!0;var h=e-i(a);if(0>=h)d.forEach(function(e){e.setMinimum()});else for(var c=h/i(d),g=h,f=d.length-1;f>=0;f--){var v=d[f],y=Math.round(v.getActualWidth()*c);if(y<v.getMinWidth())v.setMinimum(),t(v),p=!1;else if(v.isGreaterThanMax(y))v.setActualWidth(v.getMaxWidth()),t(v),p=!1;else{0===f?v.setActualWidth(g):(g-=y,v.setActualWidth(y))}}}this.setLeftValues(),u.forEach(function(e){var t=new l.default(s.Events.EVENT_COLUMN_RESIZED).withColumn(e);r.eventService.dispatchEvent(s.Events.EVENT_COLUMN_RESIZED,t)})}},e.prototype.buildAllGroups=function(e){var t=o.default.filter(e,function(e){return"left"===e.getPinned()}),i=o.default.filter(e,function(e){return"right"===e.getPinned()}),r=o.default.filter(e,function(e){return"left"!==e.getPinned()&&"right"!==e.getPinned()}),n=new d.default;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.originalBalancedTree,n),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(i,this.originalBalancedTree,n),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(r,this.originalBalancedTree,n)},e.prototype.updateGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.deptFirstAllColumnTreeSearch(e,function(e){if(e instanceof r.default){e.calculateDisplayedColumns()}})},e.prototype.createGroupAutoColumn=function(){if(this.rowGroupColumns.length>0&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow()&&!this.gridOptionsWrapper.isGroupSuppressRow()){var t=this.gridOptionsWrapper.getGroupColumnDef();if(!t){t={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group"),comparator:u.defaultGroupComparator,cellRenderer:{renderer:"group"}}}t.suppressMovable=!0;var o=this.columnUtils.calculateColInitialWidth(t),s=this.gridOptionsWrapper.getMinColWidth(),l=this.gridOptionsWrapper.getMaxColWidth();this.groupAutoColumn=new n.default(t,o,"ag-Grid-AutoColumn",s,l)}else this.groupAutoColumn=null},e.prototype.updateVisibleColumns=function(){var e=[];this.groupAutoColumn&&e.push(this.groupAutoColumn);for(var t=0;t<this.allColumns.length;t++){var i=this.allColumns[t],o=this.rowGroupColumns.indexOf(i)>=0&&this.gridOptionsWrapper.isGroupHideGroupColumns();i.isVisible()&&!o&&e.push(this.allColumns[t])}return e},e.prototype.createValueColumns=function(){this.valueColumns=[];for(var e=0;e<this.allColumns.length;e++){var t=this.allColumns[e];t.getColDef().aggFunc&&(t.setAggFunc(t.getColDef().aggFunc),this.valueColumns.push(t))}},e.prototype.getWithOfColsInList=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].getActualWidth();return t},e}();t.ColumnController=h},function(e,t,i){var o=i(8),r=function(){function e(e,t,i){this.displayedChildren=[],this.groupId=t,this.instanceId=i,this.originalColumnGroup=e}return e.prototype.getHeaderName=function(){return this.originalColumnGroup.getColGroupDef()?this.originalColumnGroup.getColGroupDef().headerName:null},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var i=!1;return this.children.forEach(function(o){t===o&&(i=!0),o instanceof e&&o.isChildInThisGroupDeepSearch(t)&&(i=!0)}),i},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()}),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(i){i instanceof o.default?t.push(i):i instanceof e&&i.addDisplayedLeafColumns(t)})},e.prototype.addLeafColumns=function(t){this.children.forEach(function(i){i instanceof o.default?t.push(i):i instanceof e&&i.addLeafColumns(t)})},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.calculateDisplayedColumns=function(){if(this.displayedChildren=[],this.originalColumnGroup.isExpandable())for(var t=0,i=this.children.length;i>t;t++){var o=this.children[t];switch(o.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:this.originalColumnGroup.isExpanded()&&this.displayedChildren.push(o);break;case e.HEADER_GROUP_SHOW_CLOSED:this.originalColumnGroup.isExpanded()||this.displayedChildren.push(o);break;default:this.displayedChildren.push(o)}}else this.displayedChildren=this.children},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=i(5),r=function(){function e(e){this.type=e}return e.prototype.toString=function(){var e="ColumnChangeEvent {type: "+this.type;return this.column&&(e+=", column: "+this.column.getColId()),this.columnGroup&&(e+=this.columnGroup.getColGroupDef().headerName),this.toIndex&&(e+=", toIndex: "+this.toIndex),this.visible&&(e+=", visible: "+this.visible),this.pinned&&(e+=", pinned: "+this.pinned),"boolean"==typeof this.finished&&(e+=", finished: "+this.finished),e+="}"},e.prototype.withPinned=function(e){return this.pinned=e,this},e.prototype.withVisible=function(e){return this.visible=e,this},e.prototype.isVisible=function(){return this.visible},e.prototype.getPinned=function(){return this.pinned},e.prototype.withColumn=function(e){return this.column=e,this},e.prototype.withColumns=function(e){return this.columns=e,this},e.prototype.withFinished=function(e){return this.finished=e,this},e.prototype.withColumnGroup=function(e){return this.columnGroup=e,this},e.prototype.withToIndex=function(e){return this.toIndex=e,this},e.prototype.getToIndex=function(){return this.toIndex},e.prototype.getType=function(){return this.type},e.prototype.getColumn=function(){return this.column},e.prototype.getColumns=function(){return this.columns},e.prototype.getColumnGroup=function(){return this.columnGroup},e.prototype.isRowGroupChanged=function(){return this.type===o.Events.EVENT_COLUMN_ROW_GROUP_CHANGE||this.type===o.Events.EVENT_COLUMN_EVERYTHING_CHANGED},e.prototype.isValueChanged=function(){return this.type===o.Events.EVENT_COLUMN_VALUE_CHANGE||this.type===o.Events.EVENT_COLUMN_EVERYTHING_CHANGED},e.prototype.isIndividualColumnResized=function(){return this.type===o.Events.EVENT_COLUMN_RESIZED&&void 0!==this.column&&null!==this.column},e.prototype.isFinished=function(){return this.finished},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=i(15),r=function(){function e(e,t){this.expandable=!1,this.expanded=!1,this.colGroupDef=e,this.groupId=t}return e.prototype.setExpanded=function(e){this.expanded=e},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getColumnGroupShow=function(){return this.colGroupDef?this.colGroupDef.columnGroupShow:this.children[0].getColumnGroupShow()},e.prototype.calculateExpandable=function(){for(var e=!1,t=!1,i=!1,r=0,n=this.children.length;n>r;r++){var l=this.children[r].getColumnGroupShow();l===o.default.HEADER_GROUP_SHOW_OPEN?(e=!0,i=!0):l===o.default.HEADER_GROUP_SHOW_CLOSED?(t=!0,i=!0):(e=!0,t=!0)}this.expandable=e&&t&&i},e}();t.OriginalColumnGroup=r},function(e,t){var i=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,i=this.existingIds[e];return t="number"!=typeof i?0:i+1,this.existingIds[e]=t,t},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var r=i(6);t.defaultGroupComparator=function(e,t,i,o){var n=i.group&&o.group,s=!i.group&&!o.group;return n?r.default.defaultComparator(i.key,o.key):s?r.default.defaultComparator(e,t):i.group?1:-1}},function(e,t,i){var o=i(6),r=i(21),n=i(26),s=i(5),l=i(3),a=function(){function e(){this.renderedTopFloatingRows=[],this.renderedBottomFloatingRows=[]}return e.prototype.init=function(e,t,i,o,r,s,l,a,d,u,p,h,c){this.columnModel=e,this.gridOptionsWrapper=t,this.angularGrid=o,this.selectionRendererFactory=r,this.gridPanel=i,this.$compile=s,this.$scope=l,this.selectionController=a,this.expressionService=d,this.templateService=u,this.valueService=p,this.findAllElements(i),this.eventService=h,this.floatingRowModel=c,this.cellRendererMap={group:n.default(t,r,d,h),default:function(e){return e.value}},this.renderedRows={}},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.getAllCellsForColumn=function(e){function t(t,o){var r=o.getCellForCol(e);r&&i.push(r)}var i=[];return o.default.iterateObject(this.renderedRows,t),o.default.iterateObject(this.renderedBottomFloatingRows,t),o.default.iterateObject(this.renderedBottomFloatingRows,t),i},e.prototype.setMainRowWidths=function(){var e=this.columnModel.getBodyContainerWidth()+"px";this.eAllBodyContainers.forEach(function(t){for(var i=t.querySelectorAll(".ag-row"),o=0;o<i.length;o++)i[o].style.width=e})},e.prototype.findAllElements=function(e){this.eBodyContainer=e.getBodyContainer(),this.ePinnedLeftColsContainer=e.getPinnedLeftColsContainer(),this.ePinnedRightColsContainer=e.getPinnedRightColsContainer(),this.eFloatingTopContainer=e.getFloatingTopContainer(),this.eFloatingTopPinnedLeftContainer=e.getPinnedLeftFloatingTop(),this.eFloatingTopPinnedRightContainer=e.getPinnedRightFloatingTop(),this.eFloatingBottomContainer=e.getFloatingBottomContainer(),this.eFloatingBottomPinnedLeftContainer=e.getPinnedLeftFloatingBottom(),this.eFloatingBottomPinnedRightContainer=e.getPinnedRightFloatingBottom(),this.eBodyViewport=e.getBodyViewport(),this.eParentsOfRows=e.getRowsParent(),this.eAllBodyContainers=[this.eBodyContainer,this.eFloatingBottomContainer,this.eFloatingTopContainer],this.eAllPinnedLeftContainers=[this.ePinnedLeftColsContainer,this.eFloatingBottomPinnedLeftContainer,this.eFloatingTopPinnedLeftContainer],this.eAllPinnedRightContainers=[this.ePinnedRightColsContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingTopPinnedRightContainer]},e.prototype.refreshAllFloatingRows=function(){this.refreshFloatingRows(this.renderedTopFloatingRows,this.floatingRowModel.getFloatingTopRowData(),this.eFloatingTopPinnedLeftContainer,this.eFloatingTopPinnedRightContainer,this.eFloatingTopContainer),this.refreshFloatingRows(this.renderedBottomFloatingRows,this.floatingRowModel.getFloatingBottomRowData(),this.eFloatingBottomPinnedLeftContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingBottomContainer)},e.prototype.refreshFloatingRows=function(e,t,i,o,n){var s=this;e.forEach(function(e){e.destroy()}),e.length=0;var l=this.columnModel.getAllDisplayedColumns();l&&0!=l.length&&t&&t.forEach(function(t,l){var a=new r.default(s.gridOptionsWrapper,s.valueService,s.$scope,s.angularGrid,s.columnModel,s.expressionService,s.cellRendererMap,s.selectionRendererFactory,s.$compile,s.templateService,s.selectionController,s,n,i,o,t,l,s.eventService);e.push(a)})},e.prototype.refreshView=function(e){if(!this.gridOptionsWrapper.isForPrint()){var t=this.rowModel.getVirtualRowCombinedHeight();this.eBodyContainer.style.height=t+"px",this.ePinnedLeftColsContainer.style.height=t+"px",this.ePinnedRightColsContainer.style.height=t+"px"}this.refreshAllVirtualRows(e),this.refreshAllFloatingRows()},e.prototype.softRefreshView=function(){o.default.iterateObject(this.renderedRows,function(e,t){t.softRefresh()})},e.prototype.refreshRows=function(e){if(e&&0!=e.length){var t=[];o.default.iterateObject(this.renderedRows,function(i,o){var r=o.getRowNode();e.indexOf(r)>=0&&t.push(i)}),this.removeVirtualRow(t),this.drawVirtualRows()}},e.prototype.refreshCells=function(e,t){e&&0!=e.length&&o.default.iterateObject(this.renderedRows,function(i,o){var r=o.getRowNode();e.indexOf(r)>=0&&o.refreshCells(t)})},e.prototype.rowDataChanged=function(e){var t=[],i=this.renderedRows;Object.keys(i).forEach(function(o){i[o].isDataInList(e)&&t.push(o)}),this.removeVirtualRow(t),this.drawVirtualRows()},e.prototype.destroy=function(){var e=Object.keys(this.renderedRows);this.removeVirtualRow(e)},e.prototype.refreshAllVirtualRows=function(e){var t=Object.keys(this.renderedRows);this.removeVirtualRow(t,e),this.drawVirtualRows()},e.prototype.refreshGroupRows=function(){var e=[],t=this;Object.keys(this.renderedRows).forEach(function(i){t.renderedRows[i].isGroup()&&e.push(i)}),this.removeVirtualRow(e),this.ensureRowsRendered()},e.prototype.removeVirtualRow=function(e,t){var i=this,o="number"==typeof t?t:-1;e.forEach(function(e){e>=o&&(i.unbindVirtualRow(e),i.focusedCell&&i.focusedCell.rowIndex==e&&(i.focusedCell=null))})},e.prototype.unbindVirtualRow=function(e){var t=this.renderedRows[e];t.destroy();var i={node:t.getRowNode(),rowIndex:e};this.eventService.dispatchEvent(s.Events.EVENT_VIRTUAL_ROW_REMOVED,i),this.angularGrid.onVirtualRowRemoved(e),delete this.renderedRows[e]},e.prototype.drawVirtualRows=function(){this.workOutFirstAndLastRowsToRender(),this.ensureRowsRendered()},e.prototype.workOutFirstAndLastRowsToRender=function(){var e=this.rowModel.getVirtualRowCount();if(0===e)return this.firstVirtualRenderedRow=0,void(this.lastVirtualRenderedRow=-1);if(this.gridOptionsWrapper.isForPrint())this.firstVirtualRenderedRow=0,this.lastVirtualRenderedRow=e;else{var t=this.eBodyViewport.scrollTop,i=t+this.eBodyViewport.offsetHeight,o=this.rowModel.getRowAtPixel(t),r=this.rowModel.getRowAtPixel(i),n=this.gridOptionsWrapper.getRowBuffer();r+=n,0>(o-=n)&&(o=0),r>e-1&&(r=e-1),this.firstVirtualRenderedRow=o,this.lastVirtualRenderedRow=r}},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstVirtualRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastVirtualRenderedRow},e.prototype.ensureRowsRendered=function(){for(var e=this,t=this.columnModel.getBodyContainerWidth(),i=Object.keys(this.renderedRows),o=this.firstVirtualRenderedRow;o<=this.lastVirtualRenderedRow;o++)if(i.indexOf(o.toString())>=0)i.splice(i.indexOf(o.toString()),1);else{var r=this.rowModel.getVirtualRow(o);r&&this.insertRow(r,o,t)}this.removeVirtualRow(i),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){e.$scope.$apply()},0)},e.prototype.insertRow=function(e,t,i){var o=this.columnModel.getAllDisplayedColumns();if(o&&0!=o.length){var n=new r.default(this.gridOptionsWrapper,this.valueService,this.$scope,this.angularGrid,this.columnModel,this.expressionService,this.cellRendererMap,this.selectionRendererFactory,this.$compile,this.templateService,this.selectionController,this,this.eBodyContainer,this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,e,t,this.eventService);this.renderedRows[t]=n}},e.prototype.getRenderedNodes=function(){var e=this.renderedRows;return Object.keys(e).map(function(t){return e[t].getRowNode()})},e.prototype.getIndexOfRenderedNode=function(e){for(var t=this.renderedRows,i=Object.keys(t),o=0;o<i.length;o++){var r=i[o];if(t[r].getRowNode()===e)return t[r].getRowIndex()}return-1},e.prototype.navigateToNextCell=function(e,t,i){for(var o,r,n={rowIndex:t,column:i};!r;){if(!(n=this.getNextCellToFocus(e,n)))return;r=(o=this.renderedRows[n.rowIndex]).getCellForCol(n.column)}this.gridPanel.ensureIndexVisible(o.getRowIndex()),this.focusCell(r,n.rowIndex,n.column.getColId(),n.column.getColDef(),!0)},e.prototype.getNextCellToFocus=function(e,t){var i,o,r=t.rowIndex,n=t.column;switch(e){case l.default.KEY_UP:if(r===this.firstVirtualRenderedRow)return null;i=r-1,o=n;break;case l.default.KEY_DOWN:if(r===this.lastVirtualRenderedRow)return null;i=r+1,o=n;break;case l.default.KEY_RIGHT:var s=this.columnModel.getDisplayedColAfter(n);if(!s)return null;i=r,o=s;break;case l.default.KEY_LEFT:var a=this.columnModel.getDisplayedColBefore(n);if(!a)return null;i=r,o=a}return{rowIndex:i,column:o}},e.prototype.onRowSelected=function(e,t){this.renderedRows[e]&&this.renderedRows[e].onRowSelected(t)},e.prototype.focusCell=function(e,t,i,r,n){this.gridOptionsWrapper.isSuppressCellSelection()||(this.eParentsOfRows.forEach(function(e){o.default.querySelectorAll_replaceCssClass(e,".ag-cell-focus","ag-cell-focus","ag-cell-no-focus"),o.default.querySelectorAll_replaceCssClass(e,".ag-row-focus","ag-row-focus","ag-row-no-focus");var r='[row="'+t+'"] [colId="'+i+'"]';o.default.querySelectorAll_replaceCssClass(e,r,"ag-cell-no-focus","ag-cell-focus");var n='[row="'+t+'"]';o.default.querySelectorAll_replaceCssClass(e,n,"ag-row-no-focus","ag-row-focus")}),this.focusedCell={rowIndex:t,colId:i,node:this.rowModel.getVirtualRow(t),colDef:r},n&&e.focus(),this.eventService.dispatchEvent(s.Events.EVENT_CELL_FOCUSED,this.focusedCell))},e.prototype.getFocusedCell=function(){return this.focusedCell},e.prototype.setFocusedCell=function(e,t){var i=this.renderedRows[e],o=this.columnModel.getAllDisplayedColumns()[t];if(i&&o){var r=i.getCellForCol(o);this.focusCell(r,e,t,o.getColDef(),!0)}},e.prototype.startEditingNextCell=function(e,t,i){for(var o=this.firstVirtualRenderedRow,r=this.lastVirtualRenderedRow,n=e,s=this.columnModel.getAllDisplayedColumns(),l=t;;){var a=s.indexOf(l);if(i){if((l=s[a-1])||(l=s[s.length-1],n--),o>n)return}else if((l=s[a+1])||(l=s[0],n++),n>r)return;var u=this.renderedRows[n].getRenderedCellForColumn(l);if(u.isCellEditable())return u.startEditing(),void u.focusCell(!1)}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,i){var o=i(6),r=i(22),n=i(8),s=i(23),l=i(5),a=function(){function e(e,t,i,o,r,n,s,l,a,d,u,p,h,c,g,f,v,y){this.renderedCells={},this.gridOptionsWrapper=e,this.valueService=t,this.parentScope=i,this.angularGrid=o,this.expressionService=n,this.columnController=r,this.cellRendererMap=s,this.selectionRendererFactory=l,this.$compile=a,this.templateService=d,this.selectionController=u,this.rowRenderer=p,this.eBodyContainer=h,this.ePinnedLeftContainer=c,this.ePinnedRightContainer=g,this.pinningLeft=r.isPinningLeft(),this.pinningRight=r.isPinningRight(),this.eventService=y;var C=this.gridOptionsWrapper.isGroupUseEntireRow(),m=f.group&&C;this.vBodyRow=this.createRowContainer(),this.pinningLeft&&(this.vPinnedLeftRow=this.createRowContainer()),this.pinningRight&&(this.vPinnedRightRow=this.createRowContainer()),this.rowIndex=v,this.node=f,this.scope=this.createChildScopeOrNull(f.data),m||this.drawNormalRow(),this.addDynamicStyles(),this.addDynamicClasses();var w=this.rowIndex.toString();if(this.node.floatingBottom?w="fb-"+w:this.node.floatingTop&&(w="ft-"+w),this.vBodyRow.setAttribute("row",w),this.pinningLeft&&this.vPinnedLeftRow.setAttribute("row",w),this.pinningRight&&this.vPinnedRightRow.setAttribute("row",w),"function"==typeof this.gridOptionsWrapper.getBusinessKeyForNodeFunc()){var E=this.gridOptionsWrapper.getBusinessKeyForNodeFunc()(this.node);("string"==typeof E||"number"==typeof E)&&(this.vBodyRow.setAttribute("row-id",E),this.pinningLeft&&this.vPinnedLeftRow.setAttribute("row-id",E),this.pinningRight&&this.vPinnedRightRow.setAttribute("row-id",E))}if(!this.gridOptionsWrapper.isForPrint()){var R=this.node.rowTop+"px";this.vBodyRow.style.top=R,this.pinningLeft&&(this.vPinnedLeftRow.style.top=R),this.pinningRight&&(this.vPinnedRightRow.style.top=R)}var b=this.node.rowHeight+"px";this.vBodyRow.style.height=b,this.pinningLeft&&(this.vPinnedLeftRow.style.height=b),this.pinningRight&&(this.vPinnedRightRow.style.height=b),m&&this.createGroupRow(),this.bindVirtualElement(this.vBodyRow),this.pinningLeft&&this.bindVirtualElement(this.vPinnedLeftRow),this.pinningRight&&this.bindVirtualElement(this.vPinnedRightRow),this.scope&&(this.$compile(this.vBodyRow.getElement())(this.scope),this.pinningLeft&&this.$compile(this.vPinnedLeftRow.getElement())(this.scope),this.pinningRight&&this.$compile(this.vPinnedRightRow.getElement())(this.scope)),this.eBodyContainer.appendChild(this.vBodyRow.getElement()),this.pinningLeft&&this.ePinnedLeftContainer.appendChild(this.vPinnedLeftRow.getElement()),this.pinningRight&&this.ePinnedRightContainer.appendChild(this.vPinnedRightRow.getElement())}return e.prototype.onRowSelected=function(e){o.default.iterateObject(this.renderedCells,function(t,i){i.setSelected(e)})},e.prototype.softRefresh=function(){o.default.iterateObject(this.renderedCells,function(e,t){t.isVolatile()&&t.refreshCell()})},e.prototype.getRenderedCellForColumn=function(e){return this.renderedCells[e.getColId()]},e.prototype.getCellForCol=function(e){var t=this.renderedCells[e.getColId()];return t?t.getVGridCell().getElement():null},e.prototype.destroy=function(){this.destroyScope(),this.pinningLeft&&this.ePinnedLeftContainer.removeChild(this.vPinnedLeftRow.getElement()),this.pinningRight&&this.ePinnedRightContainer.removeChild(this.vPinnedRightRow.getElement()),this.eBodyContainer.removeChild(this.vBodyRow.getElement()),o.default.iterateObject(this.renderedCells,function(e,t){t.destroy()})},e.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},e.prototype.isDataInList=function(e){return e.indexOf(this.node.data)>=0},e.prototype.isNodeInList=function(e){return e.indexOf(this.node)>=0},e.prototype.isGroup=function(){return!0===this.node.group},e.prototype.drawNormalRow=function(){for(var e=this.columnController.getAllDisplayedColumns(),t=this.columnController.getFirstRightPinnedColIndex(),i=0;i<e.length;i++){var o=e[i],s=i===t,l=new r.default(s,o,this.$compile,this.rowRenderer,this.gridOptionsWrapper,this.expressionService,this.selectionRendererFactory,this.selectionController,this.templateService,this.cellRendererMap,this.node,this.rowIndex,i,this.scope,this.columnController,this.valueService,this.eventService),a=l.getVGridCell();o.getPinned()===n.default.PINNED_LEFT?this.vPinnedLeftRow.appendChild(a):o.getPinned()===n.default.PINNED_RIGHT?this.vPinnedRightRow.appendChild(a):this.vBodyRow.appendChild(a),this.renderedCells[o.getColId()]=l}},e.prototype.bindVirtualElement=function(e){var t=e.toHtmlString(),i=o.default.loadTemplate(t);e.elementAttached(i)},e.prototype.createGroupRow=function(){var e=this.createGroupSpanningEntireRowCell(!1);if(this.pinningLeft){this.vPinnedLeftRow.appendChild(e);var t=this.createGroupSpanningEntireRowCell(!0);this.vBodyRow.appendChild(t)}else this.vBodyRow.appendChild(e);if(this.pinningRight){var i=this.createGroupSpanningEntireRowCell(!0);this.vPinnedRightRow.appendChild(i)}},e.prototype.createGroupSpanningEntireRowCell=function(e){var t;if(e)t=document.createElement("span");else{var i=this.gridOptionsWrapper.getGroupRowRenderer();i||(i={renderer:"group",innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()});var r,n={node:this.node,data:this.node.data,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),colDef:{cellRenderer:i}};if("object"==typeof i&&null!==i){var s=i;if(!(r=this.cellRendererMap[s.renderer]))throw"Cell renderer "+i+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof i)throw"Cell Renderer must be String or Function";r=i}var l=r(n);t=o.default.isNodeOrElement(l)?l:o.default.loadTemplate(l)}return this.node.footer?o.default.addCssClass(t,"ag-footer-cell-entire-row"):o.default.addCssClass(t,"ag-group-cell-entire-row"),t},e.prototype.createChildScopeOrNull=function(e){if(this.gridOptionsWrapper.isAngularCompileRows()){var t=this.parentScope.$new();return t.data=e,t}return null},e.prototype.addDynamicStyles=function(){var e=this.gridOptionsWrapper.getRowStyle();e&&("function"==typeof e?console.log("ag-Grid: rowStyle should be a string or an array, not be a function, use getRowStyle() instead"):(this.vBodyRow.addStyles(e),this.pinningLeft&&this.vPinnedLeftRow.addStyles(e),this.pinningRight&&this.vPinnedRightRow.addStyles(e)));var t=this.gridOptionsWrapper.getRowStyleFunc();if(t){var o=t({data:this.node.data,node:this.node,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope});this.vBodyRow.addStyles(o),this.pinningLeft&&this.vPinnedLeftRow.addStyles(o),this.pinningRight&&this.vPinnedRightRow.addStyles(o)}},e.prototype.createParams=function(){return{node:this.node,data:this.node.data,rowIndex:this.rowIndex,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}},e.prototype.createEvent=function(e,t){var i=this.createParams();return i.event=e,i.eventSource=t,i},e.prototype.createRowContainer=function(){var e=new s.default("div"),t=this;return e.addEventListener("click",function(e){var i=t.createEvent(e,this);t.eventService.dispatchEvent(l.Events.EVENT_ROW_CLICKED,i);var o=e.ctrlKey||e.metaKey;t.angularGrid.onRowClicked(o,t.rowIndex,t.node)}),e.addEventListener("dblclick",function(e){var i=t.createEvent(e,this);t.eventService.dispatchEvent(l.Events.EVENT_ROW_DOUBLE_CLICKED,i)}),e},e.prototype.getRowNode=function(){return this.node},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.refreshCells=function(e){if(e){var t=this.columnController.getColumns(e);o.default.iterateObject(this.renderedCells,function(e,i){var o=i.getColumn();t.indexOf(o)>=0&&i.refreshCell()})}},e.prototype.addDynamicClasses=function(){var e=[];e.push("ag-row"),e.push("ag-row-no-focus"),e.push(this.rowIndex%2==0?"ag-row-even":"ag-row-odd"),this.selectionController.isNodeSelected(this.node)&&e.push("ag-row-selected"),this.node.group?(e.push("ag-row-group"),e.push("ag-row-level-"+this.node.level),!this.node.footer&&this.node.expanded&&e.push("ag-row-group-expanded"),this.node.footer||this.node.expanded||e.push("ag-row-group-contracted"),this.node.footer&&e.push("ag-row-footer")):this.node.parent?e.push("ag-row-level-"+(this.node.parent.level+1)):e.push("ag-row-level-0");var t=this.gridOptionsWrapper.getRowClass();t&&("function"==typeof t?console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead"):"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach(function(t){e.push(t)}));var i=this.gridOptionsWrapper.getRowClassFunc();if(i){var r=i({node:this.node,data:this.node.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()});r&&("string"==typeof r?e.push(r):Array.isArray(r)&&r.forEach(function(t){e.push(t)}))}this.vBodyRow.addClasses(e),this.pinningLeft&&this.vPinnedLeftRow.addClasses(e),this.pinningRight&&this.vPinnedRightRow.addClasses(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,i){var o=i(6),r=i(23),n=i(8),s=i(3),l=i(5),a=i(25),d=function(){function e(e,t,i,o,r,n,s,l,a,d,u,p,h,c,g,f,v){this.destroyMethods=[],this.firstRightPinnedColumn=e,this.column=t,this.rowRenderer=o,this.gridOptionsWrapper=r,this.expressionService=n,this.selectionRendererFactory=s,this.selectionController=l,this.cellRendererMap=d,this.$compile=i,this.templateService=a,this.columnController=g,this.valueService=f,this.eventService=v,this.node=u,this.rowIndex=p,this.colIndex=h,this.scope=c,this.data=this.getDataForRow(),this.value=this.getValue(),this.checkboxSelection=this.calculateCheckboxSelection(),this.setupComponents()}return e.prototype.destroy=function(){this.destroyMethods.forEach(function(e){e()})},e.prototype.calculateCheckboxSelection=function(){if(this.node.floating)return!1;var e=this.column.getColDef();if("boolean"==typeof e.checkboxSelection)return e.checkboxSelection;var t;if("function"==typeof e.checkboxSelection&&(t=e.checkboxSelection),!t&&this.gridOptionsWrapper.getCheckboxSelection()&&(t=this.gridOptionsWrapper.getCheckboxSelection()),t){return t(this.createParams())}return!1},e.prototype.getColumn=function(){return this.column},e.prototype.getValue=function(){return this.valueService.getValue(this.column.getColDef(),this.data,this.node)},e.prototype.getVGridCell=function(){return this.vGridCell},e.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(this.node.group){var e=this.gridOptionsWrapper.isGroupIncludeFooter(),t=this.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.node.expanded&&e&&!t?void 0:this.node.data}return this.node.data},e.prototype.setLeftOnCell=function(){var e=this,t=function(){e.vGridCell.addStyles({left:e.column.getLeft()+"px"})};this.column.addEventListener(n.default.EVENT_LEFT_CHANGED,t),this.destroyMethods.push(function(){e.column.removeEventListener(n.default.EVENT_LEFT_CHANGED,t)}),t()},e.prototype.setWidthOnCell=function(){var e=this,t=function(){e.vGridCell.addStyles({width:e.column.getActualWidth()+"px"})};this.column.addEventListener(n.default.EVENT_WIDTH_CHANGED,t),this.destroyMethods.push(function(){e.column.removeEventListener(n.default.EVENT_WIDTH_CHANGED,t)}),t()},e.prototype.setupComponents=function(){this.vGridCell=new r.default("div"),this.setLeftOnCell(),this.setWidthOnCell(),this.gridOptionsWrapper.isSuppressCellSelection()||this.node.floating||this.vGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.addCellClickedHandler(),this.addCellDoubleClickedHandler(),this.addCellContextMenuHandler(),this.node.floating||this.addCellNavigationHandler(),this.createParentOfValue(),this.populateCell(),this.eCheckbox&&this.setSelected(this.selectionController.isNodeSelected(this.node))},e.prototype.startEditing=function(e){var t=this,i=this;this.editingCell=!0,o.default.removeAllChildren(this.vGridCell.getElement());var r=document.createElement("input");r.type="text",o.default.addCssClass(r,"ag-cell-edit-input");var n=e!==s.default.KEY_BACKSPACE&&e!==s.default.KEY_DELETE,l=this.getValue();n&&null!==l&&void 0!==l&&(r.value=l),r.style.width=this.column.getActualWidth()-14+"px",this.vGridCell.appendChild(r),r.focus(),r.select();var a=function(){i.stopEditing(r,a)};r.addEventListener("blur",a),r.addEventListener("keypress",function(e){(e.which||e.keyCode)===s.default.KEY_ENTER&&(t.stopEditing(r,a),t.focusCell(!0))}),r.addEventListener("keydown",function(e){(e.which||e.keyCode)===s.default.KEY_ESCAPE&&(t.stopEditing(r,a,!0),t.focusCell(!0))}),r.addEventListener("keydown",function(e){return(e.which||e.keyCode)==s.default.KEY_TAB?(i.stopEditing(r,a),i.rowRenderer.startEditingNextCell(i.rowIndex,i.column,e.shiftKey),e.preventDefault(),!1):void 0})},e.prototype.focusCell=function(e){this.rowRenderer.focusCell(this.vGridCell.getElement(),this.rowIndex,this.column.getColId(),this.column.getColDef(),e)},e.prototype.stopEditing=function(e,t,i){void 0===i&&(i=!1),this.editingCell=!1;var r=e.value,n=this.column.getColDef();if(e.removeEventListener("blur",t),!i){var s={node:this.node,data:this.node.data,oldValue:this.node.data[n.field],newValue:r,rowIndex:this.rowIndex,colDef:n,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};n.newValueHandler?n.newValueHandler(s):this.valueService.setValueUsingField(this.node.data,n.field,r),this.value=this.getValue(),s.newValue=this.value,"function"==typeof n.onCellValueChanged&&n.onCellValueChanged(s),this.eventService.dispatchEvent(l.Events.EVENT_CELL_VALUE_CHANGED,s)}o.default.removeAllChildren(this.vGridCell.getElement()),this.checkboxSelection&&this.vGridCell.appendChild(this.vCellWrapper.getElement()),this.refreshCell()},e.prototype.createParams=function(){return{node:this.node,data:this.node.data,value:this.value,rowIndex:this.rowIndex,colIndex:this.colIndex,colDef:this.column.getColDef(),$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}},e.prototype.createEvent=function(e,t){var i=this.createParams();return i.event=e,i.eventSource=t,i},e.prototype.addCellDoubleClickedHandler=function(){var e=this,t=this.column.getColDef();this.vGridCell.addEventListener("dblclick",function(i){var o=e.createEvent(i,this);e.eventService.dispatchEvent(l.Events.EVENT_CELL_DOUBLE_CLICKED,o),"function"==typeof t.onCellDoubleClicked&&t.onCellDoubleClicked(o),!e.gridOptionsWrapper.isSingleClickEdit()&&e.isCellEditable()&&e.startEditing()})},e.prototype.addCellContextMenuHandler=function(){var e=this,t=this.column.getColDef();this.vGridCell.addEventListener("contextmenu",function(i){var o=e.createEvent(i,this);e.eventService.dispatchEvent(l.Events.EVENT_CELL_CONTEXT_MENU,o),t.onCellContextMenu&&t.onCellContextMenu(o)})},e.prototype.isCellEditable=function(){if(this.editingCell)return!1;if(this.node.group)return!1;var e=this.column.getColDef();if("boolean"==typeof e.editable)return e.editable;if("function"==typeof e.editable){var t=this.createParams();return(0,e.editable)(t)}return!1},e.prototype.addCellClickedHandler=function(){var e=this.column.getColDef(),t=this;this.vGridCell.addEventListener("click",function(i){t.node.floating||t.focusCell(!1);var o=t.createEvent(i,this);t.eventService.dispatchEvent(l.Events.EVENT_CELL_CLICKED,o),e.onCellClicked&&e.onCellClicked(o),t.gridOptionsWrapper.isSingleClickEdit()&&t.isCellEditable()&&t.startEditing()})},e.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromCollDef(),this.addClassesFromCollDef(),this.addClassesFromRules()},e.prototype.addStylesFromCollDef=function(){var e=this.column.getColDef();if(e.cellStyle){var t;if("function"==typeof e.cellStyle){var i={value:this.value,data:this.node.data,node:this.node,colDef:e,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.vGridCell.addStyles(t)}},e.prototype.addClassesFromCollDef=function(){var e=this,t=this.column.getColDef();if(t.cellClass){var i;if("function"==typeof t.cellClass){var o={value:this.value,data:this.node.data,node:this.node,colDef:t,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};i=(0,t.cellClass)(o)}else i=t.cellClass;"string"==typeof i?this.vGridCell.addClass(i):Array.isArray(i)&&i.forEach(function(t){e.vGridCell.addClass(t)})}},e.prototype.addClassesFromRules=function(){var e=this.column.getColDef(),t=e.cellClassRules;if("object"==typeof t&&null!==t)for(var i={value:this.value,data:this.node.data,node:this.node,colDef:e,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},o=Object.keys(t),r=0;r<o.length;r++){var n,s=o[r],l=t[s];"string"==typeof l?n=this.expressionService.evaluate(l,i):"function"==typeof l&&(n=l(i)),n?this.vGridCell.addClass(s):this.vGridCell.removeClass(s)}},e.prototype.addCellNavigationHandler=function(){var e=this;this.vGridCell.addEventListener("keydown",function(t){if(!e.editingCell&&t.target===e.vGridCell.getElement()){var i=t.which||t.keyCode;if(i===s.default.KEY_DOWN||i===s.default.KEY_UP||i===s.default.KEY_LEFT||i===s.default.KEY_RIGHT)return t.preventDefault(),void e.rowRenderer.navigateToNextCell(i,e.rowIndex,e.column);if(e.isKeycodeForStartEditing(i)&&e.isCellEditable())return e.startEditing(i),void t.preventDefault();if(i===s.default.KEY_SPACE&&e.gridOptionsWrapper.isRowSelection()){return e.selectionController.isNodeSelected(e.node)?e.selectionController.deselectNode(e.node):e.selectionController.selectNode(e.node,!0),void t.preventDefault()}}})},e.prototype.isKeycodeForStartEditing=function(e){return e===s.default.KEY_ENTER||e===s.default.KEY_BACKSPACE||e===s.default.KEY_DELETE},e.prototype.createSelectionCheckbox=function(){this.eCheckbox=document.createElement("input"),this.eCheckbox.type="checkbox",this.eCheckbox.name="name",this.eCheckbox.className="ag-selection-checkbox",this.eCheckbox.addEventListener("click",function(e){e.stopPropagation()});var e=this;this.checkboxOnChangeListener=function(){e.eCheckbox.checked?e.selectionController.selectIndex(e.rowIndex,!0):e.selectionController.deselectIndex(e.rowIndex)},this.eCheckbox.onchange=this.checkboxOnChangeListener},e.prototype.setSelected=function(e){this.eCheckbox&&(this.eCheckbox.onchange=null,"boolean"==typeof e?(this.eCheckbox.checked=e,this.eCheckbox.indeterminate=!1):this.eCheckbox.indeterminate=!0,this.eCheckbox.onchange=this.checkboxOnChangeListener)},e.prototype.createParentOfValue=function(){this.checkboxSelection?(this.vCellWrapper=new r.default("span"),this.vCellWrapper.addClass("ag-cell-wrapper"),this.vGridCell.appendChild(this.vCellWrapper),this.createSelectionCheckbox(),this.vCellWrapper.appendChild(new a.default(this.eCheckbox)),this.vSpanWithValue=new r.default("span"),this.vSpanWithValue.addClass("ag-cell-value"),this.vCellWrapper.appendChild(this.vSpanWithValue),this.vParentOfValue=this.vSpanWithValue):(this.vGridCell.addClass("ag-cell-value"),this.vParentOfValue=this.vGridCell)},e.prototype.isVolatile=function(){return this.column.getColDef().volatile},e.prototype.refreshCell=function(){o.default.removeAllChildren(this.vParentOfValue.getElement()),this.value=this.getValue(),this.populateCell(),this.checkboxSelection&&this.setSelected(this.selectionController.isNodeSelected(this.node)),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.vGridCell.getElement())(this.scope)},e.prototype.putDataIntoCell=function(){var e=this.column.getColDef();if(e.template)this.vParentOfValue.setInnerHtml(e.template);else if(e.templateUrl){var t=this.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&this.vParentOfValue.setInnerHtml(t)}else e.floatingCellRenderer&&this.node.floating?this.useCellRenderer(e.floatingCellRenderer):e.cellRenderer?this.useCellRenderer(e.cellRenderer):void 0!==this.value&&null!==this.value&&""!==this.value&&this.vParentOfValue.setInnerHtml(this.value.toString())},e.prototype.useCellRenderer=function(e){var t,i=this.column.getColDef(),r={value:this.value,valueGetter:this.getValue,data:this.node.data,node:this.node,colDef:i,column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.vGridCell,eParentOfValue:this.vParentOfValue};if("object"==typeof e&&null!==e){var n=e;if(!(t=this.cellRendererMap[n.renderer]))throw"Cell renderer "+e+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof e)throw"Cell Renderer must be String or Function";t=e}var s=t(r);o.default.isNodeOrElement(s)?this.vParentOfValue.appendChild(s):this.vParentOfValue.setInnerHtml(s)},e.prototype.addClasses=function(){this.vGridCell.addClass("ag-cell"),this.vGridCell.addClass("ag-cell-no-focus"),this.vGridCell.setAttribute("colId",this.column.getColId()),this.node.group&&this.node.footer&&this.vGridCell.addClass("ag-footer-cell"),this.node.group&&!this.node.footer&&this.vGridCell.addClass("ag-group-cell"),this.firstRightPinnedColumn&&this.vGridCell.addClass("ag-cell-first-right-pinned")},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=i(6),n=i(24),s=i(25),l=function(e){function t(t){e.call(this),this.style={},this.type=t}return o(t,e),t.prototype.getElement=function(){return this.element},t.prototype.setInnerHtml=function(e){this.bound?this.element.innerHTML=e:this.innerHtml=e},t.prototype.addStyles=function(e){var t=this;e&&(this.bound||this.style||(this.style={}),r.default.iterateObject(e,function(e,i){if(t.bound){t.element.style[e]=i}else t.style[e]=i}))},t.prototype.attachEventListeners=function(e){if(this.eventListeners)for(var t=0;t<this.eventListeners.length;t++){var i=this.eventListeners[t];e.addEventListener(i.event,i.listener)}},t.prototype.addClass=function(e){this.bound?r.default.addCssClass(this.element,e):(this.classes||(this.classes=[]),this.classes.push(e))},t.prototype.removeClass=function(e){if(this.bound)r.default.removeCssClass(this.element,e);else{if(!this.classes)return;for(;this.classes.indexOf(e)>=0;)r.default.removeFromArray(this.classes,e)}},t.prototype.addClasses=function(e){if(e&&!(e.length<=0))if(this.bound)for(var t=0;t<e.length;t++)r.default.addCssClass(this.element,e[t]);else{this.classes||(this.classes=[]);for(var i=0;i<e.length;i++)this.classes.push(e[i])}},t.prototype.toHtmlString=function(){var e="";return e+="<"+this.type+' v_element_id="'+this.getId()+'" ',e+=this.toHtmlStringClasses(),e+=this.toHtmlStringAttributes(),e+=this.toHtmlStringStyles(),e+=">",null!==this.innerHtml&&void 0!==this.innerHtml&&(e+=this.innerHtml),e+=this.toHtmlStringChildren(),e+="</"+this.type+">"},t.prototype.toHtmlStringChildren=function(){if(!this.children)return"";for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toHtmlString();return e},t.prototype.toHtmlStringAttributes=function(){if(!this.attributes)return"";var e="";return r.default.iterateObject(this.attributes,function(t,i){e+=" "+t+'="'+i+'"'}),e},t.prototype.toHtmlStringClasses=function(){return this.classes?' class="'+this.classes.join(" ")+'"':""},t.prototype.toHtmlStringStyles=function(){var e=' style="',t=!1;return r.default.iterateObject(this.style,function(i,o){e+=" "+i+": "+o+";",t=!0}),e+='"',t?e:""},t.prototype.appendChild=function(e){this.bound?r.default.isNodeOrElement(e)?this.element.appendChild(e):console.error("cannot appendChild with virtual child to already bound VHTMLElement"):(this.children||(this.children=[]),r.default.isNodeOrElement(e)?this.children.push(new s.default(e)):this.children.push(e))},t.prototype.setAttribute=function(e,t){this.bound?this.element.setAttribute(e,t):(this.attributes||(this.attributes={}),this.attributes[e]=t)},t.prototype.addEventListener=function(e,t){if(this.bound)this.element.addEventListener(e,t);else{this.eventListeners||(this.eventListeners=[]);var i=new a(e,t);this.eventListeners.push(i)}},t.prototype.elementAttached=function(t){e.prototype.elementAttached.call(this,t),this.element=t,this.attachEventListeners(t),this.fireElementAttachedToChildren(t),this.bound=!0},t.prototype.fireElementAttachedToChildren=function(e){if(this.children)for(var t=0;t<this.children.length;t++){var i=this.children[t],o=e.querySelector('[v_element_id="'+i.getId()+'"]');i.elementAttached(o)}},t}(n.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var a=function(){return function(e,t){this.event=e,this.listener=t}}()},function(e,t){var i=function(){function e(){this.id=e.idSequence++}return e.prototype.getId=function(){return this.id},e.prototype.addElementAttachedListener=function(e){this.elementAttachedListeners||(this.elementAttachedListeners=[]),this.elementAttachedListeners.push(e)},e.prototype.fireElementAttached=function(e){if(this.elementAttachedListeners)for(var t=0;t<this.elementAttachedListeners.length;t++){(0,this.elementAttachedListeners[t])(e)}},e.prototype.elementAttached=function(e){this.fireElementAttached(e)},e.prototype.toHtmlString=function(){return null},e.idSequence=0,e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=function(e){function t(t){e.call(this),this.wrappedElement=t}return o(t,e),t.prototype.toHtmlString=function(){return'<span v_element_id="'+this.getId()+'"></span>'},t.prototype.elementAttached=function(e){var t=e.parentNode;t.insertBefore(this.wrappedElement,e),t.removeChild(e)},t}(i(24).default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,i){var r=i(27),n=i(6),s=i(3),l=i(5),a=r.default.getInstance();Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){function r(e,t){function i(){h(o,r,t)}var o=c(!0),r=c(!1);e.appendChild(o),e.appendChild(r),o.addEventListener("click",i),r.addEventListener("click",i),e.addEventListener("dblclick",i),d(o,r,t.node.expanded),t.eGridCell&&t.eGridCell.addEventListener("keydown",function(e){n.default.isKeyPressed(e,s.default.KEY_ENTER)&&(i(),e.preventDefault())})}function d(e,t,i){n.default.setVisible(e,!i),n.default.setVisible(t,i)}function u(e,t,i){n.default.useRenderer(e,i,t)}function p(t){return e.isGroupIncludeFooter()?t.rowIndex:t.rowIndex+1}function h(e,t,i){i.node.expanded=!i.node.expanded;var r=p(i);i.api.onGroupExpandedOrCollapsed(r),d(e,t,i.node.expanded);var n={node:i.node};o.dispatchEvent(l.Events.EVENT_ROW_GROUP_OPENED,n)}function c(t){var i;return i=t?n.default.createIcon("groupContracted",e,null,a.createArrowRightSvg):n.default.createIcon("groupExpanded",e,null,a.createArrowDownSvg),n.default.addCssClass(i,"ag-group-expand"),i}function g(e,t){var o,r=f(t);if(t.colDef&&t.colDef.cellRenderer&&t.colDef.cellRenderer.footerValueGetter){var s=t.colDef.cellRenderer.footerValueGetter,l=n.default.cloneObject(t);l.value=r,"function"==typeof s?o=s(l):"string"==typeof s?o=i.evaluate(s,l):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else o="Total "+r;var a=document.createTextNode(o);e.appendChild(a)}function f(e){var t=e.colDef.cellRenderer;if(t&&t.keyMap&&"object"==typeof t.keyMap&&null!==e.colDef.cellRenderer){var i=t.keyMap[e.node.key];return i||e.node.key}return e.node.key}function v(e,t){var i=f(t),o=t.api.getColumnDef(t.node.field);o&&"function"==typeof o.cellRenderer?(t.value=i,n.default.useRenderer(e,o.cellRenderer,t)):e.appendChild(document.createTextNode(i)),(!t.colDef.cellRenderer||!t.colDef.cellRenderer.suppressCount)&&t.node.allChildrenCount>=0&&e.appendChild(document.createTextNode(" ("+t.node.allChildrenCount+")"))}return function(e){var i=document.createElement("span"),o=e.node;if(o.group&&!o.footer&&r(i,e),e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.checkbox&&!o.footer){var l=t.createSelectionCheckbox(o,e.rowIndex);i.appendChild(l)}if(e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.innerRenderer?u(i,e,e.colDef.cellRenderer.innerRenderer):o.footer?g(i,e):o.group?v(i,e):function(e,t){if(t.value){var i=document.createTextNode(" "+t.value);e.appendChild(i)}}(i,e),!(e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.suppressPadding)&&(o.footer||o.level>0)){var d;d=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.padding>=0?e.colDef.cellRenderer.padding:10;var p=o.level*d;o.footer?p+=10:o.group||(p+=5),i.style.paddingLeft=p+"px"}return i}}},function(e,t){function i(e,t){var i=o(t),r=document.createElementNS(n,"polygon");return r.setAttribute("points",e),i.appendChild(r),i}function o(e){var t=document.createElementNS(n,"svg");return e>0?(t.setAttribute("width",e),t.setAttribute("height",e)):(t.setAttribute("width","10"),t.setAttribute("height","10")),t}function r(e){var t=o(),i=document.createElementNS(n,"circle");return i.setAttribute("cx","5"),i.setAttribute("cy","5"),i.setAttribute("r","5"),i.setAttribute("stroke","black"),i.setAttribute("stroke-width","2"),e?i.setAttribute("fill","black"):i.setAttribute("fill","none"),t.appendChild(i),t}var n="http://www.w3.org/2000/svg",s=function(){function e(){}return e.getInstance=function(){return this.theInstance||(this.theInstance=new e),this.theInstance},e.prototype.createFilterSvg=function(){var e=o(),t=document.createElementNS(n,"polygon");return t.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),t.setAttribute("class","ag-header-icon"),e.appendChild(t),e},e.prototype.createColumnShowingSvg=function(){return r(!0)},e.prototype.createColumnHiddenSvg=function(){return r(!1)},e.prototype.createMenuSvg=function(){var e=document.createElementNS(n,"svg"),t="12";return e.setAttribute("width",t),e.setAttribute("height",t),["0","5","10"].forEach(function(i){var o=document.createElementNS(n,"rect");o.setAttribute("y",i),o.setAttribute("width",t),o.setAttribute("height","2"),o.setAttribute("class","ag-header-icon"),e.appendChild(o)}),e},e.prototype.createArrowUpSvg=function(){return i("0,10 5,0 10,10")},e.prototype.createArrowLeftSvg=function(){return i("10,0 0,5 10,10")},e.prototype.createArrowDownSvg=function(){return i("0,0 5,10 10,0")},e.prototype.createArrowRightSvg=function(){return i("0,0 10,5 0,10")},e.prototype.createSmallArrowDownSvg=function(){return i("0,0 3,6 6,0",6)},e.prototype.createArrowUpDownSvg=function(){var e=o(),t=document.createElementNS(n,"polygon");t.setAttribute("points","0,4 5,0 10,4"),e.appendChild(t);var i=document.createElementNS(n,"polygon");return i.setAttribute("points","0,6 5,10 10,6"),e.appendChild(i),e},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,i){var o=i(6),r=i(15),n=i(29),s=i(31),l=function(){function e(){this.headerElements=[]}return e.prototype.init=function(e,t,i,o,r,n,s,l,a){this.gridOptionsWrapper=e,this.columnController=t,this.grid=o,this.filterManager=r,this.$scope=n,this.$compile=s,this.headerTemplateLoader=l,this.dragService=a,this.gridPanel=i,this.findAllElements()},e.prototype.findAllElements=function(){this.ePinnedLeftHeader=this.gridPanel.getPinnedLeftHeader(),this.ePinnedRightHeader=this.gridPanel.getPinnedRightHeader(),this.eHeaderContainer=this.gridPanel.getHeaderContainer(),this.eHeaderViewport=this.gridPanel.getHeaderViewport(),this.eRoot=this.gridPanel.getRoot(),this.eHeaderOverlay=this.gridPanel.getHeaderOverlay()},e.prototype.refreshHeader=function(){o.default.removeAllChildren(this.ePinnedLeftHeader),o.default.removeAllChildren(this.ePinnedRightHeader),o.default.removeAllChildren(this.eHeaderContainer),this.headerElements.forEach(function(e){e.destroy()}),this.headerElements=[],this.insertHeaderRowsIntoContainer(this.columnController.getLeftDisplayedColumnGroups(),this.ePinnedLeftHeader),this.insertHeaderRowsIntoContainer(this.columnController.getRightDisplayedColumnGroups(),this.ePinnedRightHeader),this.insertHeaderRowsIntoContainer(this.columnController.getCenterDisplayedColumnGroups(),this.eHeaderContainer)},e.prototype.addChildToOverlay=function(e){this.eHeaderOverlay&&this.eHeaderOverlay.appendChild(e)},e.prototype.removeChildFromOverlay=function(e){this.eHeaderOverlay&&this.eHeaderOverlay.removeChild(e)},e.prototype.addTreeNodesAtDept=function(e,t,i){var o=this;e.forEach(function(e){if(0===t)i.push(e);else if(e instanceof r.default){var n=e;o.addTreeNodesAtDept(n.getDisplayedChildren(),t-1,i)}})},e.prototype.setPinnedColContainerWidth=function(){if(!this.gridOptionsWrapper.isForPrint()){var e=this.columnController.getPinnedLeftContainerWidth()+"px";this.eHeaderViewport.style.marginLeft=e;var t=this.columnController.getPinnedRightContainerWidth()+"px";this.eHeaderViewport.style.marginRight=t}},e.prototype.getRightPinnedStartPixel=function(){return this.ePinnedRightHeader.getBoundingClientRect().left-this.eHeaderOverlay.getBoundingClientRect().left},e.prototype.insertHeaderRowsIntoContainer=function(e,t){for(var i=this,o=this.gridOptionsWrapper.getHeaderHeight(),n=0;;n++){var s=[];if(this.addTreeNodesAtDept(e,n,s),0===s.length)break;var l=document.createElement("div");l.className="ag-header-row",l.style.top=n*o+"px",l.style.height=o+"px",s.forEach(function(e){if(!(e instanceof r.default&&0==e.getDisplayedChildren().length)){var t=i.createHeaderElement(e);i.headerElements.push(t),l.appendChild(t.getGui())}}),t.appendChild(l)}this.eHeaderOverlay&&(this.eHeaderOverlay.style.height=o+"px",this.eHeaderOverlay.style.top=(n-1)*o+"px")},e.prototype.createHeaderElement=function(e){return e instanceof r.default?new n.default(e,this.gridOptionsWrapper,this.columnController,this.eRoot,this.$scope,this.filterManager,this.$compile,this.dragService):new s.default(e,null,this.gridOptionsWrapper,this.$scope,this.filterManager,this.columnController,this.$compile,this.grid,this.eRoot,this.headerTemplateLoader,this,this.dragService,this.gridPanel)},e.prototype.updateSortIcons=function(){this.headerElements.forEach(function(e){e.refreshSortIcon()})},e.prototype.updateFilterIcons=function(){this.headerElements.forEach(function(e){e.refreshFilterIcon()})},e.prototype.onIndividualColumnResized=function(e){this.headerElements.forEach(function(t){t.onIndividualColumnResized(e)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=i(6),n=i(27),s=i(30),l=n.default.getInstance(),a=function(e){function t(t,i,o,r,n,s,l,a){e.call(this,i),this.columnController=o,this.columnGroup=t,this.parentScope=n,this.filterManager=s,this.$compile=l,this.setupComponents(r,a)}return o(t,e),t.prototype.getGui=function(){return this.eHeaderGroupCell},t.prototype.onIndividualColumnResized=function(e){this.columnGroup.isChildInThisGroupDeepSearch(e)&&this.setWidthOfGroupHeaderCell()},t.prototype.setupComponents=function(e,t){var i=this;this.eHeaderGroupCell=document.createElement("div");var o=["ag-header-group-cell"];this.columnGroup.getColGroupDef()?o.push("ag-header-group-cell-with-group"):o.push("ag-header-group-cell-no-group"),this.eHeaderGroupCell.className=o.join(" "),this.addHeaderClassesFromCollDef(this.columnGroup.getColGroupDef(),this.eHeaderGroupCell),this.getGridOptionsWrapper().isEnableColResize()&&(this.eHeaderCellResize=document.createElement("div"),this.eHeaderCellResize.className="ag-header-cell-resize",this.eHeaderGroupCell.appendChild(this.eHeaderCellResize),t.addDragHandling({eDraggableElement:this.eHeaderCellResize,eBody:e,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),this.getGridOptionsWrapper().isSuppressAutoSize()||this.eHeaderCellResize.addEventListener("dblclick",function(e){var t=[];i.columnGroup.getDisplayedLeafColumns().forEach(function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())}),t.length>0&&i.columnController.autoSizeColumns(t)}));var n=this.columnGroup.getHeaderName();if(n&&""!==n){var s=document.createElement("div");s.className="ag-header-group-cell-label",this.eHeaderGroupCell.appendChild(s),r.default.isBrowserSafari()&&(s.style.display="table-cell");var l=document.createElement("span");l.className="ag-header-group-text",l.innerHTML=n,s.appendChild(l),this.columnGroup.isExpandable()&&this.addGroupExpandIcon(s)}this.setWidthOfGroupHeaderCell()},t.prototype.setWidthOfGroupHeaderCell=function(){this.eHeaderGroupCell.style.width=r.default.formatWidth(this.columnGroup.getActualWidth())},t.prototype.addGroupExpandIcon=function(e){var t;(t=this.columnGroup.isExpanded()?r.default.createIcon("columnGroupOpened",this.getGridOptionsWrapper(),null,l.createArrowLeftSvg):r.default.createIcon("columnGroupClosed",this.getGridOptionsWrapper(),null,l.createArrowRightSvg)).className="ag-header-expand-icon",e.appendChild(t);var i=this;t.onclick=function(){var e=!i.columnGroup.isExpanded();i.columnController.setColumnGroupOpened(i.columnGroup,e)}},t.prototype.onDragStart=function(){var e=this;this.groupWidthStart=this.columnGroup.getActualWidth(),this.childrenWidthStarts=[],this.columnGroup.getDisplayedLeafColumns().forEach(function(t){e.childrenWidthStarts.push(t.getActualWidth())})},t.prototype.onDragging=function(e,t){var i=this,o=this.groupWidthStart+e,r=this.columnGroup.getMinWidth();r>o&&(o=r);var n=o/this.groupWidthStart,s=o,l=this.columnGroup.getDisplayedLeafColumns();l.forEach(function(e,o){var r;if(o!==l.length-1){(r=i.childrenWidthStarts[o]*n)<e.getMinWidth()&&(r=e.getMinWidth()),s-=r}else r=s;i.columnController.setColumnWidth(e,r,t)})},t}(s.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,i){var o=i(6),r=function(){function e(e){this.gridOptionsWrapper=e}return e.prototype.destroy=function(){},e.prototype.refreshFilterIcon=function(){},e.prototype.refreshSortIcon=function(){},e.prototype.onIndividualColumnResized=function(e){},e.prototype.getGui=function(){return null},e.prototype.getGridOptionsWrapper=function(){return this.gridOptionsWrapper},e.prototype.addHeaderClassesFromCollDef=function(e,t){if(e&&e.headerClass){var i;if("function"==typeof e.headerClass){var r={colDef:e,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};i=(0,e.headerClass)(r)}else i=e.headerClass;"string"==typeof i?o.default.addCssClass(t,i):Array.isArray(i)&&i.forEach(function(e){o.default.addCssClass(t,e)})}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=i(6),n=i(30),s=i(8),l=i(32),a=function(e){function t(t,i,o,r,n,s,l,a,d,u,p,h,c){e.call(this,o),this.destroyFunctions=[],this.column=t,this.parentGroup=i,this.filterManager=n,this.columnController=s,this.$compile=l,this.grid=a,this.headerTemplateLoader=u,this.headerRenderer=p,this.setupComponents(d,r,h,c)}return o(t,e),t.prototype.getGui=function(){return this.eHeaderCell},t.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){e()})},t.prototype.createScope=function(e){var t=this;this.getGridOptionsWrapper().isAngularCompileHeaders()&&(this.childScope=e.$new(),this.childScope.colDef=this.column.getColDef(),this.childScope.colDefWrapper=this.column,this.destroyFunctions.push(function(){t.childScope.$destroy()}))},t.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("colId",this.column.getColId())},t.prototype.addMenu=function(){var e=this.eHeaderCell.querySelector("#agMenu");if(e){if(!(this.getGridOptionsWrapper().isEnableFilter()&&!this.column.getColDef().suppressMenu))return void r.default.removeFromParent(e);var i=this;e.addEventListener("click",function(){i.filterManager.showFilter(i.column,this)}),this.getGridOptionsWrapper().isSuppressMenuHide()||(e.style.opacity="0",this.eHeaderCell.addEventListener("mouseenter",function(){e.style.opacity="1"}),this.eHeaderCell.addEventListener("mouseleave",function(){e.style.opacity="0"}));var o=e.style;o.transition="opacity 0.5s, border 0.2s",o["-webkit-transition"]="opacity 0.5s, border 0.2s"}},t.prototype.removeSortIcons=function(){r.default.removeFromParent(this.eHeaderCell.querySelector("#agSortAsc")),r.default.removeFromParent(this.eHeaderCell.querySelector("#agSortDesc")),r.default.removeFromParent(this.eHeaderCell.querySelector("#agNoSort"))},t.prototype.addSortIcons=function(){this.eSortAsc=this.eHeaderCell.querySelector("#agSortAsc"),this.eSortDesc=this.eHeaderCell.querySelector("#agSortDesc"),this.eSortNone=this.eHeaderCell.querySelector("#agNoSort"),this.eSortAsc&&(this.eSortAsc.style.display="none"),this.eSortDesc&&(this.eSortDesc.style.display="none");this.column.getColDef().unSortIcon||this.getGridOptionsWrapper().isUnSortIcon()||r.default.removeFromParent(this.eSortNone)},t.prototype.addMovingCss=function(){var e=this,t=function(){e.column.isMoving()?r.default.addCssClass(e.eHeaderCell,"ag-header-cell-moving"):r.default.removeCssClass(e.eHeaderCell,"ag-header-cell-moving")};t(),this.column.addEventListener(s.default.EVENT_MOVING_CHANGED,t),this.destroyFunctions.push(function(){e.column.removeEventListener(s.default.EVENT_MOVING_CHANGED,t)})},t.prototype.setupComponents=function(e,t,i,o){this.eHeaderCell=this.headerTemplateLoader.createHeaderElement(this.column),r.default.addCssClass(this.eHeaderCell,"ag-header-cell"),this.createScope(t),this.addAttributes(),this.addHeaderClassesFromCollDef(this.column.getColDef(),this.eHeaderCell),this.addMovingCss();var n=this.column.getColDef();n.headerTooltip&&(this.eHeaderCell.title=n.headerTooltip),this.eText=this.eHeaderCell.querySelector("#agText"),this.eHeaderCellLabel=this.eHeaderCell.querySelector("#agHeaderCellLabel"),this.addResize(e,i),this.addMove(e,i,o),this.addMenu(),this.addSort(),this.eFilterIcon=this.eHeaderCell.querySelector("#agFilter");var s;n.headerCellRenderer?s=n.headerCellRenderer:this.getGridOptionsWrapper().getHeaderCellRenderer()&&(s=this.getGridOptionsWrapper().getHeaderCellRenderer());var l=this.columnController.getDisplayNameForCol(this.column);this.eText&&(s?this.useRenderer(l,s):(this.eText.className="ag-header-cell-text",this.eText.innerHTML=l)),this.eHeaderCell.style.width=r.default.formatWidth(this.column.getActualWidth()),this.refreshFilterIcon(),this.refreshSortIcon()},t.prototype.addSort=function(){this.getGridOptionsWrapper().isEnableSorting()&&!this.column.getColDef().suppressSorting?(this.addSortIcons(),this.addSortHandling()):this.removeSortIcons()},t.prototype.addMove=function(e,t,i){this.getGridOptionsWrapper().isSuppressMovableColumns()||this.column.getColDef().suppressMovable||this.getGridOptionsWrapper().isForPrint()||this.eHeaderCellLabel&&new l.MoveColumnController(this.column,this.eHeaderCellLabel,e,this.eHeaderCell,this.headerRenderer,this.columnController,t,i,this.getGridOptionsWrapper())},t.prototype.addResize=function(e,t){var i=this,o=this.column.getColDef(),n=this.eHeaderCell.querySelector("#agResizeBar");if(n){if(!(this.getGridOptionsWrapper().isEnableColResize()&&!o.suppressResize))return void r.default.removeFromParent(n);t.addDragHandling({eDraggableElement:n,eBody:e,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)});!this.getGridOptionsWrapper().isSuppressAutoSize()&&!o.suppressAutoSize&&n.addEventListener("dblclick",function(e){i.columnController.autoSizeColumn(i.column)})}},t.prototype.useRenderer=function(e,t){var i,n=t({colDef:this.column.getColDef(),$scope:this.childScope,context:this.getGridOptionsWrapper().getContext(),value:e,api:this.getGridOptionsWrapper().getApi(),eHeaderCell:this.eHeaderCell});if(r.default.isNodeOrElement(n))i=n;else{var s=document.createElement("span");s.innerHTML=n,i=s}if(this.getGridOptionsWrapper().isAngularCompileHeaders()){var l=this.$compile(i)(this.childScope)[0];this.eText.appendChild(l)}else this.eText.appendChild(i)},t.prototype.refreshFilterIcon=function(){var e=this.filterManager.isFilterPresentForCol(this.column.getColId());this.eFilterIcon&&(r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-filtered",e),this.eFilterIcon.style.display=e?"inline":"none")},t.prototype.refreshSortIcon=function(){var e=this.column.getSort()===s.default.SORT_ASC,t=this.column.getSort()===s.default.SORT_DESC,i=this.column.getSort()!==s.default.SORT_DESC&&this.column.getSort()!==s.default.SORT_ASC;this.eSortAsc&&r.default.setVisible(this.eSortAsc,e),this.eSortDesc&&r.default.setVisible(this.eSortDesc,t),this.eSortNone&&r.default.setVisible(this.eSortNone,i),r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-asc",e),r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-desc",t),r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-none",i)},t.prototype.getNextSortDirection=function(){var e;{if(e=this.column.getColDef().sortingOrder?this.column.getColDef().sortingOrder:this.getGridOptionsWrapper().getSortingOrder()?this.getGridOptionsWrapper().getSortingOrder():t.DEFAULT_SORTING_ORDER,Array.isArray(e)&&!(e.length<=0)){var i,o=e.indexOf(this.column.getSort()),r=0>o,n=o==e.length-1;return i=r||n?e[0]:e[o+1],t.DEFAULT_SORTING_ORDER.indexOf(i)<0?(console.warn("ag-grid: invalid sort type "+i),null):i}console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+e)}},t.prototype.addSortHandling=function(){var e=this;this.eHeaderCellLabel&&this.eHeaderCellLabel.addEventListener("click",function(t){e.column.setSort(e.getNextSortDirection()),e.column.getSort()?e.column.setSortedAt((new Date).valueOf()):e.column.setSortedAt(null);!e.getGridOptionsWrapper().isSuppressMultiSort()&&t.shiftKey||e.columnController.clearSortBarThisColumn(e.column),e.grid.onSortingChanged()})},t.prototype.onDragStart=function(){this.startWidth=this.column.getActualWidth()},t.prototype.onDragging=function(e,t){var i=this.startWidth+e;this.columnController.setColumnWidth(this.column,i,t)},t.prototype.onIndividualColumnResized=function(e){if(this.column===e){var t=e.getActualWidth()+"px";this.eHeaderCell.style.width=t}},t.DEFAULT_SORTING_ORDER=[s.default.SORT_ASC,s.default.SORT_DESC,null],t}(n.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,i){var o=i(6),r=i(8),n=function(){function e(e,t,i,o,r,n,s,l,a){this.lastDelta=0,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.eHeaderCell=o,this.headerRenderer=r,this.columnController=n,this.column=e,this.gridPanel=l,this.addMovingCssToGrid=!a.isSuppressMovingCss(),this.centreWidth=l.getCenterWidth(),s.addDragHandling({eDraggableElement:t,eBody:i,cursor:"move",startAfterPixels:4,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)})}return e.prototype.onDragStart=function(e){this.column.getPinned()===r.default.PINNED_LEFT?this.floatPadding=0:this.column.getPinned()===r.default.PINNED_RIGHT?this.floatPadding=this.headerRenderer.getRightPinnedStartPixel():(this.floatPadding=this.columnController.getPinnedLeftContainerWidth(),this.floatPadding-=this.gridPanel.getHorizontalScrollPosition()),this.eFloatingCloneCell=this.eHeaderCell.cloneNode(!0),this.headerRenderer.addChildToOverlay(this.eFloatingCloneCell),this.startLeftPosition=this.columnController.getPixelsBeforeConsideringPinned(this.column),o.default.addCssClass(this.eFloatingCloneCell,"ag-header-cell-moving-clone"),this.eFloatingCloneCell.style.position="absolute",this.eFloatingCloneCell.style.top="0px",this.eFloatingCloneCell.style.left=this.floatPadding+this.startLeftPosition+"px";var t=this.eFloatingCloneCell.querySelector("#agMenu");t&&(t.style.display="none");var i=this.eHeaderCell.getBoundingClientRect().left;this.clickPositionOnHeader=e.clientX-i,this.column.setMoving(!0),this.addMovingCssToGrid&&this.gridPanel.setMovingCss(!0),this.scrollSinceStart=0,this.hoveringOverPixelLastTime=this.startLeftPosition+this.clickPositionOnHeader+this.scrollSinceStart},e.prototype.onDragging=function(e,t){this.eFloatingCloneCell.style.left=this.floatPadding+(this.startLeftPosition+e)+"px";var i=this.startLeftPosition+this.clickPositionOnHeader+e+this.scrollSinceStart,o=i>this.hoveringOverPixelLastTime,r=i<this.hoveringOverPixelLastTime;this.hoveringOverPixelLastTime=i;for(var n=!0;n;){var s=this.column.getLeft()>i,d=this.column.getLeft()+this.column.getActualWidth()<i&&o;n=!1;var u=null;if(s&&r&&(u=this.columnController.getDisplayedColBeforeForMoving(this.column)),d&&(u=this.columnController.getDisplayedColAfterForMoving(this.column)),u){var p=this.columnController.getColumnIndex(u),h=this.getColumnsAndOrphans(this.column);this.columnController.moveColumns(h.reverse(),p),n=!0}}if(!this.column.isPinned()){var c=this.gridPanel.getHorizontalScrollPosition(),g=c+this.gridPanel.getCenterWidth();this.needToMoveLeft=c+50>i,this.needToMoveRight=i>g-50,this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}t&&(this.column.setMoving(!1),this.headerRenderer.removeChildFromOverlay(this.eFloatingCloneCell),this.addMovingCssToGrid&&this.gridPanel.setMovingCss(!1),this.ensureIntervalCleared()),this.lastDelta=e},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=setInterval(this.moveInterval.bind(this),100))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(clearInterval(this.movingIntervalId),this.movingIntervalId=null)},e.prototype.moveInterval=function(){var e;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100);var t=0;this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),this.scrollSinceStart+=t,this.onDragging(this.lastDelta,!1)},e.prototype.getColumnsAndOrphans=function(e){for(var t=this.columnController.getPathForColumn(e),i=t.length-1;i>=0;i--){var o=t[i],r=1===o.getDisplayedChildren().length,n=o.getChildren().length>1;if(r&&n){return o.getLeafColumns()}}return[e]},e}();t.MoveColumnController=n},function(e,t,i){var o=i(6),r=i(34),n=i(35),s=i(36),l=function(){function e(){}return e.prototype.init=function(e,t,i,o,r,n,s){this.$compile=i,this.$scope=o,this.gridOptionsWrapper=t,this.grid=e,this.allFilters={},this.columnController=r,this.popupService=n,this.valueService=s,this.columnController=r,this.quickFilter=null},e.prototype.setFilterModel=function(e){var t=this;if(e){var i=Object.keys(e);o.default.iterateObject(this.allFilters,function(r,n){o.default.removeFromArray(i,r);var s=e[r];t.setModelOnFilterWrapper(n.filter,s)}),o.default.iterateArray(i,function(i){var o=t.columnController.getColumn(i);if(o){var r=t.getOrCreateFilterWrapper(o);t.setModelOnFilterWrapper(r.filter,e[i])}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+i)})}else o.default.iterateObject(this.allFilters,function(e,i){t.setModelOnFilterWrapper(i.filter,null)});this.grid.onFilterChanged()},e.prototype.setModelOnFilterWrapper=function(e,t){if("function"==typeof e.getApi){var i=e.getApi();return"function"!=typeof i.setModel?void console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel"):void i.setModel(t)}console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel")},e.prototype.getFilterModel=function(){var e={};return o.default.iterateObject(this.allFilters,function(t,i){if("function"==typeof i.filter.getApi){var o=i.filter.getApi();if("function"==typeof o.getModel){var r=o.getModel();r&&(e[t]=r)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}else console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel")}),e},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.isAdvancedFilterPresent=function(){var e=!1;return o.default.iterateObject(this.allFilters,function(t,i){i.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),i.filter.isFilterActive()&&(e=!0)}),e},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},e.prototype.isFilterPresentForCol=function(e){var t=this.allFilters[e];if(!t)return!1;t.filter.isFilterActive||console.error("Filter is missing method isFilterActive");return t.filter.isFilterActive()},e.prototype.doesFilterPass=function(e,t){for(var i=e.data,o=Object.keys(this.allFilters),r=0,n=o.length;n>r;r++){var s=o[r],l=this.allFilters[s];if(void 0!==l&&l.filter!==t&&l.filter.isFilterActive()){l.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");var a={node:e,data:i};if(!l.filter.doesFilterPass(a))return!1}}return!0},e.prototype.setQuickFilter=function(e){return(void 0===e||""===e)&&(e=null),this.quickFilter!==e&&(this.gridOptionsWrapper.isVirtualPaging()?void console.warn("ag-grid: cannot do quick filtering when doing virtual paging"):((void 0===e||""===e)&&(e=null),null!==e&&(e=e.toUpperCase()),this.quickFilter=e,!0))},e.prototype.onFilterChanged=function(){this.advancedFilterPresent=this.isAdvancedFilterPresent(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),o.default.iterateObject(this.allFilters,function(e,t){t.filter.onAnyFilterChanged&&t.filter.onAnyFilterChanged()})},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},e.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&(e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(this.quickFilter)<0))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e))&&!(this.advancedFilterPresent&&!this.doesFilterPass(e,t)))},e.prototype.aggregateRowForQuickFilter=function(e){var t="",i=this;this.columnController.getAllColumns().forEach(function(o){var r=e.data,n=i.valueService.getValue(o.getColDef(),r,e);n&&""!==n&&(t=t+n.toString().toUpperCase()+"_")}),e.quickFilterAggregateText=t},e.prototype.onNewRowsLoaded=function(){var e=this;Object.keys(this.allFilters).forEach(function(t){var i=e.allFilters[t].filter;i.onNewRowsLoaded&&i.onNewRowsLoaded()})},e.prototype.createValueGetter=function(e){var t=this;return function(i){return t.valueService.getValue(e.getColDef(),i.data,i)}},e.prototype.getFilterApi=function(e){var t=this.getOrCreateFilterWrapper(e);return t&&"function"==typeof t.filter.getApi?t.filter.getApi():void 0},e.prototype.getOrCreateFilterWrapper=function(e){var t=this.allFilters[e.getColId()];return t||(t=this.createFilterWrapper(e),this.allFilters[e.getColId()]=t),t},e.prototype.createFilterWrapper=function(e){var t=e.getColDef(),i={column:e,filter:null,scope:null,gui:null};"function"==typeof t.filter?(this.gridOptionsWrapper.isAngularCompileFilters()&&(i.scope=this.$scope.$new()),this.assertMethodHasNoParameters(t.filter),i.filter=new t.filter):"text"===t.filter?i.filter=new r.default:"number"===t.filter?i.filter=new n.default:i.filter=new s.default;var l=this.grid.onFilterChanged.bind(this.grid),a=this.grid.onFilterModified.bind(this.grid),d=this.doesRowPassOtherFilters.bind(this,i.filter),u=t.filterParams,p={colDef:t,rowModel:this.rowModel,filterChangedCallback:l,filterModifiedCallback:a,filterParams:u,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:d,context:this.gridOptionsWrapper.getContext,$scope:i.scope};if(!i.filter.init)throw"Filter is missing method init";if(i.filter.init(p),!i.filter.getGui)throw"Filter is missing method getGui";var h=document.createElement("div");h.className="ag-filter";var c=i.filter.getGui();if(o.default.isNodeOrElement(c))h.appendChild(c);else{var g=document.createElement("span");g.innerHTML=c,h.appendChild(g)}return i.scope?i.gui=this.$compile(h)(i.scope)[0]:i.gui=h,i},e.prototype.destroy=function(){o.default.iterateObject(this.allFilters,function(e,t){t.filter.destroy&&t.filter.destroy()})},e.prototype.assertMethodHasNoParameters=function(e){o.default.getFunctionParameters(e).length>0&&(console.warn("ag-grid: It looks like your filter is of the old type and expecting parameters in the constructor."),console.warn("ag-grid: From ag-grid 1.14, the constructor should take no parameters and init() used instead."))},e.prototype.showFilter=function(e,t){var i=this.getOrCreateFilterWrapper(e),o=this.popupService.addAsModalPopup(i.gui,!0);if(this.popupService.positionPopup(t,i.gui,!0),i.filter.afterGuiAttached){var r={hidePopup:o,eventSource:t};i.filter.afterGuiAttached(r)}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,i){var o=i(6),d=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterText=null,this.filterType=1,this.createApi()},e.prototype.onNewRowsLoaded=function(){this.filterParams&&"keep"===this.filterParams.newRowsAction||(this.api.setType(1),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(!this.filterText)return!0;var t=this.valueGetter(e);if(!t)return!1;var i=t.toString().toLowerCase();switch(this.filterType){case 1:return i.indexOf(this.filterText)>=0;case 2:return i===this.filterText;case 3:return 0===i.indexOf(this.filterText);case 4:var o=i.indexOf(this.filterText);return o>=0&&o===i.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterText},e.prototype.createTemplate=function(){return'<div><div><select class="ag-filter-select" id="filterType"><option value="1">[CONTAINS]</option><option value="2">[EQUALS]</option><option value="3">[STARTS WITH]</option><option value="4">[ENDS WITH]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>'.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){this.eGui=o.default.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),o.default.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):o.default.removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.onFilterChanged=function(){var e=o.default.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null);var t;t=null!==e&&void 0!==e?e.toLowerCase():null,this.filterText!==t&&(this.filterText=t,this.filterChanged())},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.createApi=function(){var e=this;this.api={EQUALS:2,CONTAINS:1,STARTS_WITH:3,ENDS_WITH:4,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(t){(t=o.default.makeNull(t))?(e.filterText=t.toLowerCase(),e.eFilterTextField.value=t):(e.filterText=null,e.eFilterTextField.value=null)},getType:function(){return e.filterType},getFilter:function(){return e.filterText},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterText}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,i){var o=i(6),a=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterNumber=null,this.filterType=1,this.createApi()},e.prototype.onNewRowsLoaded=function(){this.filterParams&&"keep"===this.filterParams.newRowsAction||(this.api.setType(1),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(null===this.filterNumber)return!0;var t=this.valueGetter(e);if(!t&&0!==t)return!1;var i;switch(i="number"==typeof t?t:parseFloat(t),this.filterType){case 1:return i===this.filterNumber;case 2:return i<this.filterNumber;case 3:return i>this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterNumber},e.prototype.createTemplate=function(){return'<div><div><select class="ag-filter-select" id="filterType"><option value="1">[EQUALS]</option><option value="2">[LESS THAN]</option><option value="3">[GREATER THAN]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>'.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){this.eGui=o.default.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),o.default.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):o.default.removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.onFilterChanged=function(){var e=o.default.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null);var t;t=null!==e&&void 0!==e?parseFloat(e):null,this.filterNumber!==t&&(this.filterNumber=t,this.filterChanged())},e.prototype.createApi=function(){var e=this;this.api={EQUALS:1,LESS_THAN:2,GREATER_THAN:3,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(t){null!==(t=o.default.makeNull(t))&&"number"!=typeof t&&(t=parseFloat(t)),e.filterNumber=t,e.eFilterTextField.value=t},getType:function(){return e.filterType},getFilter:function(){return e.filterNumber},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterNumber}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,i){var o=i(6),r=i(37),l=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.rowHeight=this.filterParams&&this.filterParams.cellHeight?this.filterParams.cellHeight:20,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.model=new r.default(e.colDef,e.rowModel,e.valueGetter,e.doesRowPassOtherFilter),this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.valueGetter=e.valueGetter,this.rowsInBodyContainer={},this.colDef=e.colDef,this.localeTextFunc=e.localeTextFunc,this.filterParams&&(this.cellRenderer=this.filterParams.cellRenderer),this.createGui(),this.addScrollListener(),this.createApi()},e.prototype.afterGuiAttached=function(){this.drawVirtualRows()},e.prototype.isFilterActive=function(){return this.model.isFilterActive()},e.prototype.doesFilterPass=function(e){if(this.model.isEverythingSelected())return!0;if(this.model.isNothingSelected())return!1;var t=this.valueGetter(e);if(t=o.default.makeNull(t),Array.isArray(t)){for(var i=0;i<t.length;i++)if(this.model.isValueSelected(t[i]))return!0;return!1}return this.model.isValueSelected(t)},e.prototype.getGui=function(){return this.eGui},e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction,t=this.eSelectAll&&this.eSelectAll.checked&&!this.eSelectAll.indeterminate;this.model.refreshAfterNewRowsLoaded(e,t),this.setContainerHeight(),this.refreshVirtualRows()},e.prototype.onAnyFilterChanged=function(){this.model.refreshAfterAnyFilterChanged(),this.setContainerHeight(),this.refreshVirtualRows()},e.prototype.createTemplate=function(){return'<div><div class="ag-filter-header-container"><input class="ag-filter-filter" type="text" placeholder="[SEARCH...]"/></div><div class="ag-filter-header-container"><label><input id="selectAll" type="checkbox" class="ag-filter-checkbox"/>([SELECT ALL])</label></div><div class="ag-filter-list-viewport"><div class="ag-filter-list-container"><div id="itemForRepeat" class="ag-filter-item"><label><input type="checkbox" class="ag-filter-checkbox" filter-checkbox="true"/><span class="ag-filter-value"></span></label></div></div></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>'.replace("[SELECT ALL]",this.localeTextFunc("selectAll","Select All")).replace("[SEARCH...]",this.localeTextFunc("searchOoo","Search...")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){var e=this;this.eGui=o.default.loadTemplate(this.createTemplate()),this.eListContainer=this.eGui.querySelector(".ag-filter-list-container"),this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat"),this.eSelectAll=this.eGui.querySelector("#selectAll"),this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport"),this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter"),this.eListContainer.style.height=this.model.getUniqueValueCount()*this.rowHeight+"px",this.setContainerHeight(),this.eMiniFilter.value=this.model.getMiniFilter(),o.default.addChangeListener(this.eMiniFilter,function(){e.onMiniFilterChanged()}),o.default.removeAllChildren(this.eListContainer),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0,this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):o.default.removeElement(this.eGui,"#applyPanel")},e.prototype.setContainerHeight=function(){this.eListContainer.style.height=this.model.getDisplayedValueCount()*this.rowHeight+"px"},e.prototype.drawVirtualRows=function(){var e=this.eListViewport.scrollTop,t=e+this.eListViewport.offsetHeight,i=Math.floor(e/this.rowHeight),o=Math.floor(t/this.rowHeight);this.ensureRowsRendered(i,o)},e.prototype.ensureRowsRendered=function(e,t){for(var o=Object.keys(this.rowsInBodyContainer),r=e;t>=r;r++)if(o.indexOf(r.toString())>=0)o.splice(o.indexOf(r.toString()),1);else if(this.model.getDisplayedValueCount()>r){var n=this.model.getDisplayedValue(r);this.insertRow(n,r)}this.removeVirtualRows(o)},e.prototype.removeVirtualRows=function(e){var t=this;e.forEach(function(e){var i=t.rowsInBodyContainer[e];t.eListContainer.removeChild(i),delete t.rowsInBodyContainer[e]})},e.prototype.insertRow=function(e,t){var i=this,r=this.eFilterValueTemplate.cloneNode(!0),n=r.querySelector(".ag-filter-value");if(this.cellRenderer){var s=this.cellRenderer({value:e});o.default.isNode(s)?n.appendChild(s):n.innerHTML=s}else{var l="("+this.localeTextFunc("blanks","Blanks")+")",a=null===e?l:e;n.innerHTML=a}var d=r.querySelector("input");d.checked=this.model.isValueSelected(e),d.onclick=function(){i.onCheckboxClicked(d,e)},r.style.top=this.rowHeight*t+"px",this.eListContainer.appendChild(r),this.rowsInBodyContainer[t]=r},e.prototype.onCheckboxClicked=function(e,t){e.checked?(this.model.selectValue(t),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(t),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0),this.filterChanged()},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.onMiniFilterChanged=function(){this.model.setMiniFilter(this.eMiniFilter.value)&&(this.setContainerHeight(),this.refreshVirtualRows())},e.prototype.refreshVirtualRows=function(){this.clearVirtualRows(),this.drawVirtualRows()},e.prototype.clearVirtualRows=function(){var e=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(e)},e.prototype.onSelectAll=function(){var e=this.eSelectAll.checked;e?this.model.selectEverything():this.model.selectNothing(),this.updateAllCheckboxes(e),this.filterChanged()},e.prototype.updateAllCheckboxes=function(e){for(var t=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),i=0,o=t.length;o>i;i++)t[i].checked=e},e.prototype.addScrollListener=function(){var e=this;this.eListViewport.addEventListener("scroll",function(){e.drawVirtualRows()})},e.prototype.getApi=function(){return this.api},e.prototype.createApi=function(){var e=this.model,t=this;this.api={setMiniFilter:function(t){e.setMiniFilter(t)},getMiniFilter:function(){return e.getMiniFilter()},selectEverything:function(){t.eSelectAll.indeterminate=!1,t.eSelectAll.checked=!0,e.selectEverything()},isFilterActive:function(){return e.isFilterActive()},selectNothing:function(){t.eSelectAll.indeterminate=!1,t.eSelectAll.checked=!1,e.selectNothing()},unselectValue:function(i){e.unselectValue(i),t.refreshVirtualRows()},selectValue:function(i){e.selectValue(i),t.refreshVirtualRows()},isValueSelected:function(t){return e.isValueSelected(t)},isEverythingSelected:function(){return e.isEverythingSelected()},isNothingSelected:function(){return e.isNothingSelected()},getUniqueValueCount:function(){return e.getUniqueValueCount()},getUniqueValue:function(t){return e.getUniqueValue(t)},getModel:function(){return e.getModel()},setModel:function(i){e.setModel(i),t.refreshVirtualRows()}}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,i){var o=i(6),r=function(){function e(e,t,i,o){this.colDef=e,this.rowModel=t,this.valueGetter=i,this.doesRowPassOtherFilters=o,this.filterParams=this.colDef.filterParams,this.usingProvidedSet=this.filterParams&&this.filterParams.values,this.showingAvailableOnly=this.filterParams&&!this.filterParams.suppressRemoveEntries,this.createAllUniqueValues(),this.createAvailableUniqueValues(),this.displayedValues=this.availableUniqueValues,this.miniFilter=null,this.selectedValuesMap={},this.selectEverything()}return e.prototype.refreshAfterNewRowsLoaded=function(e,t){this.createAllUniqueValues(),this.createAvailableUniqueValues();var i=Object.keys(this.selectedValuesMap);this.selectedValuesMap={},this.processMiniFilter(),e?this.setModel(i,t):this.selectEverything()},e.prototype.refreshAfterAnyFilterChanged=function(){this.showingAvailableOnly&&(this.createAvailableUniqueValues(),this.processMiniFilter())},e.prototype.createAllUniqueValues=function(){this.usingProvidedSet?this.allUniqueValues=o.default.toStrings(this.filterParams.values):this.allUniqueValues=o.default.toStrings(this.getUniqueValues(!1)),this.sortValues(this.allUniqueValues)},e.prototype.createAvailableUniqueValues=function(){return!this.showingAvailableOnly||this.usingProvidedSet?void(this.availableUniqueValues=this.allUniqueValues):(this.availableUniqueValues=o.default.toStrings(this.getUniqueValues(!0)),void this.sortValues(this.availableUniqueValues))},e.prototype.sortValues=function(e){this.filterParams&&this.filterParams.comparator?e.sort(this.filterParams.comparator):this.colDef.comparator?e.sort(this.colDef.comparator):e.sort(o.default.defaultComparator)},e.prototype.getUniqueValues=function(e){function t(e){o.hasOwnProperty(e)||(r.push(e),o[e]=1)}var i=this,o={},r=[];return this.rowModel.forEachNode(function(o){if(!o.group){var r=i.valueGetter(o);if((""===r||void 0===r)&&(r=null),e&&!i.doesRowPassOtherFilters(o))return;if(null!=r&&Array.isArray(r))for(var n=0;n<r.length;n++)t(r[n]);else t(r)}}),r},e.prototype.setMiniFilter=function(e){return e=o.default.makeNull(e),this.miniFilter!==e&&(this.miniFilter=e,this.processMiniFilter(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilter},e.prototype.processMiniFilter=function(){if(null!==this.miniFilter){this.displayedValues=[];for(var e=this.miniFilter.toUpperCase(),t=0,i=this.availableUniqueValues.length;i>t;t++){var o=this.availableUniqueValues[t];null!==o&&o.toString().toUpperCase().indexOf(e)>=0&&this.displayedValues.push(o)}}else this.displayedValues=this.availableUniqueValues},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.selectEverything=function(){for(var e=this.allUniqueValues.length,t=0;e>t;t++){var i=this.allUniqueValues[t];this.selectedValuesMap[i]=null}this.selectedValuesCount=e},e.prototype.isFilterActive=function(){return this.allUniqueValues.length!==this.selectedValuesCount},e.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},e.prototype.getUniqueValueCount=function(){return this.allUniqueValues.length},e.prototype.getUniqueValue=function(e){return this.allUniqueValues[e]},e.prototype.unselectValue=function(e){void 0!==this.selectedValuesMap[e]&&(delete this.selectedValuesMap[e],this.selectedValuesCount--)},e.prototype.selectValue=function(e){void 0===this.selectedValuesMap[e]&&(this.selectedValuesMap[e]=null,this.selectedValuesCount++)},e.prototype.isValueSelected=function(e){return void 0!==this.selectedValuesMap[e]},e.prototype.isEverythingSelected=function(){return this.allUniqueValues.length===this.selectedValuesCount},e.prototype.isNothingSelected=function(){return 0===this.allUniqueValues.length},e.prototype.getModel=function(){if(!this.isFilterActive())return null;var e=[];return o.default.iterateObject(this.selectedValuesMap,function(t){e.push(t)}),e},e.prototype.setModel=function(e,t){if(e&&!t){this.selectNothing();for(var i=0;i<e.length;i++){var o=e[i];this.allUniqueValues.indexOf(o)>=0?this.selectValue(e[i]):console.warn("Value "+o+" is not a valid value for filter")}}else this.selectEverything()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e,t,i){this.gridOptionsWrapper=e,this.expressionService=t,this.columnController=i},e.prototype.getValue=function(e,t,i){var o,r=this.gridOptionsWrapper.isEnableCellExpressions(),n=e.field;if(o=e.valueGetter?this.executeValueGetter(e.valueGetter,t,e,i):n&&t?this.getValueUsingField(t,n):void 0,r&&"string"==typeof o&&0===o.indexOf("=")){var s=o.substring(1);o=this.executeValueGetter(s,t,e,i)}return o},e.prototype.getValueUsingField=function(e,t){if(t&&e){if(t.indexOf(".")<0)return e[t];for(var i=t.split("."),o=e,r=0;r<i.length;r++)if(!(o=o[i[r]]))return null;return o}},e.prototype.setValueUsingField=function(e,t,i){if(t&&e)if(t.indexOf(".")<0)e[t]=i;else for(var o=t.split("."),r=e;o.length>0&&r;){var n=o.shift();0===o.length?r[n]=i:r=r[n]}},e.prototype.executeValueGetter=function(e,t,i,o){var r=this.gridOptionsWrapper.getContext(),s={data:t,node:o,colDef:i,api:this.gridOptionsWrapper.getApi(),context:r,getValue:this.getValueCallback.bind(this,t,o)};return"function"==typeof e?e(s):"string"==typeof e?this.expressionService.evaluate(e,s):void 0},e.prototype.getValueCallback=function(e,t,i){var o=this.columnController.getColumn(i);return o?this.getValue(o.getColDef(),e,t):null},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var o=i(5),r=function(){function e(){this.consuming=!1}return e.prototype.init=function(e,t,i,r,n){this.gridOptionsWrapper=e,this.columnController=t,this.gridPanel=i,this.eventService=n,this.logger=r.create("MasterSlaveService"),n.addEventListener(o.Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this))},e.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getSlaveGrids();t&&t.forEach(function(t){if(t.api){var i=t.api.__getMasterSlaveService();e(i)}})}},e.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},e.prototype.fireColumnEvent=function(e){this.fireEvent(function(t){t.onColumnEvent(e)})},e.prototype.fireHorizontalScrollEvent=function(e){this.fireEvent(function(t){t.onScrollEvent(e)})},e.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.gridPanel.setHorizontalScrollPosition(e)})},e.prototype.getMasterColumns=function(e){var t=[];return e.getColumn()&&t.push(e.getColumn()),e.getColumns()&&e.getColumns().forEach(function(e){t.push(e)}),t},e.prototype.getColumnIds=function(e){var t=[];return e.getColumn()&&t.push(e.getColumn().getColId()),e.getColumns()&&e.getColumns().forEach(function(e){t.push(e.getColId())}),t},e.prototype.onColumnEvent=function(e){var t=this;this.onEvent(function(){var i,r=e.getColumn();if(r&&(i=t.columnController.getColumn(r.getColId())),!r||i){var n,s=e.getColumnGroup();if(s){var l=s.getGroupId(),a=s.getInstanceId();n=t.columnController.getColumnGroup(l,a)}if(!s||n){var d=t.getColumnIds(e),u=t.getMasterColumns(e);switch(e.getType()){case o.Events.EVENT_COLUMN_MOVED:t.logger.log("onColumnEvent-> processing "+e+" toIndex = "+e.getToIndex()),t.columnController.moveColumns(d,e.getToIndex());break;case o.Events.EVENT_COLUMN_VISIBLE:t.logger.log("onColumnEvent-> processing "+e+" visible = "+e.isVisible()),t.columnController.setColumnsVisible(d,e.isVisible());break;case o.Events.EVENT_COLUMN_PINNED:t.logger.log("onColumnEvent-> processing "+e+" pinned = "+e.getPinned()),t.columnController.setColumnsPinned(d,e.getPinned());break;case o.Events.EVENT_COLUMN_GROUP_OPENED:t.logger.log("onColumnEvent-> processing "+e+" expanded = "+s.isExpanded()),t.columnController.setColumnGroupOpened(n,s.isExpanded());break;case o.Events.EVENT_COLUMN_RESIZED:u.forEach(function(i){t.logger.log("onColumnEvent-> processing "+e+" actualWidth = "+i.getActualWidth()),t.columnController.setColumnWidth(i.getColId(),i.getActualWidth(),e.isFinished())})}}}})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=i(6),r=function(){function e(){}return e.prototype.init=function(e){this.logger=e.create("DragAndDropService");var t=this;this.mouseUpEventListener=function(){t.stopDragging()},document.addEventListener("mouseup",this.mouseUpEventListener),this.logger.log("initialised")},e.prototype.destroy=function(){document.removeEventListener("mouseup",this.mouseUpEventListener),this.logger.log("destroyed")},e.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},e.prototype.setDragCssClasses=function(e,t){o.default.addOrRemoveCssClass(e,"ag-dragging",t),o.default.addOrRemoveCssClass(e,"ag-not-dragging",!t)},e.prototype.addDragSource=function(e,t){this.setDragCssClasses(e,!1),e.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,e,t))},e.prototype.onMouseDownDragSource=function(e,t){this.dragItem&&this.stopDragging();var i;t.getData&&(i=t.getData());var o;t.getContainerId&&(o=t.getContainerId()),this.dragItem={eDragSource:e,data:i,containerId:o},this.setDragCssClasses(this.dragItem.eDragSource,!0)},e.prototype.addDropTarget=function(e,t){var i=!1,o=!1,r=this;e.addEventListener("mouseover",function(){i||(i=!0,o=!!r.dragItem&&t.acceptDrag(r.dragItem))}),e.addEventListener("mouseout",function(){o&&t.noDrop(),i=!1,o=!1}),e.addEventListener("mouseup",function(){o&&r.dragItem&&t.drop(r.dragItem)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=i(6),r=i(42),u=function(){function e(){this.scrollLagCounter=0,this.lastLeftPosition=-1,this.lastTopPosition=-1}return e.prototype.init=function(e,t,i,r,n,s){this.gridOptionsWrapper=e,this.forPrint=this.gridOptionsWrapper.isForPrint(),this.setupComponents(),this.scrollWidth=o.default.getScrollbarWidth(),this.columnController=t,this.rowRenderer=i,this.masterSlaveService=r,this.floatingRowModel=s,this.logger=n.create("GridPanel")},e.prototype.getLayout=function(){return this.layout},e.prototype.setupComponents=function(){this.forPrint?(this.eRoot=o.default.loadTemplate('<div><div class="ag-header-container"></div><div class="ag-floating-top-container"></div><div class="ag-body-container"></div><div class="ag-floating-bottom-container"></div></div>'),o.default.addCssClass(this.eRoot,"ag-root ag-no-scrolls")):(this.eRoot=o.default.loadTemplate('<div><div class="ag-header"><div class="ag-pinned-left-header"></div><div class="ag-pinned-right-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div><div class="ag-header-overlay"></div></div><div class="ag-floating-top"><div class="ag-pinned-left-floating-top"></div><div class="ag-pinned-right-floating-top"></div><div class="ag-floating-top-viewport"><div class="ag-floating-top-container"></div></div></div><div class="ag-floating-bottom"><div class="ag-pinned-left-floating-bottom"></div><div class="ag-pinned-right-floating-bottom"></div><div class="ag-floating-bottom-viewport"><div class="ag-floating-bottom-container"></div></div></div><div class="ag-body"><div class="ag-pinned-left-cols-viewport"><div class="ag-pinned-left-cols-container"></div></div><div class="ag-pinned-right-cols-viewport"><div class="ag-pinned-right-cols-container"></div></div><div class="ag-body-viewport-wrapper"><div class="ag-body-viewport"><div class="ag-body-container"></div></div></div></div></div>'),o.default.addCssClass(this.eRoot,"ag-root ag-scrolls")),this.findElements(),this.layout=new r.default({overlays:{loading:o.default.loadTemplate(this.createLoadingOverlayTemplate()),noRows:o.default.loadTemplate(this.createNoRowsOverlayTemplate())},center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"}),this.layout.addSizeChangeListener(this.onBodyHeightChange.bind(this)),this.addScrollListener(),this.gridOptionsWrapper.isSuppressHorizontalScroll()&&(this.eBodyViewport.style.overflowX="hidden")},e.prototype.setMovingCss=function(e){o.default.addOrRemoveCssClass(this.eRoot,"ag-column-moving",e)},e.prototype.getPinnedLeftFloatingTop=function(){return this.ePinnedLeftFloatingTop},e.prototype.getPinnedRightFloatingTop=function(){return this.ePinnedRightFloatingTop},e.prototype.getFloatingTopContainer=function(){return this.eFloatingTopContainer},e.prototype.getPinnedLeftFloatingBottom=function(){return this.ePinnedLeftFloatingBottom},e.prototype.getPinnedRightFloatingBottom=function(){return this.ePinnedRightFloatingBottom},e.prototype.getFloatingBottomContainer=function(){return this.eFloatingBottomContainer},e.prototype.createOverlayTemplate=function(e,t,i){var o='<div class="ag-overlay-panel"><div class="ag-overlay-wrapper ag-overlay-[OVERLAY_NAME]-wrapper">[OVERLAY_TEMPLATE]</div></div>'.replace("[OVERLAY_NAME]",e);return o=i?o.replace("[OVERLAY_TEMPLATE]",i):o.replace("[OVERLAY_TEMPLATE]",t)},e.prototype.createLoadingOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayLoadingTemplate(),t=this.createOverlayTemplate("loading",'<span class="ag-overlay-loading-center">[LOADING...]</span>',e),i=this.gridOptionsWrapper.getLocaleTextFunc();return t.replace("[LOADING...]",i("loadingOoo","Loading..."))},e.prototype.createNoRowsOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayNoRowsTemplate(),t=this.createOverlayTemplate("no-rows",'<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e),i=this.gridOptionsWrapper.getLocaleTextFunc();return t.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"))},e.prototype.ensureIndexVisible=function(e){this.logger.log("ensureIndexVisible: "+e);var t=this.rowModel.getVirtualRowCount();if("number"!=typeof e||0>e||e>=t)console.warn("invalid row index for ensureIndexVisible: "+e);else{var i=this.rowModel.getVirtualRow(e),o=i.rowTop,r=o+i.rowHeight,n=this.eBodyViewport.scrollTop,s=this.eBodyViewport.offsetHeight;this.isHorizontalScrollShowing()&&(s-=this.scrollWidth);var d=n>o,u=r>n+s,p=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport;if(d)p.scrollTop=o;else if(u){var h=r-s;p.scrollTop=h}}},e.prototype.getCenterWidth=function(){return this.eBodyViewport.clientWidth},e.prototype.isHorizontalScrollShowing=function(){return this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth},e.prototype.isVerticalScrollShowing=function(){return!this.columnController.isPinningRight()&&this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight},e.prototype.periodicallyCheck=function(){if(this.columnController.isPinningRight()){var e=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;this.ePinnedRightColsContainer.style.marginBottom=e?this.scrollWidth+"px":""}},e.prototype.ensureColumnVisible=function(e){var t=this.columnController.getColumn(e);if(t.isPinned())console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());else if(this.columnController.isColumnDisplayed(t)){var i=t.getLeft(),o=i+t.getActualWidth(),r=this.eBodyViewport.scrollLeft,n=this.eBodyViewport.offsetWidth;this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight&&(n-=this.scrollWidth);var d=o>r+n;if(r>i)this.eBodyViewport.scrollLeft=i;else if(d){var u=o-n;this.eBodyViewport.scrollLeft=u}}else console.warn("column is not currently visible")},e.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.layout.showOverlay("loading")},e.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.layout.showOverlay("noRows")},e.prototype.hideOverlay=function(){this.layout.hideOverlay()},e.prototype.getWidthForSizeColsToFit=function(){var e=this.eBody.clientWidth;return this.isVerticalScrollShowing()&&(e-=this.scrollWidth),e},e.prototype.sizeColumnsToFit=function(e){var t=this,i=this.getWidthForSizeColsToFit();i>0?this.columnController.sizeColumnsToFit(i):void 0===e?setTimeout(function(){t.sizeColumnsToFit(100)},0):100===e?setTimeout(function(){t.sizeColumnsToFit(-1)},100):console.log("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.getBodyContainer=function(){return this.eBodyContainer},e.prototype.getBodyViewport=function(){return this.eBodyViewport},e.prototype.getPinnedLeftColsContainer=function(){return this.ePinnedLeftColsContainer},e.prototype.getPinnedRightColsContainer=function(){return this.ePinnedRightColsContainer},e.prototype.getHeaderContainer=function(){return this.eHeaderContainer},e.prototype.getHeaderOverlay=function(){return this.eHeaderOverlay},e.prototype.getRoot=function(){return this.eRoot},e.prototype.getPinnedLeftHeader=function(){return this.ePinnedLeftHeader},e.prototype.getPinnedRightHeader=function(){return this.ePinnedRightHeader},e.prototype.getRowsParent=function(){return this.eParentsOfRows},e.prototype.queryHtmlElement=function(e){return this.eRoot.querySelector(e)},e.prototype.findElements=function(){this.forPrint?(this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]):(this.eBody=this.queryHtmlElement(".ag-body"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eBodyViewport=this.queryHtmlElement(".ag-body-viewport"),this.eBodyViewportWrapper=this.queryHtmlElement(".ag-body-viewport-wrapper"),this.ePinnedLeftColsContainer=this.queryHtmlElement(".ag-pinned-left-cols-container"),this.ePinnedRightColsContainer=this.queryHtmlElement(".ag-pinned-right-cols-container"),this.ePinnedLeftColsViewport=this.queryHtmlElement(".ag-pinned-left-cols-viewport"),this.ePinnedRightColsViewport=this.queryHtmlElement(".ag-pinned-right-cols-viewport"),this.ePinnedLeftHeader=this.queryHtmlElement(".ag-pinned-left-header"),this.ePinnedRightHeader=this.queryHtmlElement(".ag-pinned-right-header"),this.eHeader=this.queryHtmlElement(".ag-header"),this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eHeaderOverlay=this.queryHtmlElement(".ag-header-overlay"),this.eHeaderViewport=this.queryHtmlElement(".ag-header-viewport"),this.eFloatingTop=this.queryHtmlElement(".ag-floating-top"),this.ePinnedLeftFloatingTop=this.queryHtmlElement(".ag-pinned-left-floating-top"),this.ePinnedRightFloatingTop=this.queryHtmlElement(".ag-pinned-right-floating-top"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottom=this.queryHtmlElement(".ag-floating-bottom"),this.ePinnedLeftFloatingBottom=this.queryHtmlElement(".ag-pinned-left-floating-bottom"),this.ePinnedRightFloatingBottom=this.queryHtmlElement(".ag-pinned-right-floating-bottom"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBody,this.eFloatingTop,this.eFloatingBottom],this.ePinnedLeftColsViewport.addEventListener("mousewheel",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("mousewheel",this.centerMouseWheelListener.bind(this)),this.ePinnedLeftColsViewport.addEventListener("DOMMouseScroll",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("DOMMouseScroll",this.centerMouseWheelListener.bind(this)))},e.prototype.getHeaderViewport=function(){return this.eHeaderViewport},e.prototype.centerMouseWheelListener=function(e){return this.columnController.isPinningRight()?this.generalMouseWheelListener(e,this.ePinnedRightColsViewport):void 0},e.prototype.pinnedLeftMouseWheelListener=function(e){var t;return t=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport,this.generalMouseWheelListener(e,t)},e.prototype.generalMouseWheelListener=function(e,t){var i;if(e.deltaY&&0!=e.deltaX)i=e.deltaY;else if(e.wheelDelta&&0!=e.wheelDelta)i=-e.wheelDelta;else{if(!e.detail||0==e.detail)return;i=20*e.detail}var o=this.eBodyViewport.scrollTop+i;return t.scrollTop=o,e.preventDefault(),!1},e.prototype.setBodyContainerWidth=function(){var e=this.columnController.getBodyContainerWidth()+"px";this.eBodyContainer.style.width=e,this.forPrint||(this.eFloatingBottomContainer.style.width=e,this.eFloatingTopContainer.style.width=e)},e.prototype.setPinnedColContainerWidth=function(){if(!this.forPrint){var e=this.columnController.getPinnedLeftContainerWidth()+"px";this.ePinnedLeftColsContainer.style.width=e,this.ePinnedLeftFloatingBottom.style.width=e,this.ePinnedLeftFloatingTop.style.width=e,this.eBodyViewportWrapper.style.marginLeft=e;var t=this.columnController.getPinnedRightContainerWidth()+"px";this.ePinnedRightColsContainer.style.width=t,this.ePinnedRightFloatingBottom.style.width=t,this.ePinnedRightFloatingTop.style.width=t,this.eBodyViewportWrapper.style.marginRight=t}},e.prototype.showPinnedColContainersIfNeeded=function(){this.forPrint||(this.columnController.isPinningLeft()?(this.ePinnedLeftHeader.style.display="inline-block",this.ePinnedLeftColsViewport.style.display="inline"):(this.ePinnedLeftHeader.style.display="none",this.ePinnedLeftColsViewport.style.display="none"),this.columnController.isPinningRight()?(this.ePinnedRightHeader.style.display="inline-block",this.ePinnedRightColsViewport.style.display="inline",this.eBodyViewport.style.overflowY="hidden"):(this.ePinnedRightHeader.style.display="none",this.ePinnedRightColsViewport.style.display="none",this.eBodyViewport.style.overflowY="auto"))},e.prototype.onBodyHeightChange=function(){this.sizeHeaderAndBody()},e.prototype.sizeHeaderAndBody=function(){if(!this.forPrint){var e=this.layout.getCentreHeight();if(e){var o=this.gridOptionsWrapper.getHeaderHeight()*this.columnController.getHeaderRowCount();this.eHeader.style.height=o+"px";var r=this.floatingRowModel.getFloatingTopTotalHeight(),n=o+r,s=this.floatingRowModel.getFloatingBottomTotalHeight(),l=e-s,a=e-o-s-r;this.eBody.style.paddingTop=n+"px",this.eBody.style.paddingBottom=s+"px",this.eFloatingTop.style.top=o+"px",this.eFloatingTop.style.height=r+"px",this.eFloatingBottom.style.height=s+"px",this.eFloatingBottom.style.top=l+"px",this.ePinnedLeftColsViewport.style.height=a+"px",this.ePinnedRightColsViewport.style.height=a+"px"}}},e.prototype.setHorizontalScrollPosition=function(e){this.eBodyViewport.scrollLeft=e},e.prototype.scrollHorizontally=function(e){var t=this.eBodyViewport.scrollLeft;this.setHorizontalScrollPosition(t+e);return this.eBodyViewport.scrollLeft-t},e.prototype.getHorizontalScrollPosition=function(){return this.eBodyViewport.scrollLeft},e.prototype.addScrollListener=function(){var e=this;this.forPrint||(this.eBodyViewport.addEventListener("scroll",function(){var t=e.eBodyViewport.scrollLeft;if(t!==e.lastLeftPosition&&(e.lastLeftPosition=t,e.horizontallyScrollHeaderCenterAndFloatingCenter(t),e.masterSlaveService.fireHorizontalScrollEvent(t)),!e.columnController.isPinningRight()){var i=e.eBodyViewport.scrollTop;i!==e.lastTopPosition&&(e.lastTopPosition=i,e.verticallyScrollLeftPinned(i),e.requestDrawVirtualRows())}}),this.ePinnedRightColsViewport.addEventListener("scroll",function(){var t=e.ePinnedRightColsViewport.scrollTop;t!==e.lastTopPosition&&(e.lastTopPosition=t,e.verticallyScrollLeftPinned(t),e.verticallyScrollBody(t),e.requestDrawVirtualRows())}),this.ePinnedLeftColsViewport.addEventListener("scroll",function(){e.ePinnedLeftColsViewport.scrollTop=0}))},e.prototype.requestDrawVirtualRows=function(){var t=this;if(!this.gridOptionsWrapper.isSuppressScrollLag()&&(this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():o.default.isBrowserIE()||o.default.isBrowserSafari())){this.scrollLagCounter++;var i=this.scrollLagCounter;setTimeout(function(){t.scrollLagCounter===i&&t.rowRenderer.drawVirtualRows()},50)}else this.rowRenderer.drawVirtualRows()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){this.eHeaderContainer.style.left=-e+"px",this.eFloatingBottomContainer.style.left=-e+"px",this.eFloatingTopContainer.style.left=-e+"px"},e.prototype.verticallyScrollLeftPinned=function(e){this.ePinnedLeftColsContainer.style.top=-e+"px"},e.prototype.verticallyScrollBody=function(e){this.eBodyViewport.scrollTop=e},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,i){var o=i(6),r=function(){function e(e){this.sizeChangeListeners=[],this.isLayoutPanel=!0,this.fullHeight=!e.north&&!e.south;var t;e.dontFill?(t='<div style="position: relative;"><div id="north"></div><div id="centerRow"><div id="west"></div><div id="east"></div><div id="center"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!1):(t=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>':'<div style="height: 100%; position: relative;"><div id="north"></div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!0),this.eGui=o.default.loadTemplate(t),this.id="borderLayout",e.name&&(this.id+="_"+e.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],e&&this.setupPanels(e),this.overlays=e.overlays,this.setupOverlays()}return e.prototype.addSizeChangeListener=function(e){this.sizeChangeListeners.push(e)},e.prototype.fireSizeChanged=function(){this.sizeChangeListeners.forEach(function(e){e()})},e.prototype.setupPanels=function(e){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(e.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(e.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(e.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(e.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(e.center,this.eCenterWrapper)},e.prototype.setupPanel=function(e,t){return t?e?e.isLayoutPanel?(this.childPanels.push(e),t.appendChild(e.getGui()),e):(t.appendChild(e),null):(t.parentNode.removeChild(t),null):void 0},e.prototype.getGui=function(){return this.eGui},e.prototype.doLayout=function(){if(!o.default.isVisible(this.eGui))return!1;var e=!1,t=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout],i=this;if(o.default.forEach(t,function(t){i.layoutChild(t)&&(e=!0)}),this.layoutActive){var r=this.layoutHeight(),n=this.layoutWidth();(r||n)&&(e=!0)}return this.layoutChild(this.eCenterChildLayout)&&(e=!0),e&&this.fireSizeChanged(),e},e.prototype.layoutChild=function(e){return!!e&&e.doLayout()},e.prototype.layoutHeight=function(){return this.fullHeight?this.layoutHeightFullHeight():this.layoutHeightNormal()},e.prototype.layoutHeightFullHeight=function(){var e=o.default.offsetHeight(this.eGui);return 0>e&&(e=0),this.centerHeightLastTime!==e&&(this.centerHeightLastTime=e,!0)},e.prototype.layoutHeightNormal=function(){var r=o.default.offsetHeight(this.eGui)-o.default.offsetHeight(this.eNorthWrapper)-o.default.offsetHeight(this.eSouthWrapper);return 0>r&&(r=0),this.centerHeightLastTime!==r&&(this.eCenterRow.style.height=r+"px",this.centerHeightLastTime=r,!0)},e.prototype.getCentreHeight=function(){return this.centerHeightLastTime},e.prototype.layoutWidth=function(){var r=o.default.offsetWidth(this.eGui)-o.default.offsetWidth(this.eEastWrapper)-o.default.offsetWidth(this.eWestWrapper);0>r&&(r=0),this.eCenterWrapper.style.width=r+"px"},e.prototype.setEastVisible=function(e){this.eEastWrapper&&(this.eEastWrapper.style.display=e?"":"none"),this.doLayout()},e.prototype.setupOverlays=function(){return this.overlays?void this.hideOverlay():void this.eOverlayWrapper.parentNode.removeChild(this.eOverlayWrapper)},e.prototype.hideOverlay=function(){o.default.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="none"},e.prototype.showOverlay=function(e){var t=this.overlays?this.overlays[e]:null;t?(o.default.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="",this.eOverlayWrapper.appendChild(t)):(console.log("ag-Grid: unknown overlay"),this.hideOverlay())},e.prototype.setSouthVisible=function(e){this.eSouthWrapper&&(this.eSouthWrapper.style.display=e?"":"none"),this.doLayout()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,i){var o=i(44),r=i(3),n=function(){function e(e,t,i,r,n,s,l,a,d,u,p,h,c){this.grid=e,this.rowRenderer=t,this.headerRenderer=i,this.filterManager=r,this.columnController=n,this.inMemoryRowController=s,this.selectionController=l,this.gridOptionsWrapper=a,this.gridPanel=d,this.valueService=u,this.masterSlaveService=p,this.eventService=h,this.floatingRowModel=c,this.csvCreator=new o.default(this.inMemoryRowController,this.columnController,this.grid,this.valueService)}return e.prototype.__getMasterSlaveService=function(){return this.masterSlaveService},e.prototype.getDataAsCsv=function(e){return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){this.csvCreator.exportDataAsCsv(e)},e.prototype.setDatasource=function(e){this.grid.setDatasource(e)},e.prototype.onNewDatasource=function(){console.log("ag-Grid: onNewDatasource deprecated, please use setDatasource()"),this.grid.setDatasource()},e.prototype.setRowData=function(e){this.grid.setRowData(e)},e.prototype.setRows=function(e){console.log("ag-Grid: setRows deprecated, please use setRowData()"),this.grid.setRowData(e)},e.prototype.onNewRows=function(){console.log("ag-Grid: onNewRows deprecated, please use setRowData()"),this.grid.setRowData()},e.prototype.setFloatingTopRowData=function(e){this.floatingRowModel.setFloatingTopRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},e.prototype.setFloatingBottomRowData=function(e){this.floatingRowModel.setFloatingBottomRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},e.prototype.onNewCols=function(){console.error("ag-Grid: deprecated, please call setColumnDefs instead providing a list of the defs"),this.grid.setColumnDefs()},e.prototype.setColumnDefs=function(e){this.grid.setColumnDefs(e)},e.prototype.unselectAll=function(){console.error("unselectAll deprecated, call deselectAll instead"),this.deselectAll()},e.prototype.refreshRows=function(e){this.rowRenderer.refreshRows(e)},e.prototype.refreshCells=function(e,t){this.rowRenderer.refreshCells(e,t)},e.prototype.rowDataChanged=function(e){this.rowRenderer.rowDataChanged(e)},e.prototype.refreshView=function(){this.rowRenderer.refreshView()},e.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},e.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},e.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.grid.getRowModel()},e.prototype.onGroupExpandedOrCollapsed=function(e){this.grid.updateModelAndRefresh(r.default.STEP_MAP,e)},e.prototype.expandAll=function(){this.inMemoryRowController.expandOrCollapseAll(!0,null),this.grid.updateModelAndRefresh(r.default.STEP_MAP)},e.prototype.collapseAll=function(){this.inMemoryRowController.expandOrCollapseAll(!1,null),this.grid.updateModelAndRefresh(r.default.STEP_MAP)},e.prototype.addVirtualRowListener=function(e,t,i){"string"!=typeof e&&console.log("ag-Grid: addVirtualRowListener has changed, the first parameter should be the event name, pleae check the documentation."),this.grid.addVirtualRowListener(e,t,i)},e.prototype.setQuickFilter=function(e){this.grid.onQuickFilterChanged(e)},e.prototype.selectIndex=function(e,t,i){this.selectionController.selectIndex(e,t,i)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),this.selectionController.deselectIndex(e,t)},e.prototype.selectNode=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.selectionController.selectNode(e,t,i)},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),this.selectionController.deselectNode(e,t)},e.prototype.selectAll=function(){this.selectionController.selectAll(),this.rowRenderer.refreshView()},e.prototype.deselectAll=function(){this.selectionController.deselectAll(),this.rowRenderer.refreshView()},e.prototype.recomputeAggregates=function(){this.inMemoryRowController.doAggregate(),this.rowRenderer.refreshGroupRows()},e.prototype.sizeColumnsToFit=function(){return this.gridOptionsWrapper.isForPrint()?void console.warn("ag-grid: sizeColumnsToFit does not work when forPrint=true"):void this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.grid.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.grid.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.grid.hideOverlay()},e.prototype.showLoading=function(e){console.warn("ag-Grid: showLoading is deprecated, please use api.showLoadingOverlay() and api.hideOverlay() instead"),e?this.grid.showLoadingOverlay():this.grid.hideOverlay()},e.prototype.isNodeSelected=function(e){return this.selectionController.isNodeSelected(e)},e.prototype.getSelectedNodesById=function(){return this.selectionController.getSelectedNodesById()},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e){this.gridPanel.ensureIndexVisible(e)},e.prototype.ensureNodeVisible=function(e){this.grid.ensureNodeVisible(e)},e.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},e.prototype.forEachNode=function(e){this.grid.getRowModel().forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){this.grid.getRowModel().forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){this.grid.getRowModel().forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(e)},e.prototype.getFilterApi=function(e){var t=this.columnController.getColumn(e);return this.filterManager.getFilterApi(t)},e.prototype.getColumnDef=function(e){var t=this.columnController.getColumn(e);return t?t.getColDef():null},e.prototype.onFilterChanged=function(){this.grid.onFilterChanged()},e.prototype.setSortModel=function(e){this.grid.setSortModel(e)},e.prototype.getSortModel=function(){return this.grid.getSortModel()},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.grid.getFilterModel()},e.prototype.getFocusedCell=function(){return this.rowRenderer.getFocusedCell()},e.prototype.setFocusedCell=function(e,t){this.grid.setFocusedCell(e,t)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setHeaderHeight(e),this.gridPanel.onBodyHeightChange()},e.prototype.showToolPanel=function(e){this.grid.showToolPanel(e)},e.prototype.isToolPanelShowing=function(){return this.grid.isToolPanelShowing()},e.prototype.doLayout=function(){this.grid.doLayout()},e.prototype.getValue=function(e,t,i){return this.valueService.getValue(e,t,i)},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.addGlobalListener=function(e){this.eventService.addGlobalListener(e)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.removeGlobalListener=function(e){this.eventService.removeGlobalListener(e)},e.prototype.dispatchEvent=function(e,t){this.eventService.dispatchEvent(e,t)},e.prototype.refreshRowGroup=function(){this.grid.refreshRowGroup()},e.prototype.destroy=function(){this.grid.destroy()},e}();t.GridApi=n},function(e,t){var i="\r\n",o=function(){function e(e,t,i,o){this.rowController=e,this.columnController=t,this.grid=i,this.valueService=o}return e.prototype.exportDataAsCsv=function(e){var t=this.getDataAsCsv(e),o=e&&e.fileName&&0!==e.fileName.length?e.fileName:"export.csv",r=new Blob(["\ufeff",t],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,o);else{var n=document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=o,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e.prototype.getDataAsCsv=function(e){var t=this;if(!this.grid.isUsingInMemoryModel())return console.log("ag-Grid: getDataAsCsv not available when doing virtual pagination"),"";var o,r="",n=e&&e.skipGroups,s=e&&e.skipHeader,l=e&&e.skipFooters,a=e&&e.customHeader,d=e&&e.customFooter,u=e&&e.allColumns,p=e&&e.columnSeparator||",";return(o=u?this.columnController.getAllColumns():this.columnController.getAllDisplayedColumns())&&0!==o.length?(a&&(r+=e.customHeader),s||(o.forEach(function(e,i){var o=t.columnController.getDisplayNameForCol(e);(null===o||void 0===o)&&(o=""),0!=i&&(r+=p),r+='"'+t.escape(o)+'"'}),r+=i),this.rowController.forEachNodeAfterFilterAndSort(function(e){n&&e.group||l&&e.footer||(o.forEach(function(i,o){var n;(null===(n=e.group&&0===o?t.createValueForGroupNode(e):t.valueService.getValue(i.getColDef(),e.data,e))||void 0===n)&&(n=""),0!=o&&(r+=p),r+='"'+t.escape(n)+'"'}),r+=i)}),d&&(r+=e.customFooter),r):""},e.prototype.createValueForGroupNode=function(e){for(var t=[e.key];e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.escape=function(e){if(null===e||void 0===e)return"";var t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("known value type during csv conversio"),t=""),t.replace(/"/g,'""')},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,i){var o=i(6),n=i(27).default.getInstance(),s=function(){function e(){}return e.prototype.init=function(e){this.gridOptionsWrapper=e},e.prototype.createHeaderElement=function(e){var t={column:e,colDef:e.getColDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},i=e.getColDef().headerCellTemplate;if("function"==typeof i){i=i(t)}if(!i&&this.gridOptionsWrapper.getHeaderCellTemplate()&&(i=this.gridOptionsWrapper.getHeaderCellTemplate()),!i&&this.gridOptionsWrapper.getHeaderCellTemplateFunc()){i=this.gridOptionsWrapper.getHeaderCellTemplateFunc()(t)}i||(i=this.createDefaultHeaderElement(e));var s;return"string"==typeof i?s=o.default.loadTemplate(i):o.default.isNodeOrElement(i)?s=i:console.error("ag-Grid: header template must be a string or an HTML element"),s},e.prototype.createDefaultHeaderElement=function(t){var i=o.default.loadTemplate(e.HEADER_CELL_TEMPLATE);return this.addInIcon(i,"sortAscending","#agSortAsc",t,n.createArrowUpSvg),this.addInIcon(i,"sortDescending","#agSortDesc",t,n.createArrowDownSvg),this.addInIcon(i,"sortUnSort","#agNoSort",t,n.createArrowUpDownSvg),this.addInIcon(i,"menu","#agMenu",t,n.createMenuSvg),this.addInIcon(i,"filter","#agFilter",t,n.createFilterSvg),i},e.prototype.addInIcon=function(e,t,i,r,n){var s=o.default.createIconNoSpan(t,this.gridOptionsWrapper,r,n);e.querySelector(i).appendChild(s)},e.HEADER_CELL_TEMPLATE='<div class="ag-header-cell">  <div id="agResizeBar" class="ag-header-cell-resize"></div>  <span id="agMenu" class="ag-header-icon ag-header-cell-menu-button"></span>  <div id="agHeaderCellLabel" class="ag-header-cell-label">    <span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>    <span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>    <span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>    <span id="agFilter" class="ag-header-icon ag-filter-icon"></span>    <span id="agText" class="ag-header-cell-text"></span>  </div></div>',e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,i){var o=i(47),r=i(17),n=i(8),s=function(){function e(){}return e.prototype.init=function(e,t,i){this.gridOptionsWrapper=e,this.columnUtils=i,this.logger=t.create("BalancedColumnTreeBuilder")},e.prototype.createBalancedColumnGroups=function(e){var t=new o.default,i=this.recursivelyCreateColumns(e,0,t),n=this.findMaxDept(i,0);this.logger.log("Number of levels for grouped columns is "+n);var s=this.balanceColumnTree(i,0,n,t);return this.columnUtils.deptFirstOriginalTreeSearch(s,function(e){e instanceof r.OriginalColumnGroup&&e.calculateExpandable()}),{balancedTree:s,treeDept:n}},e.prototype.balanceColumnTree=function(e,t,i,o){var n=this,s=[];return e.forEach(function(e){if(e instanceof r.OriginalColumnGroup){var l=e,a=n.balanceColumnTree(l.getChildren(),t+1,i,o);l.setChildren(a),s.push(l)}else{for(var d=e,u=i-1;u>=t;u--){var p=o.getUniqueKey(null,null),h=new r.OriginalColumnGroup(null,p);h.setChildren([d]),d=h}s.push(d)}}),s},e.prototype.findMaxDept=function(e,t){for(var i=t,o=0;o<e.length;o++){var n=e[o];if(n instanceof r.OriginalColumnGroup){var s=n,l=this.findMaxDept(s.getChildren(),t+1);l>i&&(i=l)}}return i},e.prototype.recursivelyCreateColumns=function(e,t,i){var o=this,s=[];if(!e)return s;var l=this.gridOptionsWrapper.getMinColWidth(),a=this.gridOptionsWrapper.getMaxColWidth();return e.forEach(function(e){if(o.checkForDeprecatedItems(e),o.isColumnGroup(e)){var d=e,u=i.getUniqueKey(d.groupId,null),p=new r.OriginalColumnGroup(d,u),h=o.recursivelyCreateColumns(d.children,t+1,i);p.setChildren(h),s.push(p)}else{var c=e,g=o.columnUtils.calculateColInitialWidth(c),f=i.getUniqueKey(c.colId,c.field),v=new n.default(c,g,f,l,a);s.push(v)}}),s},e.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3")}},e.prototype.isColumnGroup=function(e){return void 0!==e.children},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t){var i=function(){function e(){this.existingKeys=[]}return e.prototype.getUniqueKey=function(e,t){for(var i=0;;){var o;if(e?(o=e,0!==i&&(o+="_"+i)):t?(o=t,0!==i&&(o+="_"+i)):o=""+i,this.existingKeys.indexOf(o)<0)return this.existingKeys.push(o),o;i++}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var o=i(15),r=i(17),n=function(){function e(){}return e.prototype.init=function(e){this.columnUtils=e},e.prototype.createDisplayedGroups=function(e,t,i){var r,n,s=this,l=[];return e.forEach(function(e){for(var a=s.getOriginalPathForColumn(t,e),d=[],u=!n,p=0;p<a.length;p++)if(u||a[p]!==n[p]){var h=a[p],c=h.getGroupId(),g=i.getInstanceIdForKey(c),f=new o.default(h,c,g);d[p]=f,0==p?l.push(f):d[p-1].addChild(f)}else d[p]=r[p];if(0===d.length)l.push(e);else{d[d.length-1].addChild(e)}r=d,n=a}),l},e.prototype.createFakePath=function(e){for(var t=[],i=e,o=0;i&&i[0]&&i[0]instanceof r.OriginalColumnGroup;)t.push(new r.OriginalColumnGroup(null,"FAKE_PATH_"+o)),i=i[0].getChildren(),o++;return t},e.prototype.getOriginalPathForColumn=function(e,t){function i(e,s){for(var l=0;l<e.length;l++){if(n)return;var a=e[l];if(a instanceof r.OriginalColumnGroup){i(a.getChildren(),s+1),o[s]=a}else a===t&&(n=!0)}}var o=[],n=!1;return i(e,0),n?o:this.createFakePath(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,i){var o=i(1),r=function(){function e(){}return e.prototype.init=function(e,t){this.grid=e,this.selectionController=t},e.prototype.createSelectionCheckbox=function(e,t){var i=this,r=document.createElement("input");r.type="checkbox",r.name="name",r.className="ag-selection-checkbox",this.setCheckboxState(r,this.selectionController.isNodeSelected(e));var n=this;return r.onclick=function(e){e.stopPropagation()},r.onchange=function(){r.checked?n.selectionController.selectIndex(t,!0):n.selectionController.deselectIndex(t)},this.grid.addVirtualRowListener(o.Grid.VIRTUAL_ROW_SELECTED,t,function(e){i.setCheckboxState(r,e)}),r},e.prototype.setCheckboxState=function(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t){var i=function(){function e(){this.expressionToFunctionCache={}}return e.prototype.init=function(e){this.logger=e.create("ExpressionService")},e.prototype.evaluate=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue)}catch(r){return this.logger.log("Processing of the expression failed"),this.logger.log("Expression = "+e),this.logger.log("Exception = "+r),null}},e.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),i=new Function("x, ctx, node, data, colDef, rowIndex, api, getValue",t);return this.expressionToFunctionCache[e]=i,i},e.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){var i=function(){function e(){this.templateCache={},this.waitingCallbacks={}}return e.prototype.init=function(e){this.$scope=e},e.prototype.getTemplate=function(e,t){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],r=this;if(!o){o=[],this.waitingCallbacks[e]=o;var n=new XMLHttpRequest;n.onload=function(){r.handleHttpResult(this,e)},n.open("GET",e),n.send()}return t&&o.push(t),null},e.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var i=this.waitingCallbacks[t],o=0;o<i.length;o++){(0,i[o])()}if(this.$scope){var n=this;setTimeout(function(){n.$scope.$apply()},0)}}else console.warn("Unable to get template error "+e.status+" - "+t)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var o=i(6),r=i(3),n=function(){function e(){}return e.prototype.init=function(e){this.ePopupParent=e},e.prototype.positionPopup=function(e,t,i){var o=e.getBoundingClientRect(),r=this.ePopupParent.getBoundingClientRect(),n=o.left-r.left,s=o.top-r.top+o.height;if(i){var l;l=t.clientWidth>0?t.clientWidth:200;var d=r.right-r.left-l;n>d&&(n=d),0>n&&(n=0)}t.style.left=n+"px",t.style.top=s+"px"},e.prototype.addAsModalPopup=function(e,t){function i(e){(e.which||e.keyCode)===r.default.KEY_ESCAPE&&n(null)}function n(t){t&&t===u||(d.ePopupParent.removeChild(e),l.removeEventListener("keydown",i),l.removeEventListener("click",n),e.removeEventListener("click",s))}function s(e){u=e}var l=document.body;if(l){if(!o.default.isVisible(e)){this.ePopupParent.appendChild(e);var d=this;setTimeout(function(){t&&l.addEventListener("keydown",i),l.addEventListener("click",n),e.addEventListener("click",s)},0);var u=null;return n}}else console.warn("ag-grid: could not find the body of the document, document.body is empty")},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e,t){this.valueService=e,this.gridOptionsWrapper=t},e.prototype.group=function(e,t,i){var o={level:-1,children:[],_childrenMap:{}},r=[];r.push(o);var n,s,l,a,d,u,p,h=t.length-1,c=!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),g=-1;for(n=0;n<e.length;n++)for(l=e[n],a=l.data,l.level=h+1,s=0;s<t.length;s++){var f=t[s];u=this.valueService.getValue(f.getColDef(),a,l),0===s&&(d=o),(p=d._childrenMap[u])||(p={group:!0,field:f.getColDef().field,id:g--,key:u,expanded:this.isExpanded(i,s),children:[],parent:null,allChildrenCount:0,level:d.level+1,_childrenMap:{}},c&&(p.parent=d===o?null:d),d._childrenMap[u]=p,d.children.push(p),r.push(p)),p.allChildrenCount++,s==h?(c&&(l.parent=p===o?null:p),p.children.push(l)):d=p}for(n=0;n<r.length;n++)delete r[n]._childrenMap;return o.children},e.prototype.isExpanded=function(e,t){return"number"==typeof e&&(-1===e||e>t)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e){this.logging=e.isDebug()},e.prototype.create=function(e){return new o(e,this.logging)},e}();t.LoggerFactory=i;var o=function(){function e(e,t){this.name=e,this.logging=t}return e.prototype.log=function(e){this.logging&&console.log("ag-Grid."+this.name+": "+e)},e}();t.Logger=o},function(e,t,i){var o=i(15),r=i(17),n=function(){function e(){}return e.prototype.init=function(e){this.gridOptionsWrapper=e},e.prototype.calculateColInitialWidth=function(e){return e.width?e.width<this.gridOptionsWrapper.getMinColWidth()?this.gridOptionsWrapper.getMinColWidth():e.width:this.gridOptionsWrapper.getColWidth()},e.prototype.getPathForColumn=function(e,t){function i(t,s){for(var l=0;l<t.length;l++){if(n)return;var a=t[l];if(a instanceof o.default){i(a.getChildren(),s+1),r[s]=a}else a===e&&(n=!0)}}var r=[],n=!1;return i(t,0),n?r:null},e.prototype.deptFirstOriginalTreeSearch=function(e,t){var i=this;e&&e.forEach(function(e){e instanceof r.OriginalColumnGroup&&i.deptFirstOriginalTreeSearch(e.getChildren(),t),t(e)})},e.prototype.deptFirstAllColumnTreeSearch=function(e,t){var i=this;e&&e.forEach(function(e){e instanceof o.default&&i.deptFirstAllColumnTreeSearch(e.getChildren(),t),t(e)})},e.prototype.deptFirstDisplayedColumnTreeSearch=function(e,t){var i=this;e&&e.forEach(function(e){e instanceof o.default&&i.deptFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e,t){this.gridPanel=t,this.rowRenderer=e},e.prototype.getPreferredWidthForColumn=function(e){var t=document.createElement("span");t.style.position="fixed",t.style.backgroundColor="red";var i=this.gridPanel.getBodyContainer();i.appendChild(t);this.rowRenderer.getAllCellsForColumn(e).forEach(function(e,i){var o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var r=document.createElement("div");r.style.display="table-row",r.appendChild(o),t.appendChild(r)});var r=t.offsetWidth;return i.removeChild(t),r+4},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var o=i(6),r=i(58),n=i(59),s=i(61),l=i(63),a=function(){function e(){this.layout=new r.default}return e.prototype.init=function(e,t,i,r,a,d){var u=i.isToolPanelSuppressGroups(),p=i.isToolPanelSuppressValues(),h=!u,c=!u&&!p,g=new n.default(e,i,a,d),f=u?"100%":"50%";this.layout.addPanel(g.layout,f);var v=g.getDragSource();if(c){var y=new s.default(e,i,r,a,d);this.layout.addPanel(y.getLayout(),"25%"),y.addDragSource(v)}if(h){var C=new l.default(e,t,i,a,d),m=c?"25%":"50%";this.layout.addPanel(C.layout,m),C.addDragSource(v)}var w=this.layout.getGui();o.default.addCssClass(w,"ag-tool-panel-container")},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t){var i=function(){function e(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}return e.prototype.addPanel=function(e,t){var i;e.isLayoutPanel?(this.childPanels.push(e),i=e.getGui()):i=e,t&&(i.style.height=t),this.eGui.appendChild(i)},e.prototype.getGui=function(){return this.eGui},e.prototype.doLayout=function(){for(var e=0;e<this.childPanels.length;e++)this.childPanels[e].doLayout()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){var o=i(6),r=i(27),n=i(5),s=i(60),l=i(42),a=r.default.getInstance(),d=function(){function e(e,t,i,o){this.dragAndDropService=o,this.gridOptionsWrapper=t,this.columnController=e,this.setupComponents(),i.addEventListener(n.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),i.addEventListener(n.Events.EVENT_COLUMN_MOVED,this.columnsChanged.bind(this)),i.addEventListener(n.Events.EVENT_COLUMN_VISIBLE,this.columnsChanged.bind(this))}return e.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getAllColumns())},e.prototype.getDragSource=function(){return this.cColumnList.getUniqueId()},e.prototype.columnCellRenderer=function(e){var i=e.value,r=this.columnController.getDisplayNameForCol(i),n=document.createElement("span"),s=document.createElement("span");o.default.addCssClass(s,"ag-visible-icons");var l=o.default.createIcon("columnVisible",this.gridOptionsWrapper,i,a.createColumnShowingSvg),d=o.default.createIcon("columnHidden",this.gridOptionsWrapper,i,a.createColumnHiddenSvg);s.appendChild(l),s.appendChild(d),l.style.display=i.visible?"":"none",d.style.display=i.visible?"none":"",n.appendChild(s);var u=document.createElement("span");u.innerHTML=r,n.appendChild(u),i.visible||o.default.addCssClass(n,"ag-column-not-visible"),s.addEventListener("click",function(){p.columnController.setColumnVisible(i,!i.visible)});var p=this;return n},e.prototype.setupComponents=function(){this.cColumnList=new s.default(this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setReadOnly(!0);var t=this.gridOptionsWrapper.getLocaleTextFunc()("columns","Columns"),i=document.createElement("div");i.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new l.default({center:this.cColumnList.getGui(),north:i})},e.prototype.onItemMoved=function(e,t){this.columnController.moveColumnByIndex(e,t)},e.prototype.getGui=function(){return this.eRootPanel.getGui()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,i){var o,r=i(6);!function(e){e[e.NOT_DROP_TARGET=0]="NOT_DROP_TARGET",e[e.DROP_TARGET_ABOVE=1]="DROP_TARGET_ABOVE",e[e.DROP_TARGET_BELOW=2]="DROP_TARGET_BELOW"}(o||(o={}));var s=function(){function e(e){this.readOnly=!1,this.dragAndDropService=e,this.setupComponents(),this.uniqueId="CheckboxSelection-"+Math.random(),this.modelChangedListeners=[],this.itemSelectedListeners=[],this.itemMovedListeners=[],this.beforeDropListeners=[],this.dragSources=[],this.setupAsDropTarget()}return e.prototype.setReadOnly=function(e){this.readOnly=e},e.prototype.setEmptyMessage=function(e){this.emptyMessage=e,this.refreshView()},e.prototype.getUniqueId=function(){return this.uniqueId},e.prototype.addStyles=function(e){r.default.addStylesToElement(this.eGui,e)},e.prototype.addCssClass=function(e){r.default.addCssClass(this.eGui,e)},e.prototype.addDragSource=function(e){this.dragSources.push(e)},e.prototype.addModelChangedListener=function(e){this.modelChangedListeners.push(e)},e.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},e.prototype.addItemMovedListener=function(e){this.itemMovedListeners.push(e)},e.prototype.addBeforeDropListener=function(e){this.beforeDropListeners.push(e)},e.prototype.fireItemMoved=function(e,t){for(var i=0;i<this.itemMovedListeners.length;i++)this.itemMovedListeners[i](e,t)},e.prototype.fireModelChanged=function(){for(var e=0;e<this.modelChangedListeners.length;e++)this.modelChangedListeners[e](this.model)},e.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},e.prototype.fireBeforeDrop=function(e){for(var t=0;t<this.beforeDropListeners.length;t++)this.beforeDropListeners[t](e)},e.prototype.setupComponents=function(){this.eGui=r.default.loadTemplate('<div class="ag-list-selection"><div><div ag-repeat class="ag-list-item"></div></div></div>'),this.eFilterValueTemplate=this.eGui.querySelector("[ag-repeat]"),this.eListParent=this.eFilterValueTemplate.parentNode,r.default.removeAllChildren(this.eListParent)},e.prototype.setModel=function(e){this.model=e,this.refreshView()},e.prototype.getModel=function(){return this.model},e.prototype.setCellRenderer=function(e){this.cellRenderer=e},e.prototype.refreshView=function(){r.default.removeAllChildren(this.eListParent),this.model&&this.model.length>0?this.insertRows():this.insertBlankMessage()},e.prototype.insertRows=function(){for(var e=0;e<this.model.length;e++){var t=this.model[e],i=this.eFilterValueTemplate.cloneNode(!0);if(this.cellRenderer){var o={value:t};r.default.useRenderer(i,this.cellRenderer,o)}else i.innerHTML=t;i.addEventListener("click",this.fireItemSelected.bind(this,t)),this.addDragAndDropToListItem(i,t),this.eListParent.appendChild(i)}},e.prototype.insertBlankMessage=function(){if(this.emptyMessage){var e=document.createElement("div");e.style.color="grey",e.style.padding="4px",e.style.textAlign="center",e.innerHTML=this.emptyMessage,this.eListParent.appendChild(e)}},e.prototype.setupAsDropTarget=function(){this.dragAndDropService.addDropTarget(this.eGui,{acceptDrag:this.externalAcceptDrag.bind(this),drop:this.externalDrop.bind(this),noDrop:this.externalNoDrop.bind(this)})},e.prototype.externalAcceptDrag=function(e){if(!(this.dragSources.indexOf(e.containerId)>=0))return!1;return!(this.model.indexOf(e.data)>=0)&&(this.eGui.style.backgroundColor="lightgreen",!0)},e.prototype.externalDrop=function(e){var t=e.data;this.fireBeforeDrop(t),this.readOnly||this.addItemToList(t),this.eGui.style.backgroundColor=""},e.prototype.externalNoDrop=function(){this.eGui.style.backgroundColor=""},e.prototype.addItemToList=function(e){this.model.push(e),this.refreshView(),this.fireModelChanged()},e.prototype.addDragAndDropToListItem=function(e,t){var i=this;this.dragAndDropService.addDragSource(e,{getData:function(){return t},getContainerId:function(){return i.uniqueId}}),this.dragAndDropService.addDropTarget(e,{acceptDrag:function(o){return i.internalAcceptDrag(t,o,e)},drop:function(e){i.internalDrop(t,e.data)},noDrop:function(){i.internalNoDrop(e)}})},e.prototype.internalAcceptDrag=function(e,t,i){var r=t.data!==e&&t.containerId===this.uniqueId;return r&&(this.dragAfterThisItem(e,t.data)?this.setDropCssClasses(i,o.DROP_TARGET_ABOVE):this.setDropCssClasses(i,o.DROP_TARGET_BELOW)),r},e.prototype.internalDrop=function(e,t){var i=this.model.indexOf(t),o=this.model.indexOf(e);this.readOnly?this.fireItemMoved(i,o):(this.model.splice(i,1),this.model.splice(o,0,t),this.refreshView(),this.fireModelChanged())},e.prototype.internalNoDrop=function(e){this.setDropCssClasses(e,o.NOT_DROP_TARGET)},e.prototype.dragAfterThisItem=function(e,t){return this.model.indexOf(e)<this.model.indexOf(t)},e.prototype.setDropCssClasses=function(e,t){r.default.addOrRemoveCssClass(e,"ag-not-drop-target",t===o.NOT_DROP_TARGET),r.default.addOrRemoveCssClass(e,"ag-drop-target-above",t===o.DROP_TARGET_ABOVE),r.default.addOrRemoveCssClass(e,"ag-drop-target-below",t===o.DROP_TARGET_BELOW)},e.prototype.getGui=function(){return this.eGui},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,i){var o=i(27),r=i(6),n=i(5),s=i(62),l=i(8),a=i(60),d=i(42),u=o.default.getInstance(),p=function(){function e(e,t,i,o,r){this.dragAndDropService=r,this.popupService=i,this.gridOptionsWrapper=t,this.setupComponents(),this.columnController=e,o.addEventListener(n.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),o.addEventListener(n.Events.EVENT_COLUMN_VALUE_CHANGE,this.columnsChanged.bind(this))}return e.prototype.getLayout=function(){return this.layout},e.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getValueColumns())},e.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},e.prototype.cellRenderer=function(e){var t=e.value,i=this.columnController.getDisplayNameForCol(t),o=document.createElement("span"),n=r.default.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,t,u.createArrowUpSvg);r.default.addCssClass(n,"ag-visible-icons"),o.appendChild(n);var a=this;n.addEventListener("click",function(){a.columnController.removeValueColumn(t)});var d=new s.default(this.popupService,this.dragAndDropService);d.setModel([l.default.AGG_SUM,l.default.AGG_MIN,l.default.AGG_MAX]),d.setSelected(t.aggFunc),d.setWidth(45),d.addItemSelectedListener(function(e){a.columnController.setColumnAggFunction(t,e)}),o.appendChild(d.getGui());var p=document.createElement("span");return p.innerHTML=i,p.style.paddingLeft="2px",o.appendChild(p),o},e.prototype.setupComponents=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("valueColumns","Aggregations"),i=e("valueColumnsEmptyMessage","Drag columns from above to aggregate values");this.cColumnList=new a.default(this.dragAndDropService),this.cColumnList.setCellRenderer(this.cellRenderer.bind(this)),this.cColumnList.setEmptyMessage(i),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addBeforeDropListener(this.beforeDropListener.bind(this)),this.cColumnList.setReadOnly(!0);var o=document.createElement("div");o.style.paddingTop="10px",o.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new d.default({center:this.cColumnList.getGui(),north:o})},e.prototype.beforeDropListener=function(e){this.columnController.addValueColumn(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=p},function(e,t,i){var o=i(6),r=i(27),n=i(60),s=r.default.getInstance(),l=function(){function e(e,t){this.popupService=e,this.setupComponents(t),this.itemSelectedListeners=[]}return e.prototype.setWidth=function(e){this.eValue.style.width=e+"px",this.agList.addStyles({width:e+"px"})},e.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},e.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},e.prototype.setupComponents=function(e){this.eGui=document.createElement("span"),this.eValue=document.createElement("span"),this.eGui.appendChild(this.eValue),this.agList=new n.default(e),this.eValue.addEventListener("click",this.onClick.bind(this)),this.agList.addItemSelectedListener(this.itemSelected.bind(this)),this.agList.addCssClass("ag-popup-list"),o.default.addStylesToElement(this.eValue,{border:"1px solid darkgrey",display:"inline-block",paddingLeft:2}),o.default.addStylesToElement(this.eGui,{position:"relative"}),this.agList.addStyles({display:"inline-block",position:"absolute",top:0,left:0,backgroudColor:"white"})},e.prototype.itemSelected=function(e){this.setSelected(e),this.hidePopupCallback&&this.hidePopupCallback(),this.fireItemSelected(e)},e.prototype.onClick=function(){var e=this.agList.getGui();this.popupService.positionPopup(this.eGui,e,!1),this.hidePopupCallback=this.popupService.addAsModalPopup(e,!0)},e.prototype.getGui=function(){return this.eGui},e.prototype.setSelected=function(e){this.selectedItem=e,this.refreshView()},e.prototype.setCellRenderer=function(e){this.agList.setCellRenderer(e),this.cellRenderer=e},e.prototype.refreshView=function(){if(o.default.removeAllChildren(this.eValue),this.selectedItem)if(this.cellRenderer){var e={value:this.selectedItem};o.default.useRenderer(this.eValue,this.cellRenderer,e)}else this.eValue.appendChild(document.createTextNode(this.selectedItem));var t=s.createSmallArrowDownSvg();t.style.float="right",t.style.marginTop="6",t.style.marginRight="2",this.eValue.appendChild(t)},e.prototype.setModel=function(e){this.agList.setModel(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,i){var o=i(6),r=i(27),n=i(5),s=i(60),l=i(42),a=r.default.getInstance(),d=function(){function e(e,t,i,o,r){this.dragAndDropService=r,this.gridOptionsWrapper=i,this.setupComponents(),this.columnController=e,this.inMemoryRowController=t,o.addEventListener(n.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),o.addEventListener(n.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,this.columnsChanged.bind(this))}return e.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getRowGroupColumns())},e.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},e.prototype.columnCellRenderer=function(e){var t=e.value,i=this.columnController.getDisplayNameForCol(t),r=document.createElement("span"),n=o.default.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,t,a.createArrowUpSvg);o.default.addCssClass(n,"ag-visible-icons"),r.appendChild(n);var s=this;n.addEventListener("click",function(){s.columnController.removeRowGroupColumn(t)});var l=document.createElement("span");return l.innerHTML=i,r.appendChild(l),r},e.prototype.setupComponents=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("rowGroupColumns","Row Groupings"),i=e("rowGroupColumnsEmptyMessage","Drag columns from above to group rows");this.cColumnList=new s.default(this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addBeforeDropListener(this.onBeforeDrop.bind(this)),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setEmptyMessage(i),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.setReadOnly(!0);var o=document.createElement("div");o.style.paddingTop="10px",o.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new l.default({center:this.cColumnList.getGui(),north:o})},e.prototype.onBeforeDrop=function(e){this.columnController.addRowGroupColumn(e)},e.prototype.onItemMoved=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t){var i=function(){function e(){}return e.prototype.addDragHandling=function(e){e.eDraggableElement.addEventListener("mousedown",function(t){new o(e,t)})},e}();t.DragService=i;var o=function(){function e(e,t){this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseLeave=this.onMouseLeave.bind(this),this.lastDelta=0,this.params=e,this.eDragParent=document.querySelector("body"),this.dragStartX=t.clientX,this.startEvent=t,this.eDragParent.addEventListener("mousemove",this.mouseMove),this.eDragParent.addEventListener("mouseup",this.mouseUp),this.eDragParent.addEventListener("mouseleave",this.mouseLeave),this.draggingStarted=!1;"number"==typeof e.startAfterPixels&&e.startAfterPixels>0||this.startDragging()}return e.prototype.startDragging=function(){this.draggingStarted=!0,this.oldBodyCursor=this.params.eBody.style.cursor,this.oldParentCursor=this.eDragParent.style.cursor,this.oldMsUserSelect=this.eDragParent.style.msUserSelect,this.oldWebkitUserSelect=this.eDragParent.style.webkitUserSelect,this.params.eBody.style.cursor=this.params.cursor,this.eDragParent.style.cursor=this.params.cursor,this.eDragParent.style.msUserSelect="none",this.eDragParent.style.webkitUserSelect="none",this.params.onDragStart(this.startEvent)},e.prototype.onMouseMove=function(e){var t=e.clientX;if(this.lastDelta=t-this.dragStartX,!this.draggingStarted){Math.abs(this.lastDelta)>=this.params.startAfterPixels&&this.startDragging()}this.draggingStarted&&this.params.onDragging(this.lastDelta,!1)},e.prototype.onMouseUp=function(){this.stopDragging()},e.prototype.onMouseLeave=function(){this.stopDragging()},e.prototype.stopDragging=function(){this.draggingStarted&&(this.params.eBody.style.cursor=this.oldBodyCursor,this.eDragParent.style.cursor=this.oldParentCursor,this.eDragParent.style.msUserSelect=this.oldMsUserSelect,this.eDragParent.style.webkitUserSelect=this.oldWebkitUserSelect,this.params.onDragging(this.lastDelta,!0)),this.eDragParent.removeEventListener("mousemove",this.mouseMove),this.eDragParent.removeEventListener("mouseup",this.mouseUp),this.eDragParent.removeEventListener("mouseleave",this.mouseLeave)},e}()},function(e,t,i){function r(e,t,i,o){var r,s,l=o.agGrid;if(s=l+".quickFilterText",r=t.$eval(l)){var a=e[0],d=new n.Grid(a,r,null,t,i,s);t.$on("$destroy",function(){d.destroy()})}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var n=i(1);t.initialiseAgGridWithAngular1=function(e){e.module("agGrid",[]).directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",r],scope:!0}})}},function(e,t,i){var n=i(4),s=i(1);t.initialiseAgGridWithWebComponents=function(){"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var e=Object.create(HTMLElement.prototype);n.ComponentUtil.ALL_PROPERTIES.forEach(function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)}})}),e.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var i={};i[e]={currentValue:t},this.onChange(i)},e.onChange=function(e){this._initialised&&n.ComponentUtil.processOnChange(e,this._gridOptions,this.api)},e.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},e.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=n.ComponentUtil.copyAttributesToGridOptions(e,this),this._agGrid=new s.Grid(this,this._gridOptions,t),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},e.createdCallback=function(){for(var e=0;e<this.attributes.length;e++){var t=this.attributes[e];this.setPropertyFromAttribute(t)}},e.setPropertyFromAttribute=function(e){var t=function(e){if("string"==typeof e){var t=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});return t}return e}(e.nodeName),i=e.nodeValue;n.ComponentUtil.ALL_PROPERTIES.indexOf(t)>=0&&(this[t]=i)},e.attachedCallback=function(e){},e.detachedCallback=function(e){},e.attributeChangedCallback=function(e){var t=this.attributes[e];this.setPropertyFromAttribute(t)},e.globalEventListener=function(e,t){var i=e.toLowerCase(),o=new Event(i);o.agGridDetails=t,this.dispatchEvent(o);var n="on"+i;"function"==typeof this[n]&&this[n](o)},document.registerElement("ag-grid",{prototype:e})}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){var o=i(75);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(76)()).push([e.id,"ag-grid-ng2{display:inline-block}.ag-root{font-size:14px;cursor:default;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;overflow:hidden}.ag-no-scrolls{white-space:nowrap;display:inline-block}.ag-scrolls{height:100%}.ag-popup-backdrop{position:fixed;left:0;top:0;width:100%;height:100%}.ag-header{position:absolute;top:0;left:0;white-space:nowrap;box-sizing:border-box;overflow:hidden;width:100%}.ag-pinned-left-header{float:left}.ag-pinned-left-header,.ag-pinned-right-header{box-sizing:border-box;display:inline-block;overflow:hidden;height:100%}.ag-pinned-right-header{float:right}.ag-header-viewport{box-sizing:border-box;overflow:hidden;height:100%}.ag-scrolls .ag-header-container{box-sizing:border-box;position:relative;white-space:nowrap;height:100%}.ag-no-scrolls .ag-header-container{white-space:nowrap}.ag-header-overlay{display:block;position:absolute}.ag-header-cell{vertical-align:bottom;text-align:center}.ag-header-cell,.ag-header-group-cell{box-sizing:border-box;display:inline-block;height:100%}.ag-header-cell-label,.ag-header-group-cell,.ag-header-group-cell-label{text-overflow:ellipsis;overflow:hidden}.ag-header-cell-resize{height:100%;width:4px;float:right;cursor:col-resize}.ag-header-expand-icon{padding-left:4px}.ag-header-cell-menu-button{float:right}.ag-overlay-panel{display:table;width:100%;height:100%;pointer-events:none}.ag-overlay-wrapper{display:table-cell;vertical-align:middle;text-align:center}.ag-body{height:100%;box-sizing:border-box}.ag-floating-top{position:absolute;left:0;width:100%;white-space:nowrap;box-sizing:border-box;overflow:hidden}.ag-pinned-left-floating-top{float:left}.ag-pinned-left-floating-top,.ag-pinned-right-floating-top{box-sizing:border-box;display:inline-block;overflow:hidden;height:100%}.ag-pinned-right-floating-top{float:right}.ag-floating-top-viewport{box-sizing:border-box;overflow:hidden;height:100%}.ag-floating-top-container{box-sizing:border-box;position:relative;white-space:nowrap}.ag-floating-bottom{position:absolute;left:0;width:100%;white-space:nowrap;box-sizing:border-box;overflow:hidden}.ag-pinned-left-floating-bottom{float:left}.ag-pinned-left-floating-bottom,.ag-pinned-right-floating-bottom{box-sizing:border-box;display:inline-block;overflow:hidden;height:100%}.ag-pinned-right-floating-bottom{float:right}.ag-floating-bottom-viewport{box-sizing:border-box;overflow:hidden;height:100%}.ag-floating-bottom-container{box-sizing:border-box;position:relative;white-space:nowrap}.ag-pinned-left-cols-viewport{float:left;overflow:hidden}.ag-pinned-left-cols-container{display:inline-block;position:relative}.ag-pinned-right-cols-viewport{float:right;overflow-x:hidden;overflow-y:auto}.ag-pinned-right-cols-container{display:inline-block;position:relative}.ag-body-viewport-wrapper{height:100%}.ag-body-viewport{overflow-x:auto;overflow-y:auto;height:100%}.ag-scrolls .ag-body-container{position:relative;display:inline-block}.ag-scrolls .ag-row{white-space:nowrap;position:absolute;width:100%}.ag-no-scrolls .ag-row{position:relative}.agile-gird-row:hover{background-color:#f0f8ff}.ag-cell{display:inline-block;white-space:nowrap;height:100%;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;position:absolute}.ag-footer-cell-entire-row,.ag-group-cell-entire-row{width:100%;display:inline-block;white-space:nowrap;height:100%;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden}.ag-large .ag-root{font-size:20px}.ag-filter{position:absolute;z-index:100}.ag-filter-list-viewport{overflow-x:auto;height:200px;width:200px}.ag-filter-list-container{position:relative;overflow:hidden}.ag-filter-item{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute}.ag-filter-filter{width:170px;margin:4px}.ag-filter-select{width:110px;margin:4px 4px 0}.ag-no-vertical-scroll .ag-body,.ag-no-vertical-scroll .ag-body-viewport,.ag-no-vertical-scroll .ag-body-viewport-wrapper,.ag-no-vertical-scroll .ag-scrolls{height:unset}.ag-list-selection,.ag-tool-panel-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ag-tool-panel-container{width:200px}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(o[n]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&o[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(e,t,i){function o(e,t){for(var i=0;i<e.length;i++){var o=e[i],r=c[o.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](o.parts[n]);for(;n<o.parts.length;n++)r.parts.push(d(o.parts[n],t))}else{var s=[];for(n=0;n<o.parts.length;n++)s.push(d(o.parts[n],t));c[o.id]={id:o.id,refs:1,parts:s}}}}function r(e){for(var t=[],i={},o=0;o<e.length;o++){var r=e[o],n=r[0],d={css:r[1],media:r[2],sourceMap:r[3]};i[n]?i[n].parts.push(d):t.push(i[n]={id:n,parts:[d]})}return t}function n(e,t){var i=v(),o=m[m.length-1];if("top"===e.insertAt)o?o.nextSibling?i.insertBefore(t,o.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",n(e,t),t}function a(e){var t=document.createElement("link");return t.rel="stylesheet",n(e,t),t}function d(e,t){var i,o,r;if(t.singleton){var n=C++;i=y||(y=l(t)),o=u.bind(null,i,n,!1),r=u.bind(null,i,n,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=a(t),o=function(e,t){var i=t.css,o=(t.media,t.sourceMap);o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),n=e.href;e.href=URL.createObjectURL(r),n&&URL.revokeObjectURL(n)}.bind(null,i),r=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=l(t),o=function(e,t){var i=t.css,o=t.media;if(t.sourceMap,o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){s(i)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function u(e,t,i,o){var r=i?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var n=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(n,s[t]):e.appendChild(n)}}var c={},g=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},f=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=g(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,C=0,m=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=f()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return o(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var l=i[s];(a=c[l.id]).refs--,n.push(a)}if(e){o(r(e),t)}for(s=0;s<n.length;s++){var a;if(0===(a=n[s]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete c[a.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t,i){var o=i(79);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(76)()).push([e.id,'.ag-blue .ag-root{border:1px solid #9bc2e6;font:10pt Calibri,Segoe UI,Thonburi,Arial,Verdana,sans-serif}.ag-blue .ag-cell{top:-1px;padding-left:2px;padding-right:2px;overflow:hidden;white-space:nowrap;letter-spacing:-.02em}.ag-blue .ag-column-moving .ag-cell{-webkit-transition:left .2s;transition:left .2s}.ag-blue .ag-cell-focus{background:#fff;border:2px solid #217346}.ag-blue .ag-cell-no-focus{border-right:1px dotted #9bc2e6;border-top:2px solid transparent;border-left:2px solid transparent;border-bottom:1px solid #9bc2e6}.ag-blue .ag-cell-first-right-pinned{border-left:1px dotted #9bc2e6}.ag-blue .ag-header,.ag-blue .ag-no-scrolls .ag-header-container{background-color:#5b9bd5;border-bottom:1px solid #9bc2e6}.ag-blue .ag-header-cell{border-right:1px solid #9bc2e6}.ag-blue .ag-header-cell-moving .ag-header-cell-label{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}.ag-blue .ag-header-cell-moving-clone{border-right:1px solid gray;border-left:1px solid gray;background-color:rgba(91,155,213,.8)}.ag-blue .ag-header-cell-moving{background-color:#9bc2e6}.ag-blue .ag-header-group-cell{border-right:1px solid #9bc2e6}.ag-blue .ag-header-group-cell-with-group{border-bottom:1px solid #9bc2e6}.ag-blue .ag-pinned-right-header{border-left:1px solid #9bc2e6}.ag-blue .ag-header-cell-label{padding:4px 2px;font-weight:700;color:#fff}.ag-blue .ag-header-cell-text{padding-left:2px}.ag-blue .ag-header-group-cell-label{padding:4px;font-weight:700;color:#fff;padding-left:10px}.ag-blue .ag-header-group-text{margin-right:2px}.ag-blue .ag-header-cell-menu-button{color:#fff;border:1px solid #a6acb3;padding:2px;margin-top:3px;border-radius:3px;box-sizing:content-box;line-height:0}.ag-blue .ag-header-icon{color:#fff;stroke:#fff;fill:#fff}.ag-blue .ag-dark .ag-header-expand-icon:hover{cursor:pointer}.ag-blue .ag-row-odd{background-color:#ddebf7}.ag-blue .ag-row-even{background-color:#fff}.ag-blue .ag-overlay-loading-wrapper{background-color:hsla(0,0%,100%,.5)}.ag-blue .ag-overlay-loading-center{background-color:#fff;border:1px solid #a9a9a9;border-radius:10px;padding:10px}.ag-blue .ag-body{background-color:#fafafa}.ag-blue .ag-row-selected{background-color:#c7c7c7}.ag-blue .ag-group-cell-entire-row{background-color:#fff;font-weight:700;padding:2px 4px;border-bottom:1px solid #9bc2e6;overflow:hidden;white-space:nowrap}.ag-blue .ag-footer-cell-entire-row{background-color:#fff;font-weight:700;padding:4px;border-bottom:1px solid #9bc2e6}.ag-blue .ag-group-cell{font-style:italic}.ag-blue .ag-group-expand{padding-right:2px}.ag-blue .ag-footer-cell{font-style:italic}.ag-blue .ag-filter-checkbox{position:relative;top:2px;left:2px;padding-right:2px}.ag-blue .ag-filter-header-container{border-bottom:1px solid #d3d3d3;font:10pt Calibri,Segoe UI,Thonburi,Arial,Verdana,sans-serif}.ag-blue .ag-filter-apply-panel{border-top:1px solid #d3d3d3;padding:2px}.ag-blue .ag-filter{background-color:#fff;border:1px solid #c6c6c6;font:9pt Calibri,Segoe UI,Thonburi,Arial,Verdana,sans-serif}.ag-blue .ag-filter-filter{background-color:#fff;border:1px solid #c6c6c6;width:192px}.ag-blue .ag-filter-value{margin-left:4px}.ag-blue .ag-filter-value:hover{background-color:#39f;border:1px dotted #000;color:#fff}.ag-blue .ag-selection-checkbox{margin-left:4px}.ag-blue .ag-paging-panel{padding:4px}.ag-blue .ag-paging-button{margin-left:4px;margin-right:4px}.ag-blue .ag-paging-row-summary-panel{display:inline-block;width:300px}.ag-blue .ag-column-not-visible{opacity:.75;filter:alpha(opacity=75);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";filter:"alpha(opacity=75)"}.ag-blue .ag-not-dragging{border:1px solid transparent}.ag-blue .ag-drop-target-above{border-top:5px solid #a9a9a9}.ag-blue .ag-drop-target-below{border-bottom:5px solid #a9a9a9}.ag-blue .ag-dragging{border:1px dotted #a9a9a9}.ag-blue .ag-list-item-selected{color:#f0f0f0}.ag-blue .ag-list-item-not-selected{font-style:italic;color:#a0a0a0}.ag-blue .ag-tool-panel-container{background-color:#eee;box-sizing:border-box;border:1px solid #a9a9a9;padding:4px}.ag-blue .ag-list-selection{background-color:#fff;border:1px solid #a9a9a9;box-sizing:border-box}.ag-blue .ag-popup-list .ag-list-item:hover{background-color:#add8e6}.ag-blue .ag-visible-icons{padding-left:2px;padding-right:2px}',""])},function(e,t,i){var o=i(81);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(76)()).push([e.id,'.ag-dark .ag-root{border:1px solid gray;color:#e0e0e0;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.ag-dark .ag-cell{border-right:1px solid gray;padding:4px}.ag-dark .ag-column-moving .ag-cell{-webkit-transition:left .2s;transition:left .2s}.ag-dark .ag-header,.ag-dark .ag-no-scrolls .ag-header-container{background-color:#430000;border-bottom:1px solid gray}.ag-dark .ag-header-cell{border-right:1px solid gray}.ag-dark .ag-header-cell-moving .ag-header-cell-label{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}.ag-dark .ag-header-cell-moving-clone{border-right:1px solid gray;border-left:1px solid gray;background-color:rgba(43,0,0,.8)}.ag-dark .ag-header-cell-moving{background-color:gray}.ag-dark .ag-cell-first-right-pinned,.ag-dark .ag-pinned-right-header{border-left:1px solid gray}.ag-dark .ag-header-cell-label{padding:4px 2px}.ag-dark .ag-header-cell-text{padding:2px}.ag-dark .ag-header-group-cell-label{font-weight:700;padding:4px;padding-left:10px}.ag-dark .ag-header-group-cell{border-right:1px solid gray}.ag-dark .ag-header-group-text{margin-right:2px}.ag-dark .ag-header-group-cell-with-group{border-bottom:1px solid gray}.ag-dark .ag-header-cell-menu-button{padding:2px;margin-top:4px;border:1px solid transparent;border-radius:3px;box-sizing:content-box;line-height:0}.ag-dark .ag-header-cell-menu-button:hover{border:1px solid #e0e0e0}.ag-dark .ag-header-icon{stroke:#fff;fill:#fff}.ag-dark .ag-header-expand-icon:hover{cursor:pointer}.ag-dark .ag-row-odd{background-color:#302e2e}.ag-dark .ag-row-even{background-color:#403e3e}.ag-dark .ag-overlay-loading-wrapper{background-color:hsla(0,0%,100%,.5)}.ag-dark .ag-overlay-loading-center{background-color:#fff;border:1px solid #a9a9a9;border-radius:10px;padding:10px;color:#000}.ag-dark .ag-body{background-color:#ddd}.ag-dark .ag-row-selected{background-color:#000}.ag-dark .ag-footer-cell-entire-row,.ag-dark .ag-group-cell-entire-row{background-color:#aaa;color:222;padding:4px}.ag-dark .ag-group-cell{font-style:italic}.ag-dark .ag-group-expand{padding-right:2px}.ag-dark .ag-footer-cell{font-style:italic}.ag-dark .ag-filter{color:#000}.ag-dark .ag-filter-checkbox{position:relative;top:2px;left:2px}.ag-dark .ag-filter-header-container{border-bottom:1px solid #d3d3d3}.ag-dark .ag-filter-apply-panel{border-top:1px solid #d3d3d3;padding:2px}.ag-dark .ag-filter{border:1px solid #000;background-color:#f0f0f0}.ag-dark .ag-selection-checkbox{margin-left:4px}.ag-dark .ag-paging-panel{color:#000;padding:4px}.ag-dark .ag-paging-button{margin-left:4px;margin-right:4px}.ag-dark .ag-paging-row-summary-panel{display:inline-block;width:300px}.ag-dark .ag-column-not-visible{opacity:.75;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";filter:alpha(opacity=75);font-style:italic}.ag-dark .ag-not-dragging{border:1px solid transparent}.ag-dark .ag-drop-target-above{border-top:5px solid #a9a9a9}.ag-dark .ag-drop-target-below{border-bottom:5px solid #a9a9a9}.ag-dark .ag-dragging{border:1px dotted #a9a9a9}.ag-dark .ag-list-item-selected{color:#f0f0f0}.ag-dark .ag-list-item-not-selected{font-style:italic;color:#a0a0a0}.ag-dark .ag-tool-panel-container{background-color:#eee;box-sizing:border-box;border:1px solid #a9a9a9;padding:4px}.ag-dark .ag-list-selection{background-color:#fff;border:1px solid #a9a9a9;box-sizing:border-box}.ag-dark .ag-visible-icons{padding-left:2px;padding-right:2px}',""])},function(e,t,i){var o=i(83);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(76)()).push([e.id,'.ag-fresh .ag-root{border:1px solid gray;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.ag-fresh .ag-cell{padding:2px}.ag-fresh .ag-column-moving .ag-cell{-webkit-transition:left .2s;transition:left .2s}.ag-fresh .ag-cell-focus{border:1px solid #a9a9a9}.ag-fresh .ag-cell-no-focus{border-right:1px dotted gray;border-top:1px solid transparent;border-left:1px solid transparent;border-bottom:1px solid transparent}.ag-fresh .ag-cell-first-right-pinned{border-left:1px dotted gray}.ag-fresh .ag-header,.ag-fresh .ag-no-scrolls .ag-header-container{background:-webkit-linear-gradient(#fff,#d3d3d3);background:linear-gradient(#fff,#d3d3d3);border-bottom:1px solid gray}.ag-fresh .ag-header-cell{border-right:1px solid gray}.ag-fresh .ag-header-cell-moving .ag-header-cell-label{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}.ag-fresh .ag-header-cell-moving{background-color:#bebebe}.ag-fresh .ag-header-cell-moving-clone{border-right:1px solid gray;border-left:1px solid gray;background-color:hsla(0,0%,86%,.8)}.ag-fresh .ag-header-group-cell{border-right:1px solid gray}.ag-fresh .ag-header-group-cell-with-group{border-bottom:1px solid gray}.ag-fresh .ag-header-cell-label{padding:4px 2px}.ag-fresh .ag-header-cell-text{padding-left:2px}.ag-fresh .ag-header-group-cell-label{padding:4px;padding-left:10px}.ag-fresh .ag-header-group-text{margin-right:2px}.ag-fresh .ag-header-cell-menu-button{padding:2px;margin-top:4px;border:1px solid transparent;border-radius:3px;box-sizing:content-box;line-height:0}.ag-fresh .ag-pinned-right-header{border-left:1px solid gray}.ag-fresh .ag-header-cell-menu-button:hover{border:1px solid #000}.ag-fresh .ag-header-icon{color:maroon}.ag-fresh .ag-row-selected{background-color:#b0e0e6!important}.ag-fresh .ag-body .ag-row-odd{background-color:#f6f6f6}.ag-fresh .ag-body .ag-row-even{background-color:#fff}.ag-fresh .ag-floating-bottom .ag-row,.ag-fresh .ag-floating-top .ag-row{background-color:#f0f0f0}.ag-fresh .ag-overlay-loading-wrapper{background-color:hsla(0,0%,100%,.5)}.ag-fresh .ag-overlay-loading-center,.ag-fresh .ag-overlay-no-rows-center{background-color:#fff;border:1px solid #a9a9a9;border-radius:10px;padding:10px}.ag-fresh .ag-body{background-color:#fafafa}.ag-fresh .ag-footer-cell-entire-row,.ag-fresh .ag-group-cell-entire-row{background-color:#aaa;padding:4px}.ag-fresh .ag-group-cell{font-style:italic}.ag-fresh .ag-group-expand{padding-right:2px}.ag-fresh .ag-footer-cell{font-style:italic}.ag-fresh .ag-filter-checkbox{position:relative;top:2px;left:2px}.ag-fresh .ag-filter-header-container{border-bottom:1px solid #d3d3d3}.ag-fresh .ag-filter-apply-panel{border-top:1px solid #d3d3d3;padding:2px}.ag-fresh .ag-filter{border:1px solid #000;background-color:#f0f0f0}.ag-fresh .ag-filter-value,.ag-fresh .ag-selection-checkbox{margin-left:4px}.ag-fresh .ag-paging-panel{padding:4px}.ag-fresh .ag-paging-button{margin-left:4px;margin-right:4px}.ag-fresh .ag-paging-row-summary-panel{display:inline-block;width:300px}.ag-fresh .ag-column-not-visible{opacity:.75;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";filter:alpha(opacity=75)}.ag-fresh .ag-not-dragging{border:1px solid transparent}.ag-fresh .ag-drop-target-above{border-top:5px solid #a9a9a9}.ag-fresh .ag-drop-target-below{border-bottom:5px solid #a9a9a9}.ag-fresh .ag-dragging{border:1px dotted #a9a9a9}.ag-fresh .ag-list-item-selected{color:#f0f0f0}.ag-fresh .ag-list-item-not-selected{font-style:italic;color:#a0a0a0}.ag-fresh .ag-tool-panel-container{background-color:#eee;box-sizing:border-box;border:1px solid #a9a9a9;padding:4px}.ag-fresh .ag-list-selection{background-color:#fff;border:1px solid #a9a9a9;box-sizing:border-box}.ag-fresh .ag-popup-list .ag-list-item:hover{background-color:#add8e6}.ag-fresh .ag-visible-icons{padding-left:2px;padding-right:2px}',""])}])}),function(Q,L){"object"==typeof module&&module.exports?module.exports=Q.document?L(Q):L:Q.Highcharts=L(Q)}("undefined"!=typeof window?window:this,function(Q){var L=function(){var a=void 0===Q?window:Q,F=a.document,E=a.navigator&&a.navigator.userAgent||"",G=F&&F.createElementNS&&!!F.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=/(edge|msie|trident)/i.test(E)&&!a.opera,h=/Firefox/.test(E),p=h&&4>parseInt(E.split("Firefox/")[1],10);return a.Highcharts?a.Highcharts.error(16,!0):{product:"Highstock",version:"6.0.3",deg2rad:2*Math.PI/360,doc:F,hasBidiBug:p,hasTouch:F&&void 0!==F.documentElement.ontouchstart,isMS:r,isWebKit:/AppleWebKit/.test(E),isFirefox:h,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(E),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:G,win:a,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();!function(a){a.timers=[];var F=a.charts,E=a.doc,G=a.win;a.error=function(r,h){if(r=a.isNumber(r)?"Highcharts error #"+r+": www.highcharts.com/errors/"+r:r,h)throw Error(r);G.console&&console.log(r)},a.Fx=function(a,h,p){this.options=h,this.elem=a,this.prop=p},a.Fx.prototype={dSetter:function(){var q,a=this.paths[0],h=this.paths[1],p=[],x=this.now,t=a.length;if(1===x)p=this.toD;else if(t===h.length&&1>x)for(;t--;)q=parseFloat(a[t]),p[t]=isNaN(q)?h[t]:x*parseFloat(h[t]-q)+q;else p=h;this.elem.attr("d",p,null,!0)},update:function(){var a=this.elem,h=this.prop,p=this.now,x=this.options.step;this[h+"Setter"]?this[h+"Setter"]():a.attr?a.element&&a.attr(h,p,null,!0):a.style[h]=p+this.unit,x&&x.call(a,p,this)},run:function(r,h,p){var x=this,t=x.options,q=function(a){return!q.stopped&&x.step(a)},z=G.requestAnimationFrame||function(a){setTimeout(a,13)},k=function(){a.timers=a.grep(a.timers,function(a){return a()}),a.timers.length&&z(k)};r===h?(delete t.curAnim[this.prop],t.complete&&0===a.keys(t.curAnim).length&&t.complete()):(this.startTime=+new Date,this.start=r,this.end=h,this.unit=p,this.now=this.start,this.pos=0,q.elem=this.elem,q.prop=this.prop,q()&&1===a.timers.push(q)&&z(k))},step:function(r){var p,h=+new Date,x=this.options,t=this.elem,q=x.complete,z=x.duration,k=x.curAnim;return t.attr&&!t.element?r=!1:r||h>=z+this.startTime?(this.now=this.end,this.pos=1,this.update(),p=k[this.prop]=!0,a.objectEach(k,function(a){!0!==a&&(p=!1)}),p&&q&&q.call(t),r=!1):(this.pos=x.easing((h-this.startTime)/z),this.now=this.start+(this.end-this.start)*this.pos,this.update(),r=!0),r},initPath:function(r,h,p){function x(a){var b,c;for(w=a.length;w--;)b="M"===a[w]||"L"===a[w],c=/[a-zA-Z]/.test(a[w+3]),b&&c&&a.splice(w+1,0,a[w+1],a[w+2],a[w+1],a[w+2])}function t(a,b){for(;a.length<c;){a[0]=b[c-a.length];var g=a.slice(0,e);[].splice.apply(a,[0,0].concat(g)),l&&(g=a.slice(a.length-e),[].splice.apply(a,[a.length,0].concat(g)),w--)}a[0]="M"}function q(a,w){for(var g=(c-a.length)/e;0<g&&g--;)b=a.slice().splice(a.length/D-e,e*D),b[0]=w[c-e-g*e],f&&(b[e-6]=b[e-2],b[e-5]=b[e-1]),[].splice.apply(a,[a.length/D,0].concat(b)),l&&g--}h=h||"";var z,c,b,w,k=r.startX,m=r.endX,f=-1<h.indexOf("C"),e=f?7:3;h=h.split(" "),p=p.slice();var H,l=r.isArea,D=l?2:1;if(f&&(x(h),x(p)),k&&m){for(w=0;w<k.length;w++){if(k[w]===m[0]){z=w;break}if(k[0]===m[m.length-k.length+w]){z=w,H=!0;break}}void 0===z&&(h=[])}return h.length&&a.isNumber(z)&&(c=p.length+z*D*e,H?(t(h,p),q(p,h)):(t(p,h),q(h,p))),[h,p]}},a.Fx.prototype.fillSetter=a.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,a.color(this.start).tweenTo(a.color(this.end),this.pos),null,!0)},a.extend=function(a,h){var p;a||(a={});for(p in h)a[p]=h[p];return a},a.merge=function(){var r,p,h=arguments,x={},t=function(q,p){return"object"!=typeof q&&(q={}),a.objectEach(p,function(k,m){!a.isObject(k,!0)||a.isClass(k)||a.isDOMElement(k)?q[m]=p[m]:q[m]=t(q[m]||{},k)}),q};for(!0===h[0]&&(x=h[1],h=Array.prototype.slice.call(h,2)),p=h.length,r=0;r<p;r++)x=t(x,h[r]);return x},a.pInt=function(a,h){return parseInt(a,h||10)},a.isString=function(a){return"string"==typeof a},a.isArray=function(a){return"[object Array]"===(a=Object.prototype.toString.call(a))||"[object Array Iterator]"===a},a.isObject=function(r,h){return!(!r||"object"!=typeof r||h&&a.isArray(r))},a.isDOMElement=function(r){return a.isObject(r)&&"number"==typeof r.nodeType},a.isClass=function(r){var h=r&&r.constructor;return!(!a.isObject(r,!0)||a.isDOMElement(r)||!h||!h.name||"Object"===h.name)},a.isNumber=function(a){return"number"==typeof a&&!isNaN(a)},a.erase=function(a,h){for(var p=a.length;p--;)if(a[p]===h){a.splice(p,1);break}},a.defined=function(a){return void 0!==a&&null!==a},a.attr=function(r,h,p){var x;return a.isString(h)?a.defined(p)?r.setAttribute(h,p):r&&r.getAttribute&&(x=r.getAttribute(h)):a.defined(h)&&a.isObject(h)&&a.objectEach(h,function(a,q){r.setAttribute(q,a)}),x},a.splat=function(r){return a.isArray(r)?r:[r]},a.syncTimeout=function(a,h,p){if(h)return setTimeout(a,h,p);a.call(0,p)},a.pick=function(){var h,p,a=arguments,x=a.length;for(h=0;h<x;h++)if(void 0!==(p=a[h])&&null!==p)return p},a.css=function(r,h){a.isMS&&!a.svg&&h&&void 0!==h.opacity&&(h.filter="alpha(opacity="+100*h.opacity+")"),a.extend(r.style,h)},a.createElement=function(r,h,p,x,t){r=E.createElement(r);var q=a.css;return h&&a.extend(r,h),t&&q(r,{padding:0,border:"none",margin:0}),p&&q(r,p),x&&x.appendChild(r),r},a.extendClass=function(r,h){var p=function(){};return p.prototype=new r,a.extend(p.prototype,h),p},a.pad=function(a,h,p){return Array((h||2)+1-String(a).length).join(p||0)+a},a.relativeLength=function(a,h,p){return/%$/.test(a)?h*parseFloat(a)/100+(p||0):parseFloat(a)},a.wrap=function(a,h,p){var x=a[h];a[h]=function(){var a=Array.prototype.slice.call(arguments),q=arguments,z=this;return z.proceed=function(){x.apply(z,arguments.length?arguments:q)},a.unshift(x),a=p.apply(this,a),z.proceed=null,a}},a.getTZOffset=function(r){var h=a.Date;return 6e4*(h.hcGetTimezoneOffset&&h.hcGetTimezoneOffset(r)||h.hcTimezoneOffset||0)},a.dateFormat=function(r,h,p){if(!a.defined(h)||isNaN(h))return a.defaultOptions.lang.invalidDate||"";r=a.pick(r,"%Y-%m-%d %H:%M:%S");var t=new(x=a.Date)(h-a.getTZOffset(h)),q=t[x.hcGetHours](),z=t[x.hcGetDay](),k=t[x.hcGetDate](),m=t[x.hcGetMonth](),f=t[x.hcGetFullYear](),e=a.defaultOptions.lang,c=e.weekdays,b=e.shortWeekdays,w=a.pad,x=a.extend({a:b?b[z]:c[z].substr(0,3),A:c[z],d:w(k),e:w(k,2," "),w:z,b:e.shortMonths[m],B:e.months[m],m:w(m+1),y:f.toString().substr(2,2),Y:f,H:w(q),k:q,I:w(q%12||12),l:q%12||12,M:w(t[x.hcGetMinutes]()),p:12>q?"AM":"PM",P:12>q?"am":"pm",S:w(t.getSeconds()),L:w(Math.round(h%1e3),3)},a.dateFormats);return a.objectEach(x,function(a,b){for(;-1!==r.indexOf("%"+b);)r=r.replace("%"+b,"function"==typeof a?a(h):a)}),p?r.substr(0,1).toUpperCase()+r.substr(1):r},a.formatSingle=function(r,h){var p=/\.([0-9])/,x=a.defaultOptions.lang;return/f$/.test(r)?(p=(p=r.match(p))?p[1]:-1,null!==h&&(h=a.numberFormat(h,p,x.decimalPoint,-1<r.indexOf(",")?x.thousandsSep:""))):h=a.dateFormat(r,h),h},a.format=function(r,h){for(var t,q,z,k,f,p="{",x=!1,m=[];r&&-1!==(p=r.indexOf(p));){if(t=r.slice(0,p),x){for(k=(q=(t=t.split(":")).shift().split(".")).length,f=h,z=0;z<k;z++)f&&(f=f[q[z]]);t.length&&(f=a.formatSingle(t.join(":"),f)),m.push(f)}else m.push(t);r=r.slice(p+1),p=(x=!x)?"}":"{"}return m.push(r),m.join("")},a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},a.normalizeTickInterval=function(r,h,p,x,t){var q,z=r;for(q=r/(p=a.pick(p,1)),h||(h=t?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===x&&(1===p?h=a.grep(h,function(a){return 0==a%1}):.1>=p&&(h=[1/p]))),x=0;x<h.length&&(z=h[x],!(t&&z*p>=r||!t&&q<=(h[x]+(h[x+1]||h[x]))/2));x++);return z=a.correctFloat(z*p,-Math.round(Math.log(.001)/Math.LN10))},a.stableSort=function(a,h){var x,t,p=a.length;for(t=0;t<p;t++)a[t].safeI=t;for(a.sort(function(a,t){return 0===(x=h(a,t))?a.safeI-t.safeI:x}),t=0;t<p;t++)delete a[t].safeI},a.arrayMin=function(a){for(var h=a.length,p=a[0];h--;)a[h]<p&&(p=a[h]);return p},a.arrayMax=function(a){for(var h=a.length,p=a[0];h--;)a[h]>p&&(p=a[h]);return p},a.destroyObjectProperties=function(r,h){a.objectEach(r,function(a,x){a&&a!==h&&a.destroy&&a.destroy(),delete r[x]})},a.discardElement=function(r){var h=a.garbageBin;h||(h=a.createElement("div")),r&&h.appendChild(r),h.innerHTML=""},a.correctFloat=function(a,h){return parseFloat(a.toPrecision(h||14))},a.setAnimation=function(r,h){h.renderer.globalAnimation=a.pick(r,h.options.chart.animation,!0)},a.animObject=function(r){return a.isObject(r)?a.merge(r):{duration:r?500:0}},a.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},a.numberFormat=function(r,h,p,x){r=+r||0,h=+h;var z,k,t=a.defaultOptions.lang,q=(r.toString().split(".")[1]||"").split("e")[0].length,m=r.toString().split("e");return-1===h?h=Math.min(q,20):a.isNumber(h)||(h=2),k=(Math.abs(m[1]?m[0]:r)+Math.pow(10,-Math.max(h,q)-1)).toFixed(h),q=String(a.pInt(k)),z=3<q.length?q.length%3:0,p=a.pick(p,t.decimalPoint),x=a.pick(x,t.thousandsSep),r=(0>r?"-":"")+(z?q.substr(0,z)+x:""),r+=q.substr(z).replace(/(\d{3})(?=\d)/g,"$1"+x),h&&(r+=p+k.slice(-h)),m[1]&&(r+="e"+m[1]),r},Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getStyle=function(r,h,p){return"width"===h?Math.min(r.offsetWidth,r.scrollWidth)-a.getStyle(r,"padding-left")-a.getStyle(r,"padding-right"):"height"===h?Math.min(r.offsetHeight,r.scrollHeight)-a.getStyle(r,"padding-top")-a.getStyle(r,"padding-bottom"):(G.getComputedStyle||a.error(27,!0),(r=G.getComputedStyle(r,void 0))&&(r=r.getPropertyValue(h),a.pick(p,"opacity"!==h)&&(r=a.pInt(r))),r)},a.inArray=function(r,h){return(a.indexOfPolyfill||Array.prototype.indexOf).call(h,r)},a.grep=function(r,h){return(a.filterPolyfill||Array.prototype.filter).call(r,h)},a.find=Array.prototype.find?function(a,h){return a.find(h)}:function(a,h){var p,x=a.length;for(p=0;p<x;p++)if(h(a[p],p))return a[p]},a.map=function(a,h){for(var p=[],x=0,t=a.length;x<t;x++)p[x]=h.call(a[x],a[x],x,a);return p},a.keys=function(r){return(a.keysPolyfill||Object.keys).call(void 0,r)},a.reduce=function(r,h,p){return(a.reducePolyfill||Array.prototype.reduce).call(r,h,p)},a.offset=function(a){var h=E.documentElement;return a=a.parentElement?a.getBoundingClientRect():{top:0,left:0},{top:a.top+(G.pageYOffset||h.scrollTop)-(h.clientTop||0),left:a.left+(G.pageXOffset||h.scrollLeft)-(h.clientLeft||0)}},a.stop=function(r,h){for(var p=a.timers.length;p--;)a.timers[p].elem!==r||h&&h!==a.timers[p].prop||(a.timers[p].stopped=!0)},a.each=function(r,h,p){return(a.forEachPolyfill||Array.prototype.forEach).call(r,h,p)},a.objectEach=function(a,h,p){for(var x in a)a.hasOwnProperty(x)&&h.call(p,a[x],x,a)},a.addEvent=function(r,h,p){var x,t,q=r.addEventListener||a.addEventListenerPolyfill;return r.hcEvents&&!r.hasOwnProperty("hcEvents")&&(t={},a.objectEach(r.hcEvents,function(a,k){t[k]=a.slice(0)}),r.hcEvents=t),x=r.hcEvents=r.hcEvents||{},q&&q.call(r,h,p,!1),x[h]||(x[h]=[]),x[h].push(p),function(){a.removeEvent(r,h,p)}},a.removeEvent=function(r,h,p){function x(k,f){var e=r.removeEventListener||a.removeEventListenerPolyfill;e&&e.call(r,k,f,!1)}function t(){var k,f;r.nodeName&&(h?(k={},k[h]=!0):k=z,a.objectEach(k,function(a,c){if(z[c])for(f=z[c].length;f--;)x(c,z[c][f])}))}var q,k,z=r.hcEvents;z&&(h?(q=z[h]||[],p?(-1<(k=a.inArray(p,q))&&(q.splice(k,1),z[h]=q),x(h,p)):(t(),z[h]=[])):(t(),r.hcEvents={}))},a.fireEvent=function(r,h,p,x){var t;t=r.hcEvents;var q,z;if(p=p||{},E.createEvent&&(r.dispatchEvent||r.fireEvent))(t=E.createEvent("Events")).initEvent(h,!0,!0),a.extend(t,p),r.dispatchEvent?r.dispatchEvent(t):r.fireEvent(h,t);else if(t)for(t=t[h]||[],q=t.length,p.target||a.extend(p,{preventDefault:function(){p.defaultPrevented=!0},target:r,type:h}),h=0;h<q;h++)(z=t[h])&&!1===z.call(r,p)&&p.preventDefault();x&&!p.defaultPrevented&&x(p)},a.animate=function(r,h,p){var x,q,z,k,t="";a.isObject(p)||(k=arguments,p={duration:k[2],easing:k[3],complete:k[4]}),a.isNumber(p.duration)||(p.duration=400),p.easing="function"==typeof p.easing?p.easing:Math[p.easing]||Math.easeInOutSine,p.curAnim=a.merge(h),a.objectEach(h,function(k,f){a.stop(r,f),z=new a.Fx(r,p,f),q=null,"d"===f?(z.paths=z.initPath(r,r.d,h.d),z.toD=h.d,x=0,q=1):r.attr?x=r.attr(f):(x=parseFloat(a.getStyle(r,f))||0,"opacity"!==f&&(t="px")),q||(q=k),q&&q.match&&q.match("px")&&(q=q.replace(/px/g,"")),z.run(x,q,t)})},a.seriesType=function(r,h,p,x,t){var q=a.getOptions(),z=a.seriesTypes;return q.plotOptions[r]=a.merge(q.plotOptions[h],p),z[r]=a.extendClass(z[h]||function(){},x),z[r].prototype.type=r,t&&(z[r].prototype.pointClass=a.extendClass(a.Point,t)),z[r]},a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),h=0;return function(){return"highcharts-"+a+"-"+h++}}(),G.jQuery&&(G.jQuery.fn.highcharts=function(){var r=[].slice.call(arguments);if(this[0])return r[0]?(new(a[a.isString(r[0])?r.shift():"Chart"])(this[0],r[0],r[1]),this):F[a.attr(this[0],"data-highcharts-chart")]})}(L),function(a){var F=a.each,E=a.isNumber,G=a.map,r=a.merge,h=a.pInt;a.Color=function(p){if(!(this instanceof a.Color))return new a.Color(p);this.init(p)},a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[h(a[1]),h(a[2]),h(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[h(a[1]),h(a[2]),h(a[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(p){var h,t,q,z;if((this.input=p=this.names[p&&p.toLowerCase?p.toLowerCase():""]||p)&&p.stops)this.stops=G(p.stops,function(k){return new a.Color(k[1])});else if(p&&p.charAt&&"#"===p.charAt()&&(h=p.length,p=parseInt(p.substr(1),16),7===h?t=[(16711680&p)>>16,(65280&p)>>8,255&p,1]:4===h&&(t=[(3840&p)>>4|(3840&p)>>8,(240&p)>>4|240&p,(15&p)<<4|15&p,1])),!t)for(q=this.parsers.length;q--&&!t;)z=this.parsers[q],(h=z.regex.exec(p))&&(t=z.parse(h));this.rgba=t||[]},get:function(a){var q,p=this.input,t=this.rgba;return this.stops?(q=r(p),q.stops=[].concat(q.stops),F(this.stops,function(t,k){q.stops[k]=[q.stops[k][0],t.get(a)]})):q=t&&E(t[0])?"rgb"===a||!a&&1===t[3]?"rgb("+t[0]+","+t[1]+","+t[2]+")":"a"===a?t[3]:"rgba("+t.join(",")+")":p,q},brighten:function(a){var p,t=this.rgba;if(this.stops)F(this.stops,function(t){t.brighten(a)});else if(E(a)&&0!==a)for(p=0;3>p;p++)t[p]+=h(255*a),0>t[p]&&(t[p]=0),255<t[p]&&(t[p]=255);return this},setOpacity:function(a){return this.rgba[3]=a,this},tweenTo:function(a,h){var t=this.rgba,q=a.rgba;return q.length&&t&&t.length?(a=1!==q[3]||1!==t[3],h=(a?"rgba(":"rgb(")+Math.round(q[0]+(t[0]-q[0])*(1-h))+","+Math.round(q[1]+(t[1]-q[1])*(1-h))+","+Math.round(q[2]+(t[2]-q[2])*(1-h))+(a?","+(q[3]+(t[3]-q[3])*(1-h)):"")+")"):h=a.input||"none",h}},a.color=function(h){return new a.Color(h)}}(L),function(a){var F,E,G=a.addEvent,r=a.animate,h=a.attr,p=a.charts,x=a.color,t=a.css,q=a.createElement,z=a.defined,k=a.deg2rad,m=a.destroyObjectProperties,f=a.doc,e=a.each,c=a.extend,b=a.erase,w=a.grep,l=a.hasTouch,D=a.inArray,H=a.isArray,C=a.isFirefox,K=a.isMS,g=a.isObject,y=a.isString,J=a.isWebKit,A=a.merge,d=a.noop,v=a.objectEach,B=a.pick,u=a.pInt,n=a.removeEvent,P=a.stop,M=a.svg,O=a.SVG_NS,N=a.symbolSizes,R=a.win;F=a.SVGElement=function(){return this},c(F.prototype,{opacity:1,SVG_NS:O,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(a,d){this.element="span"===d?q(d):f.createElementNS(this.SVG_NS,d),this.renderer=a},animate:function(I,d,u){return 0!==(d=a.animObject(B(d,this.renderer.globalAnimation,!0))).duration?(u&&(d.complete=u),r(this,I,d)):(this.attr(I,null,u),d.step&&d.step.call(this)),this},colorGradient:function(I,d,u){var b,c,g,l,w,M,S,f,D,y,k,n=this.renderer,B=[];I.radialGradient?c="radialGradient":I.linearGradient&&(c="linearGradient"),c&&(g=I[c],w=n.gradients,S=I.stops,y=u.radialReference,H(g)&&(I[c]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===c&&y&&!z(g.gradientUnits)&&(l=g,g=A(g,n.getRadialAttr(y,l),{gradientUnits:"userSpaceOnUse"})),v(g,function(a,I){"id"!==I&&B.push(I,a)}),v(S,function(a){B.push(a)}),B=B.join(","),w[B]?y=w[B].attr("id"):(g.id=y=a.uniqueKey(),w[B]=M=n.createElement(c).attr(g).add(n.defs),M.radAttr=l,M.stops=[],e(S,function(I){0===I[1].indexOf("rgba")?(b=a.color(I[1]),f=b.get("rgb"),D=b.get("a")):(f=I[1],D=1),I=n.createElement("stop").attr({offset:I[0],"stop-color":f,"stop-opacity":D}).add(M),M.stops.push(I)})),k="url("+n.url+"#"+y+")",u.setAttribute(d,k),u.gradient=B,I.toString=function(){return k})},applyTextOutline:function(I){var u,n,c,g,v,d=this.element;if(-1!==I.indexOf("contrast")&&(I=I.replace(/contrast/g,this.renderer.getContrast(d.style.fill))),I=I.split(" "),n=I[I.length-1],(c=I[0])&&"none"!==c&&a.svg){for(this.fakeTS=!0,I=[].slice.call(d.getElementsByTagName("tspan")),this.ySetter=this.xSetter,c=c.replace(/(^[\d\.]+)(.*?)$/g,function(a,I,d){return 2*I+d}),v=I.length;v--;)"highcharts-text-outline"===(u=I[v]).getAttribute("class")&&b(I,d.removeChild(u));g=d.firstChild,e(I,function(a,I){0===I&&(a.setAttribute("x",d.getAttribute("x")),I=d.getAttribute("y"),a.setAttribute("y",I||0),null===I&&d.setAttribute("y",0)),a=a.cloneNode(1),h(a,{class:"highcharts-text-outline",fill:n,stroke:n,"stroke-width":c,"stroke-linejoin":"round"}),d.insertBefore(a,g)})}},attr:function(a,d,u,n){var I,c,e,l,b=this.element,g=this;return"string"==typeof a&&void 0!==d&&(I=a,a={},a[I]=d),"string"==typeof a?g=(this[a+"Getter"]||this._defaultGetter).call(this,a,b):(v(a,function(I,d){e=!1,n||P(this,d),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(d)&&(c||(this.symbolAttr(a),c=!0),e=!0),!this.rotation||"x"!==d&&"y"!==d||(this.doTransform=!0),e||((l=this[d+"Setter"]||this._defaultSetter).call(this,I,d,b),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(d)&&this.updateShadows(d,I,l))},this),this.afterSetters()),u&&u(),g},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(a,d,u){for(var I=this.shadows,n=I.length;n--;)u.call(I[n],"height"===a?Math.max(d-(I[n].cutHeight||0),0):"d"===a?this.d:d,a,I[n])},addClass:function(a,d){var I=this.attr("class")||"";return-1===I.indexOf(a)&&(d||(a=(I+(I?" ":"")+a).replace("  "," ")),this.attr("class",a)),this},hasClass:function(a){return-1!==D(a,(this.attr("class")||"").split(" "))},removeClass:function(a){return this.attr("class",(this.attr("class")||"").replace(a,""))},symbolAttr:function(a){var d=this;e("x y r start end width height innerR anchorX anchorY".split(" "),function(I){d[I]=B(a[I],d[I])}),d.attr({d:d.renderer.symbols[d.symbolName](d.x,d.y,d.width,d.height,d)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a,d){var n,I=this,u={};return d=d||a.strokeWidth||0,n=Math.round(d)%2/2,a.x=Math.floor(a.x||I.x||0)+n,a.y=Math.floor(a.y||I.y||0)+n,a.width=Math.floor((a.width||I.width||0)-2*n),a.height=Math.floor((a.height||I.height||0)-2*n),z(a.strokeWidth)&&(a.strokeWidth=d),v(a,function(a,d){I[d]!==a&&(I[d]=u[d]=a)}),u},css:function(a){var b,e,d=this.styles,n={},I=this.element,g="",l=!d,A=["textOutline","textOverflow","width"];return a&&a.color&&(a.fill=a.color),d&&v(a,function(a,u){a!==d[u]&&(n[u]=a,l=!0)}),l&&(d&&(a=c(d,n)),b=this.textWidth=a&&a.width&&"auto"!==a.width&&"text"===I.nodeName.toLowerCase()&&u(a.width),this.styles=a,b&&!M&&this.renderer.forExport&&delete a.width,K&&!M?t(this.element,a):(e=function(a,d){return"-"+d.toLowerCase()},v(a,function(a,d){-1===D(d,A)&&(g+=d.replace(/([A-Z])/g,e)+":"+a+";")}),g&&h(I,"style",g)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(a,d){var u=this,n=u.element;return l&&"click"===a?(n.ontouchstart=function(a){u.touchEventFired=Date.now(),a.preventDefault(),d.call(n,a)},n.onclick=function(a){(-1===R.navigator.userAgent.indexOf("Android")||1100<Date.now()-(u.touchEventFired||0))&&d.call(n,a)}):n["on"+a]=d,this},setRadialReference:function(a){var d=this.renderer.gradients[this.element.gradient];return this.element.radialReference=a,d&&d.radAttr&&d.animate(this.renderer.getRadialAttr(a,d.radAttr)),this},translate:function(a,d){return this.attr({translateX:a,translateY:d})},invert:function(a){return this.inverted=a,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,d=this.translateY||0,u=this.scaleX,n=this.scaleY,b=this.inverted,c=this.rotation,g=this.matrix,v=this.element;b&&(a+=this.width,d+=this.height),a=["translate("+a+","+d+")"],z(g)&&a.push("matrix("+g.join(",")+")"),b?a.push("rotate(90) scale(-1,1)"):c&&a.push("rotate("+c+" "+B(this.rotationOriginX,v.getAttribute("x"),0)+" "+B(this.rotationOriginY,v.getAttribute("y")||0)+")"),(z(u)||z(n))&&a.push("scale("+B(u,1)+" "+B(n,1)+")"),a.length&&v.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,d,u){var n,I,c,g,v={};c=(I=this.renderer).alignedObjects;var e,l;return a?(this.alignOptions=a,this.alignByTranslate=d,(!u||y(u))&&(this.alignTo=n=u||"renderer",b(c,this),c.push(this),u=null)):(a=this.alignOptions,d=this.alignByTranslate,n=this.alignTo),u=B(u,I[n],I),n=a.align,I=a.verticalAlign,c=(u.x||0)+(a.x||0),g=(u.y||0)+(a.y||0),"right"===n?e=1:"center"===n&&(e=2),e&&(c+=(u.width-(a.width||0))/e),v[d?"translateX":"x"]=Math.round(c),"bottom"===I?l=1:"middle"===I&&(l=2),l&&(g+=(u.height-(a.height||0))/l),v[d?"translateY":"y"]=Math.round(g),this[this.placed?"animate":"attr"](v),this.placed=!0,this.alignAttr=v,this},getBBox:function(a,d){var u,b,v,A,f,n=this.renderer,I=this.element,g=this.styles,l=this.textStr,w=n.cache,M=n.cacheKeys;if(d=B(d,this.rotation),b=d*k,v=g&&g.fontSize,z(l)&&(-1===(f=l.toString()).indexOf("<")&&(f=f.replace(/[0-9]/g,"0")),f+=["",d||0,v,g&&g.width,g&&g.textOverflow].join()),f&&!a&&(u=w[f]),!u){if(I.namespaceURI===this.SVG_NS||n.forExport){try{(A=this.fakeTS&&function(a){e(I.querySelectorAll(".highcharts-text-outline"),function(d){d.style.display=a})})&&A("none"),u=I.getBBox?c({},I.getBBox()):{width:I.offsetWidth,height:I.offsetHeight},A&&A("")}catch(T){}(!u||0>u.width)&&(u={width:0,height:0})}else u=this.htmlGetBBox();if(n.isSVG&&(a=u.width,n=u.height,g&&"11px"===g.fontSize&&17===Math.round(n)&&(u.height=n=14),d&&(u.width=Math.abs(n*Math.sin(b))+Math.abs(a*Math.cos(b)),u.height=Math.abs(n*Math.cos(b))+Math.abs(a*Math.sin(b)))),f&&0<u.height){for(;250<M.length;)delete w[M.shift()];w[f]||M.push(f),w[f]=u}}return u},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var d=this;d.animate({opacity:0},{duration:a||150,complete:function(){d.attr({y:-9999})}})},add:function(a){var n,d=this.renderer,u=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&d.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(n=this.zIndexSetter()),n||(a?a.element:d.box).appendChild(u),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var d=a.parentNode;d&&d.removeChild(a)},destroy:function(){var a=this,d=a.element||{},u=a.renderer.isSVG&&"SPAN"===d.nodeName&&a.parentGroup,n=d.ownerSVGElement;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null,P(a),a.clipPath&&n&&(e(n.querySelectorAll("[clip-path],[CLIP-PATH]"),function(d){d.getAttribute("clip-path").match(RegExp('[("]#'+a.clipPath.element.id+'[)"]'))&&d.removeAttribute("clip-path")}),a.clipPath=a.clipPath.destroy()),a.stops){for(n=0;n<a.stops.length;n++)a.stops[n]=a.stops[n].destroy();a.stops=null}for(a.safeRemoveChild(d),a.destroyShadows();u&&u.div&&0===u.div.childNodes.length;)d=u.parentGroup,a.safeRemoveChild(u.div),delete u.div,u=d;return a.alignTo&&b(a.renderer.alignedObjects,a),v(a,function(d,u){delete a[u]}),null},shadow:function(a,d,u){var b,c,v,I,e,l,n=[],g=this.element;if(a){if(!this.shadows){for(I=B(a.width,3),e=(a.opacity||.15)/I,l=this.parentInverted?"(-1,-1)":"("+B(a.offsetX,1)+", "+B(a.offsetY,1)+")",b=1;b<=I;b++)c=g.cloneNode(0),v=2*I+1-2*b,h(c,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":e*b,"stroke-width":v,transform:"translate"+l,fill:"none"}),u&&(h(c,"height",Math.max(h(c,"height")-v,0)),c.cutHeight=v),d?d.element.appendChild(c):g.parentNode&&g.parentNode.insertBefore(c,g),n.push(c);this.shadows=n}}else this.destroyShadows();return this},destroyShadows:function(){e(this.shadows||[],function(a){this.safeRemoveChild(a)},this),this.shadows=void 0},xGetter:function(a){return"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy")),this._defaultGetter(a)},_defaultGetter:function(a){return a=B(this[a],this.element?this.element.getAttribute(a):null,0),/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,d,u){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),this[d]!==a&&(u.setAttribute(d,a),this[d]=a)},dashstyleSetter:function(a){var d,n=this["stroke-width"];if("inherit"===n&&(n=1),a=a&&a.toLowerCase()){for(d=(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;d--;)a[d]=u(a[d])*n;a=a.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,d,u){this[d]=a,u.setAttribute(d,a)},titleSetter:function(a){var d=this.element.getElementsByTagName("title")[0];d||(d=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(d)),d.firstChild&&d.removeChild(d.firstChild),d.appendChild(f.createTextNode(String(B(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,d,u){"string"==typeof a?u.setAttribute(d,a):a&&this.colorGradient(a,d,u)},visibilitySetter:function(a,d,u){"inherit"===a?u.removeAttribute(d):this[d]!==a&&u.setAttribute(d,a),this[d]=a},zIndexSetter:function(a,d){var g,e,l,n=this.renderer,b=this.parentGroup,c=(b||n).element||n.box,v=this.element;n=c===n.box;g=this.added;var A;if(z(a)&&(v.zIndex=a,a=+a,this[d]===a&&(g=!1),this[d]=a),g){for((a=this.zIndex)&&b&&(b.handleZ=!0),A=(d=c.childNodes).length-1;0<=A&&!e;A--)b=d[A],g=b.zIndex,l=!z(g),b!==v&&(0>a&&l&&!n&&!A?(c.insertBefore(v,d[A]),e=!0):(u(g)<=a||l&&(!z(a)||0<=a))&&(c.insertBefore(v,d[A+1]||null),e=!0));e||(c.insertBefore(v,d[n?3:0]||null),e=!0)}return e},_defaultSetter:function(a,d,u){u.setAttribute(d,a)}}),F.prototype.yGetter=F.prototype.xGetter,F.prototype.translateXSetter=F.prototype.translateYSetter=F.prototype.rotationSetter=F.prototype.verticalAlignSetter=F.prototype.rotationOriginXSetter=F.prototype.rotationOriginYSetter=F.prototype.scaleXSetter=F.prototype.scaleYSetter=F.prototype.matrixSetter=function(a,d){this[d]=a,this.doTransform=!0},F.prototype["stroke-widthSetter"]=F.prototype.strokeSetter=function(a,d,u){this[d]=a,this.stroke&&this["stroke-width"]?(F.prototype.fillSetter.call(this,this.stroke,"stroke",u),u.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===d&&0===a&&this.hasStroke&&(u.removeAttribute("stroke"),this.hasStroke=!1)},E=a.SVGRenderer=function(){this.init.apply(this,arguments)},c(E.prototype,{Element:F,SVG_NS:O,init:function(a,d,u,n,b,c){var g;g=(n=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(n))).element,a.appendChild(g),h(a,"dir","ltr"),-1===a.innerHTML.indexOf("xmlns")&&h(g,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=g,this.boxWrapper=n,this.alignedObjects=[],this.url=(C||J)&&f.getElementsByTagName("base").length?R.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highstock 6.0.3")),this.defs=this.createElement("defs").add(),this.allowHTML=c,this.forExport=b,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(d,u,!1);var v;C&&a.getBoundingClientRect&&((d=function(){t(a,{left:0,top:0}),v=a.getBoundingClientRect(),t(a,{left:Math.ceil(v.left)-v.left+"px",top:Math.ceil(v.top)-v.top+"px"})})(),this.unSubPixelFix=G(R,"resize",d))},getStyle:function(a){return this.style=c({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),m(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(a){var d=new this.Element;return d.init(this,a),d},draw:d,getRadialAttr:function(a,d){return{cx:a[0]-a[2]/2+d.cx*a[2],cy:a[1]-a[2]/2+d.cy*a[2],r:d.r*a[2]}},getSpanWidth:function(a,d){var u=a.getBBox(!0).width;return!M&&this.forExport&&(u=this.measureSpanWidth(d.firstChild.data,a.styles)),u},applyEllipsis:function(a,d,u,n){var g,A,b=a.rotation,c=u,v=0,e=u.length,l=function(a){d.removeChild(d.firstChild),a&&d.appendChild(f.createTextNode(a))};if(a.rotation=0,c=this.getSpanWidth(a,d),A=c>n){for(;v<=e;)g=Math.ceil((v+e)/2),c=u.substring(0,g)+"…",l(c),c=this.getSpanWidth(a,d),v===e?v=e+1:c>n?e=g-1:v=g;0===e&&l("")}return a.rotation=b,A},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot"},buildText:function(a){var A,I,y,D,R,p,d=a.element,n=this,b=n.forExport,c=B(a.textStr,"").toString(),g=-1!==c.indexOf("<"),l=d.childNodes,k=h(d,"x"),m=a.styles,C=a.textWidth,N=m&&m.lineHeight,P=m&&m.textOutline,H=m&&"ellipsis"===m.textOverflow,J=m&&"nowrap"===m.whiteSpace,q=m&&m.fontSize,z=l.length,K=(m=C&&!a.added&&this.box,function(a){var b;return b=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:q||n.style.fontSize||12,N?u(N):n.fontMetrics(b,a.getAttribute("style")?a:d).h}),x=function(a){return v(n.escapes,function(d,u){a=a.replace(new RegExp(d,"g"),u)}),a};if((R=[c,H,J,N,P,q,C].join())!==a.textCache){for(a.textCache=R;z--;)d.removeChild(l[z]);g||P||H||C||-1!==c.indexOf(" ")?(A=/<.*class="([^"]+)".*>/,I=/<.*style="([^"]+)".*>/,y=/<.*href="([^"]+)".*>/,m&&m.appendChild(d),c=g?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=w(c,function(a){return""!==a}),e(c,function(u,c){var g,v=0;u=u.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=u.split("|||"),e(g,function(u){if(""!==u||1===g.length){var w,B,e={},l=f.createElementNS(n.SVG_NS,"tspan");if(A.test(u)&&(w=u.match(A)[1],h(l,"class",w)),I.test(u)&&(B=u.match(I)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),h(l,"style",B)),y.test(u)&&!b&&(h(l,"onclick",'location.href="'+u.match(y)[1]+'"'),h(l,"class","highcharts-anchor"),t(l,{cursor:"pointer"}))," "!==(u=x(u.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(l.appendChild(f.createTextNode(u)),v?e.dx=0:c&&null!==k&&(e.x=k),h(l,e),d.appendChild(l),!v&&p&&(!M&&b&&t(l,{display:"block"}),h(l,"dy",K(l))),C){e=u.replace(/([^\^])-/g,"$1- ").split(" "),w=1<g.length||c||1<e.length&&!J;var N,m=[],P=K(l),S=a.rotation;for(H&&(D=n.applyEllipsis(a,l,u,C));!H&&w&&(e.length||m.length);)a.rotation=0,N=n.getSpanWidth(a,l),u=N>C,void 0===D&&(D=u),u&&1!==e.length?(l.removeChild(l.firstChild),m.unshift(e.pop())):(e=m,m=[],e.length&&!J&&(l=f.createElementNS(O,"tspan"),h(l,{dy:P,x:k}),B&&h(l,"style",B),d.appendChild(l)),N>C&&(C=N)),e.length&&l.appendChild(f.createTextNode(e.join(" ").replace(/- /g,"-")));a.rotation=S}v++}}}),p=p||d.childNodes.length}),D&&a.attr("title",a.textStr),m&&m.removeChild(d),P&&a.applyTextOutline&&a.applyTextOutline(P)):d.appendChild(f.createTextNode(x(c)))}},getContrast:function(a){return 510<(a=x(a).rgba)[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function(a,d,u,n,b,g,v,e,l){var w=this.label(a,d,u,l,null,null,null,null,"button"),M=0;w.attr(A({padding:8,r:2},b));var f,I,B,D;return b=A({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},b),f=b.style,delete b.style,g=A(b,{fill:"#e6e6e6"},g),I=g.style,delete g.style,v=A(b,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},v),B=v.style,delete v.style,e=A(b,{style:{color:"#cccccc"}},e),D=e.style,delete e.style,G(w.element,K?"mouseover":"mouseenter",function(){3!==M&&w.setState(1)}),G(w.element,K?"mouseout":"mouseleave",function(){3!==M&&w.setState(M)}),w.setState=function(a){1!==a&&(w.state=M=a),w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]),w.attr([b,g,v,e][a||0]).css([f,I,B,D][a||0])},w.attr(b).css(c({cursor:"default"},f)),w.on("click",function(a){3!==M&&n.call(w,a)})},crispLine:function(a,d){return a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-d%2/2),a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+d%2/2),a},path:function(a){var d={fill:"none"};return H(a)?d.d=a:g(a)&&c(d,a),this.createElement("path").attr(d)},circle:function(a,d,u){return a=g(a)?a:{x:a,y:d,r:u},d=this.createElement("circle"),d.xSetter=d.ySetter=function(a,d,u){u.setAttribute("c"+d,a)},d.attr(a)},arc:function(a,d,u,n,b,c){return g(a)?(n=a,d=n.y,u=n.r,a=n.x):n={innerR:n,start:b,end:c},a=this.symbol("arc",a,d,u,u,n),a.r=u,a},rect:function(a,d,u,n,b,c){b=g(a)?a.r:b;var v=this.createElement("rect");return a=g(a)?a:void 0===a?{}:{x:a,y:d,width:Math.max(u,0),height:Math.max(n,0)},void 0!==c&&(a.strokeWidth=c,a=v.crisp(a)),a.fill="none",b&&(a.r=b),v.rSetter=function(a,d,u){h(u,{rx:a,ry:a})},v.attr(a)},setSize:function(a,d,u){var n=this.alignedObjects,b=n.length;for(this.width=a,this.height=d,this.boxWrapper.animate({width:a,height:d},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:B(u,!0)?void 0:0});b--;)n[b].align()},g:function(a){var d=this.createElement("g");return a?d.attr({class:"highcharts-"+a}):d},image:function(a,d,u,n,b){var g={preserveAspectRatio:"none"};return 1<arguments.length&&c(g,{x:d,y:u,width:n,height:b}),(g=this.createElement("image").attr(g)).element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):g.element.setAttribute("hc-svg-href",a),g},symbol:function(a,d,u,n,b,g){var l,k,m,v=this,A=/^url\((.*?)\)$/,w=A.test(a),M=!w&&(this.symbols[a]?a:"circle"),D=M&&this.symbols[M],y=z(d)&&D&&D.call(this.symbols,Math.round(d),Math.round(u),n,b,g);return D?((l=this.path(y)).attr("fill","none"),c(l,{symbolName:M,x:d,y:u,width:n,height:b}),g&&c(l,g)):w&&(k=a.match(A)[1],l=this.image(k),l.imgwidth=B(N[k]&&N[k].width,g&&g.width),l.imgheight=B(N[k]&&N[k].height,g&&g.height),m=function(){l.attr({width:l.width,height:l.height})},e(["width","height"],function(a){l[a+"Setter"]=function(a,d){var u={},n=this["img"+d],b="width"===d?"translateX":"translateY";this[d]=a,z(n)&&(this.element&&this.element.setAttribute(d,n),this.alignByTranslate||(u[b]=((this[d]||0)-n)/2,this.attr(u)))}}),z(d)&&l.attr({x:d,y:u}),l.isImg=!0,z(l.imgwidth)&&z(l.imgheight)?m():(l.attr({width:0,height:0}),q("img",{onload:function(){var a=p[v.chartIndex];0===this.width&&(t(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),N[k]={width:this.width,height:this.height},l.imgwidth=this.width,l.imgheight=this.height,l.element&&m(),this.parentNode&&this.parentNode.removeChild(this),v.imgCount--,!v.imgCount&&a&&a.onload&&a.onload()},src:k}),this.imgCount++)),l},symbols:{circle:function(a,d,u,n){return this.arc(a+u/2,d+n/2,u/2,n/2,{start:0,end:2*Math.PI,open:!1})},square:function(a,d,u,n){return["M",a,d,"L",a+u,d,a+u,d+n,a,d+n,"Z"]},triangle:function(a,d,u,n){return["M",a+u/2,d,"L",a+u,d+n,a,d+n,"Z"]},"triangle-down":function(a,d,u,n){return["M",a,d,"L",a+u,d,a+u/2,d+n,"Z"]},diamond:function(a,d,u,n){return["M",a+u/2,d,"L",a+u,d+n/2,a+u/2,d+n,a,d+n/2,"Z"]},arc:function(a,d,u,n,b){var g=b.start,c=b.r||u,v=b.r||n||u,l=b.end-.001;u=b.innerR,n=B(b.open,.001>Math.abs(b.end-b.start-2*Math.PI));var e=Math.cos(g),A=Math.sin(g),w=Math.cos(l);l=Math.sin(l);return b=.001>b.end-g-Math.PI?0:1,c=["M",a+c*e,d+v*A,"A",c,v,0,b,1,a+c*w,d+v*l],z(u)&&c.push(n?"M":"L",a+u*w,d+u*l,"A",u,u,0,b,0,a+u*e,d+u*A),c.push(n?"":"Z"),c},callout:function(a,d,u,n,b){var g=Math.min(b&&b.r||0,u,n),c=g+6,v=b&&b.anchorX;b=b&&b.anchorY;var l;return l=["M",a+g,d,"L",a+u-g,d,"C",a+u,d,a+u,d,a+u,d+g,"L",a+u,d+n-g,"C",a+u,d+n,a+u,d+n,a+u-g,d+n,"L",a+g,d+n,"C",a,d+n,a,d+n,a,d+n-g,"L",a,d+g,"C",a,d,a,d,a+g,d],v&&v>u?b>d+c&&b<d+n-c?l.splice(13,3,"L",a+u,b-6,a+u+6,b,a+u,b+6,a+u,d+n-g):l.splice(13,3,"L",a+u,n/2,v,b,a+u,n/2,a+u,d+n-g):v&&0>v?b>d+c&&b<d+n-c?l.splice(33,3,"L",a,b+6,a-6,b,a,b-6,a,d+g):l.splice(33,3,"L",a,n/2,v,b,a,n/2,a,d+g):b&&b>n&&v>a+c&&v<a+u-c?l.splice(23,3,"L",v+6,d+n,v,d+n+6,v-6,d+n,a+g,d+n):b&&0>b&&v>a+c&&v<a+u-c&&l.splice(3,3,"L",v-6,d,v,d-6,v+6,d,u-g,d),l}},clipRect:function(d,u,n,b){var g=a.uniqueKey(),c=this.createElement("clipPath").attr({id:g}).add(this.defs);return d=this.rect(d,u,n,b,0).add(c),d.id=g,d.clipPath=c,d.count=0,d},text:function(a,d,u,n){var b={};return!n||!this.allowHTML&&this.forExport?(b.x=Math.round(d||0),u&&(b.y=Math.round(u)),(a||0===a)&&(b.text=a),a=this.createElement("text").attr(b),n||(a.xSetter=function(a,d,u){var b,c,n=u.getElementsByTagName("tspan"),g=u.getAttribute(d);for(c=0;c<n.length;c++)(b=n[c]).getAttribute(d)===g&&b.setAttribute(d,a);u.setAttribute(d,a)}),a):this.html(a,d,u)},fontMetrics:function(a,d){return a=a||d&&d.style&&d.style.fontSize||this.style&&this.style.fontSize,a=/px/.test(a)?u(a):/em/.test(a)?parseFloat(a)*(d?this.fontMetrics(null,d.parentNode).f:16):12,d=24>a?a+3:Math.round(1.2*a),{h:d,b:Math.round(.8*d),f:a}},rotCorr:function(a,d,u){var n=a;return d&&u&&(n=Math.max(n*Math.cos(d*k),4)),{x:-a/3*Math.sin(d*k),y:n}},label:function(d,u,b,g,v,l,w,M,f){var y,m,H,t,I,J,O,R,h,x,S,r,W,D=this,B=D.g("button"!==f&&"label"),k=B.text=D.text("",0,0,w).attr({zIndex:1}),C=0,N=3,P=0,q={},p=/^url\((.*?)\)$/.test(g),K=p;f&&B.addClass("highcharts-"+f),K=p,x=function(){return(R||0)%2/2},S=function(){var a=k.element.style,d={};m=(void 0===H||void 0===t||O)&&z(k.textStr)&&k.getBBox(),B.width=(H||m.width||0)+2*N+P,B.height=(t||m.height||0)+2*N,h=N+D.fontMetrics(a&&a.fontSize,k).b,K&&(y||(B.box=y=D.symbols[g]||p?D.symbol(g):D.rect(),y.addClass(("button"===f?"":"highcharts-label-box")+(f?" highcharts-"+f+"-box":"")),y.add(B),a=x(),d.x=a,d.y=(M?-h:0)+a),d.width=Math.round(B.width),d.height=Math.round(B.height),y.attr(c(d,q)),q={})},r=function(){var d,a=P+N;d=M?0:h,z(H)&&m&&("center"===O||"right"===O)&&(a+={center:.5,right:1}[O]*(H-m.width)),a===k.x&&d===k.y||(k.attr("x",a),void 0!==d&&k.attr("y",d)),k.x=a,k.y=d},W=function(a,d){y?y.attr(a,d):q[a]=d},B.onAdd=function(){k.add(B),B.attr({text:d||0===d?d:"",x:u,y:b}),y&&z(v)&&B.attr({anchorX:v,anchorY:l})},B.widthSetter=function(d){H=a.isNumber(d)?d:null},B.heightSetter=function(a){t=a},B["text-alignSetter"]=function(a){O=a},B.paddingSetter=function(a){z(a)&&a!==N&&(N=B.padding=a,r())},B.paddingLeftSetter=function(a){z(a)&&a!==P&&(P=a,r())},B.alignSetter=function(a){(a={left:0,center:.5,right:1}[a])!==C&&(C=a,m&&B.attr({x:I}))},B.textSetter=function(a){void 0!==a&&k.textSetter(a),S(),r()},B["stroke-widthSetter"]=function(a,d){a&&(K=!0),R=this["stroke-width"]=a,W(d,a)},B.strokeSetter=B.fillSetter=B.rSetter=function(a,d){"r"!==d&&("fill"===d&&a&&(K=!0),B[d]=a),W(d,a)},B.anchorXSetter=function(a,d){v=B.anchorX=a,W(d,Math.round(a)-x()-I)},B.anchorYSetter=function(a,d){l=B.anchorY=a,W(d,a-J)},B.xSetter=function(a){B.x=a,C&&(a-=C*((H||m.width)+2*N)),I=Math.round(a),B.attr("translateX",I)},B.ySetter=function(a){J=B.y=Math.round(a),B.attr("translateY",J)};var aa=B.css;return c(B,{css:function(a){if(a){var d={};a=A(a),e(B.textProps,function(u){void 0!==a[u]&&(d[u]=a[u],delete a[u])}),k.css(d)}return aa.call(B,a)},getBBox:function(){return{width:m.width+2*N,height:m.height+2*N,x:m.x-N,y:m.y-N}},shadow:function(a){return a&&(S(),y&&y.shadow(a)),B},destroy:function(){n(B.element,"mouseenter"),n(B.element,"mouseleave"),k&&(k=k.destroy()),y&&(y=y.destroy()),F.prototype.destroy.call(B),B=D=S=r=W=null}})}}),a.Renderer=E}(L),function(a){var F=a.attr,E=a.createElement,G=a.css,r=a.defined,h=a.each,p=a.extend,x=a.isFirefox,t=a.isMS,q=a.isWebKit,z=a.pick,k=a.pInt,m=a.SVGRenderer,f=a.win,e=a.wrap;p(a.SVGElement.prototype,{htmlCss:function(a){var b=this.element;return(b=a&&"SPAN"===b.tagName&&a.width)&&(delete a.width,this.textWidth=b,this.updateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),this.styles=p(this.styles,a),G(this.element,a),this},htmlGetBBox:function(){var a=this.element;return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,e=this.translateX||0,l=this.translateY||0,f=this.x||0,m=this.y||0,C=this.textAlign||"left",t={left:0,center:.5,right:1}[C],g=this.styles;if(G(b,{marginLeft:e,marginTop:l}),this.shadows&&h(this.shadows,function(a){G(a,{marginLeft:e+1,marginTop:l+1})}),this.inverted&&h(b.childNodes,function(d){a.invertChild(d,b)}),"SPAN"===b.tagName){var y=this.rotation,J=k(this.textWidth),A=g&&g.whiteSpace,d=[y,C,b.innerHTML,this.textWidth,this.textAlign].join();d!==this.cTT&&(g=a.fontMetrics(b.style.fontSize).b,r(y)&&this.setSpanRotation(y,t,g),G(b,{width:"",whiteSpace:A||"nowrap"}),b.offsetWidth>J&&/[ \-]/.test(b.textContent||b.innerText)&&G(b,{width:J+"px",display:"block",whiteSpace:A||"normal"}),this.getSpanCorrection(b.offsetWidth,g,t,y,C)),G(b,{left:f+(this.xCorr||0)+"px",top:m+(this.yCorr||0)+"px"}),q&&(g=b.offsetHeight),this.cTT=d}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,e){var c={},w=this.renderer.getTransformKey();c[w]=c.transform="rotate("+a+"deg)",c[w+(x?"Origin":"-origin")]=c.transformOrigin=100*b+"% "+e+"px",G(this.element,c)},getSpanCorrection:function(a,b,e){this.xCorr=-a*e,this.yCorr=-b}}),p(m.prototype,{getTransformKey:function(){return t&&!/Edge/.test(f.navigator.userAgent)?"-ms-transform":q?"-webkit-transform":x?"MozTransform":f.opera?"-o-transform":""},html:function(a,b,w){var c=this.createElement("span"),f=c.element,k=c.renderer,m=k.isSVG,q=function(a,b){h(["opacity","visibility"],function(g){e(a,g+"Setter",function(a,d,g,c){a.call(this,d,g,c),b[g]=d})})};return c.textSetter=function(a){a!==f.innerHTML&&delete this.bBox,this.textStr=a,f.innerHTML=z(a,""),c.htmlUpdateTransform()},m&&q(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),c[b]=a,c.htmlUpdateTransform()},c.attr({text:a,x:Math.round(b),y:Math.round(w)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),f.style.whiteSpace="nowrap",c.css=c.htmlCss,m&&(c.add=function(a){var b,g=k.box.parentNode,e=[];if(this.parentGroup=a){if(!(b=a.div)){for(;a;)e.push(a),a=a.parentGroup;h(e.reverse(),function(a){function d(d,u){a[u]=d,t?l[k.getTransformKey()]="translate("+(a.x||a.translateX)+"px,"+(a.y||a.translateY)+"px)":"translateX"===u?l.left=d+"px":l.top=d+"px",a.doTransform=!0}var l,u=F(a.element,"class");u&&(u={className:u}),b=a.div=a.div||E("div",u,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},b||g),l=b.style,p(a,{classSetter:function(a){this.element.setAttribute("class",a),b.className=a},on:function(){return e[0].div&&c.on.apply({element:e[0].div},arguments),a},translateXSetter:d,translateYSetter:d}),q(a,l)})}}else b=g;return b.appendChild(f),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c}),c}})}(L),function(a){function E(){var q,t=a.defaultOptions.global,h=t.useUTC,k=h?"getUTC":"get",m=h?"setUTC":"set",f="Minutes Hours Day Date Month FullYear".split(" "),e=f.concat(["Milliseconds","Seconds"]);for(a.Date=q=t.Date||x.Date,q.hcTimezoneOffset=h&&t.timezoneOffset,q.hcGetTimezoneOffset=function(){var t=a.defaultOptions.global,q=x.moment;if(t.timezone){if(q)return function(a){return-q.tz(a,t.timezone).utcOffset()};a.error(25)}return t.useUTC&&t.getTimezoneOffset}(),q.hcMakeTime=function(a,b,e,l,f,k){var c;return h?(c=q.UTC.apply(0,arguments),c+=r(c)):c=new q(a,b,p(e,1),p(l,0),p(f,0),p(k,0)).getTime(),c},t=0;t<f.length;t++)q["hcGet"+f[t]]=k+f[t];for(t=0;t<e.length;t++)q["hcSet"+e[t]]=m+e[t]}var G=a.color,r=a.getTZOffset,h=a.merge,p=a.pick,x=a.win;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,backgroundColor:G("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},a.setOptions=function(t){return a.defaultOptions=h(!0,a.defaultOptions,t),E(),a.defaultOptions},a.getOptions=function(){return a.defaultOptions},a.defaultPlotOptions=a.defaultOptions.plotOptions,E()}(L),function(a){var F=a.correctFloat,E=a.defined,G=a.destroyObjectProperties,r=a.isNumber,h=a.merge,p=a.pick,x=a.deg2rad;a.Tick=function(a,q,h,k){this.axis=a,this.pos=q,this.type=h||"",this.isNewLabel=this.isNew=!0,h||k||this.addLabel()},a.Tick.prototype={addLabel:function(){var l,a=this.axis,q=a.options,z=a.chart,k=a.categories,m=a.names,f=this.pos,e=q.labels,b=f===(c=a.tickPositions)[0],w=f===c[c.length-1],c=(m=k?p(k[f],m[f],f):f,k=this.label,c.info);a.isDatetimeAxis&&c&&(l=q.dateTimeLabelFormats[c.higherRanks[f]||c.unitName]),this.isFirst=b,this.isLast=w,q=a.labelFormatter.call({axis:a,chart:z,isFirst:b,isLast:w,dateTimeLabelFormat:l,value:a.isLog?F(a.lin2log(m)):m,pos:f}),E(k)?k&&k.attr({text:q}):(this.labelLength=(this.label=k=E(q)&&e.enabled?z.renderer.text(q,0,0,e.useHTML).css(h(e.style)).add(a.labelGroup):null)&&k.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var C,t=this.axis,h=a.x,k=t.chart.chartWidth,m=t.chart.spacing,f=p(t.labelLeft,Math.min(t.pos,m[3])),e=(m=p(t.labelRight,Math.max(t.pos+t.len,k-m[1])),this.label),c=this.rotation,b={left:0,center:.5,right:1}[t.labelAlign],w=e.getBBox().width,l=t.getSlotWidth(),D=l,H=1,K={};c?0>c&&h-b*w<f?C=Math.round(h/Math.cos(c*x)-f):0<c&&h+b*w>m&&(C=Math.round((k-h)/Math.cos(c*x))):(k=h+(1-b)*w,h-b*w<f?D=a.x+D*(1-b)-f:k>m&&(D=m-a.x+D*b,H=-1),(D=Math.min(l,D))<l&&"center"===t.labelAlign&&(a.x+=H*(l-D-b*(l-Math.min(w,D)))),(w>D||t.autoRotation&&(e.styles||{}).width)&&(C=D)),C&&(K.width=C,(t.options.labels.style||{}).textOverflow||(K.textOverflow="ellipsis"),e.css(K))},getPosition:function(a,h,p,k){var m=this.axis,f=m.chart,e=k&&f.oldChartHeight||f.chartHeight;return{x:a?m.translate(h+p,null,null,k)+m.transB:m.left+m.offset+(m.opposite?(k&&f.oldChartWidth||f.chartWidth)-m.right-m.left:0),y:a?e-m.bottom+m.offset-(m.opposite?m.height:0):e-m.translate(h+p,null,null,k)-m.transB}},getLabelPosition:function(a,h,p,k,m,f,e,c){var b=this.axis,w=b.transA,l=b.reversed,D=b.staggerLines,H=b.tickRotCorr||{x:0,y:0},C=m.y;return E(C)||(C=0===b.side?p.rotation?-8:-p.getBBox().height:2===b.side?H.y+8:Math.cos(p.rotation*x)*(H.y-p.getBBox(!1,0).height/2)),a=a+m.x+H.x-(f&&k?f*w*(l?-1:1):0),h=h+C-(f&&!k?f*w*(l?1:-1):0),D&&(p=e/(c||1)%D,b.opposite&&(p=D-p-1),h+=b.labelOffset/D*p),{x:a,y:Math.round(h)}},getMarkPath:function(a,h,p,k,m,f){return f.crispLine(["M",a,h,"L",a+(m?0:-p),h+(m?p:0)],k)},renderGridLine:function(a,h,p){var k=this.axis,m=k.options,f=this.gridLine,e={},c=this.pos,b=this.type,w=k.tickmarkOffset,l=k.chart.renderer,D=b?b+"Grid":"grid",H=m[D+"LineWidth"],C=m[D+"LineColor"];m=m[D+"LineDashStyle"];f||(e.stroke=C,e["stroke-width"]=H,m&&(e.dashstyle=m),b||(e.zIndex=1),a&&(e.opacity=0),this.gridLine=f=l.path().attr(e).addClass("highcharts-"+(b?b+"-":"")+"grid-line").add(k.gridGroup)),!a&&f&&(a=k.getPlotLinePath(c+w,f.strokeWidth()*p,a,!0))&&f[this.isNew?"attr":"animate"]({d:a,opacity:h})},renderMark:function(a,h,z){var k=this.axis,m=k.options,f=k.chart.renderer,e=this.type,c=e?e+"Tick":"tick",b=k.tickSize(c),w=this.mark,l=!w,D=a.x;a=a.y;var H=p(m[c+"Width"],!e&&k.isXAxis?1:0);m=m[c+"Color"];b&&(k.opposite&&(b[0]=-b[0]),l&&(this.mark=w=f.path().addClass("highcharts-"+(e?e+"-":"")+"tick").add(k.axisGroup),w.attr({stroke:m,"stroke-width":H})),w[l?"attr":"animate"]({d:this.getMarkPath(D,a,b[0],w.strokeWidth()*z,k.horiz,f),opacity:h}))},renderLabel:function(a,h,z,k){var m=this.axis,f=m.horiz,e=m.options,c=this.label,b=e.labels,w=b.step,l=m.tickmarkOffset,D=!0,H=a.x;a=a.y,c&&r(H)&&(c.xy=a=this.getLabelPosition(H,a,c,f,b,l,k,w),this.isFirst&&!this.isLast&&!p(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(e.showLastLabel,1)?D=!1:!f||m.isRadial||b.step||b.rotation||h||0===z||this.handleOverflow(a),w&&k%w&&(D=!1),D&&r(a.y)?(a.opacity=z,c[this.isNewLabel?"attr":"animate"](a),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0))},render:function(a,h,z){var m=(k=this.axis).horiz,f=this.getPosition(m,this.pos,k.tickmarkOffset,h),e=f.x,c=f.y,k=m&&e===k.pos+k.len||!m&&c===k.pos?-1:1;z=p(z,1),this.isActive=!0,this.renderGridLine(h,z,k),this.renderMark(f,z,k),this.renderLabel(f,h,z,a),this.isNew=!1},destroy:function(){G(this,this.axis)}}}(L);var Z=function(a){var F=a.addEvent,E=a.animObject,G=a.arrayMax,r=a.arrayMin,h=a.color,p=a.correctFloat,x=a.defaultOptions,t=a.defined,q=a.deg2rad,z=a.destroyObjectProperties,k=a.each,m=a.extend,f=a.fireEvent,e=a.format,c=a.getMagnitude,b=a.grep,w=a.inArray,l=a.isArray,D=a.isNumber,H=a.isString,C=a.merge,K=a.normalizeTickInterval,g=a.objectEach,y=a.pick,J=a.removeEvent,A=a.splat,d=a.syncTimeout,v=a.Tick,B=function(){this.init.apply(this,arguments)};return a.extend(B.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return a.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,d){var u=d.isX,n=this;n.chart=a,n.horiz=a.inverted&&!n.isZAxis?!u:u,n.isXAxis=u,n.coll=n.coll||(u?"xAxis":"yAxis"),n.opposite=d.opposite,n.side=d.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(d);var b=this.options,c=b.type;n.labelFormatter=b.labels.formatter||n.defaultLabelFormatter,n.userOptions=d,n.minPixelPadding=0,n.reversed=b.reversed,n.visible=!1!==b.visible,n.zoomEnabled=!1!==b.zoomEnabled,n.hasNames="category"===c||!0===b.categories,n.categories=b.categories||n.hasNames,n.names=n.names||[],n.plotLinesAndBandsGroups={},n.isLog="logarithmic"===c,n.isDatetimeAxis="datetime"===c,n.positiveValuesOnly=n.isLog&&!n.allowNegativeLog,n.isLinked=t(b.linkedTo),n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=b.minRange||b.maxZoom,n.range=b.range,n.offset=b.offset||0,n.stacks={},n.oldStacks={},n.stacksTouched=0,n.max=null,n.min=null,n.crosshair=y(b.crosshair,A(a.options.tooltip.crosshairs)[u?0:1],!1),d=n.options.events,-1===w(n,a.axes)&&(u?a.axes.splice(a.xAxis.length,0,n):a.axes.push(n),a[n.coll].push(n)),n.series=n.series||[],a.inverted&&!n.isZAxis&&u&&void 0===n.reversed&&(n.reversed=!0),g(d,function(a,d){F(n,d,a)}),n.lin2log=b.linearToLogConverter||n.lin2log,n.isLog&&(n.val2lin=n.log2lin,n.lin2val=n.lin2log)},setOptions:function(a){this.options=C(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],C(x[this.coll],a))},defaultLabelFormatter:function(){var A,d=this.axis,n=this.value,b=d.categories,c=this.dateTimeLabelFormat,v=(g=x.lang).numericSymbols,g=g.numericSymbolMagnitude||1e3,l=v&&v.length,w=d.options.labels.format;d=d.isLog?Math.abs(n):d.tickInterval;if(w)A=e(w,this);else if(b)A=n;else if(c)A=a.dateFormat(c,n);else if(l&&1e3<=d)for(;l--&&void 0===A;)b=Math.pow(g,l+1),d>=b&&0==10*n%b&&null!==v[l]&&0!==n&&(A=a.numberFormat(n/b,-1)+v[l]);return void 0===A&&(A=1e4<=Math.abs(n)?a.numberFormat(n,-1):a.numberFormat(n,-1,void 0,"")),A},getSeriesExtremes:function(){var a=this,d=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.threshold=null,a.softThreshold=!a.isXAxis,a.buildStacks&&a.buildStacks(),k(a.series,function(n){if(n.visible||!d.options.chart.ignoreHiddenSeries){var g,u=n.options,c=u.threshold;a.hasVisibleSeries=!0,a.positiveValuesOnly&&0>=c&&(c=null),a.isXAxis?(u=n.xData).length&&(n=r(u),g=G(u),D(n)||n instanceof Date||(u=b(u,D),n=r(u)),a.dataMin=Math.min(y(a.dataMin,u[0],n),n),a.dataMax=Math.max(y(a.dataMax,u[0],g),g)):(n.getExtremes(),g=n.dataMax,n=n.dataMin,t(n)&&t(g)&&(a.dataMin=Math.min(y(a.dataMin,n),n),a.dataMax=Math.max(y(a.dataMax,g),g)),t(c)&&(a.threshold=c),(!u.softThreshold||a.positiveValuesOnly)&&(a.softThreshold=!1))}})},translate:function(a,d,b,c,g,v){var n=this.linkedParent||this,u=1,e=0,l=c?n.oldTransA:n.transA;c=c?n.oldMin:n.min;var A=n.minPixelPadding;return g=(n.isOrdinal||n.isBroken||n.isLog&&g)&&n.lin2val,l||(l=n.transA),b&&(u*=-1,e=n.len),n.reversed&&(u*=-1,e-=u*(n.sector||n.len)),d?(a=(a*u+e-A)/l+c,g&&(a=n.lin2val(a))):(g&&(a=n.val2lin(a)),a=D(c)?u*(a-c)*l+e+u*A+(D(v)?l*v:0):void 0),a},toPixels:function(a,d){return this.translate(a,!1,!this.horiz,null,!0)+(d?0:this.pos)},toValue:function(a,d){return this.translate(a-(d?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,d,b,c,g){var e,l,f,n=this.chart,u=this.left,v=this.top,A=b&&n.oldChartHeight||n.chartHeight,w=b&&n.oldChartWidth||n.chartWidth;e=this.transB;var B=function(a,d,n){return(a<d||a>n)&&(c?a=Math.min(Math.max(d,a),n):f=!0),a};return g=y(g,this.translate(a,null,null,b)),a=b=Math.round(g+e),e=l=Math.round(A-g-e),D(g)?this.horiz?(e=v,l=A-this.bottom,a=b=B(a,u,u+this.width)):(a=u,b=w-this.right,e=l=B(e,v,v+this.height)):(f=!0,c=!1),f&&!c?null:n.renderer.crispLine(["M",a,e,"L",b,l],d||1)},getLinearTickPositions:function(a,d,b){var n,u=p(Math.floor(d/a)*a);b=p(Math.ceil(b/a)*a);var g,c=[];if(p(u+a)===u&&(g=20),this.single)return[d];for(d=u;d<=b&&(c.push(d),(d=p(d+a,g))!==n);)n=d;return c},getMinorTickInterval:function(){var a=this.options;return!0===a.minorTicks?y(a.minorTickInterval,"auto"):!1===a.minorTicks?null:a.minorTickInterval},getMinorTickPositions:function(){var a=this,d=a.options,b=a.tickPositions,c=a.minorTickInterval,g=[],v=a.pointRangePadding||0,e=a.min-v,l=(v=a.max+v)-e;if(l&&l/c<a.len/3)if(a.isLog)k(this.paddedTicks,function(d,n,u){n&&g.push.apply(g,a.getLogTickPositions(c,u[n-1],u[n],!0))});else if(a.isDatetimeAxis&&"auto"===this.getMinorTickInterval())g=g.concat(a.getTimeTicks(a.normalizeTimeTickInterval(c),e,v,d.startOfWeek));else for(d=e+(b[0]-e)%c;d<=v&&d!==g[0];d+=c)g.push(d);return 0!==g.length&&a.trimTicks(g),g},adjustForMinRange:function(){var c,g,v,e,l,A,w,f,a=this.options,d=this.min,b=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(t(a.min)||t(a.max)?this.minRange=null:(k(this.series,function(a){for(A=a.xData,e=w=a.xIncrement?1:A.length-1;0<e;e--)l=A[e]-A[e-1],(void 0===v||l<v)&&(v=l)}),this.minRange=Math.min(5*v,this.dataMax-this.dataMin))),b-d<this.minRange&&(g=this.dataMax-this.dataMin>=this.minRange,f=this.minRange,c=(f-b+d)/2,c=[d-c,y(a.min,d-c)],g&&(c[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),d=G(c),b=[d+f,y(a.max,d+f)],g&&(b[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(b=r(b))-d<f&&(c[0]=b-f,c[1]=y(a.min,b-f),d=G(c))),this.min=d,this.max=b},getClosest:function(){var a;return this.categories?a=1:k(this.series,function(d){var n=d.closestPointRange,b=d.visible||!d.chart.options.chart.ignoreHiddenSeries;!d.noSharedTooltip&&t(n)&&b&&(a=t(a)?Math.min(a,n):n)}),a},nameToX:function(a){var c,d=l(this.categories),b=d?this.categories:this.names,u=a.options.x;return a.series.requireSorting=!1,t(u)||(u=!1===this.options.uniqueNames?a.series.autoIncrement():w(a.name,b)),-1===u?d||(c=b.length):c=u,void 0!==c&&(this.names[c]=a.name),c},updateNames:function(){var a=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,k(this.series||[],function(d){d.xIncrement=null,d.points&&!d.isDirtyData||(d.processData(),d.generatePoints()),k(d.points,function(n,b){var u;n.options&&void 0!==(u=a.nameToX(n))&&u!==n.x&&(n.x=u,d.xData[b]=u)})}))},setAxisTranslation:function(a){var c,d=this,b=d.max-d.min,u=d.axisPointRange||0,g=0,v=0,e=d.linkedParent,l=!!d.categories,A=d.transA,w=d.isXAxis;(w||l||u)&&(c=d.getClosest(),e?(g=e.minPointOffset,v=e.pointRangePadding):k(d.series,function(a){var n=l?1:w?y(a.options.pointRange,c,0):d.axisPointRange||0;a=a.options.pointPlacement,u=Math.max(u,n),d.single||(g=Math.max(g,H(a)?0:n/2),v=Math.max(v,"on"===a?0:n))}),e=d.ordinalSlope&&c?d.ordinalSlope/c:1,d.minPointOffset=g*=e,d.pointRangePadding=v*=e,d.pointRange=Math.min(u,b),w&&(d.closestPointRange=c)),a&&(d.oldTransA=A),d.translationSlope=d.transA=A=d.options.staticScale||d.len/(b+v||1),d.transB=d.horiz?d.left:d.bottom,d.minPixelPadding=A*g},minFromRange:function(){return this.max-this.range},setTickInterval:function(d){var q,z,x,r,n=this,b=n.chart,u=n.options,g=n.isLog,v=n.log2lin,e=n.isDatetimeAxis,l=n.isXAxis,A=n.isLinked,w=u.maxPadding,B=u.minPadding,m=u.tickInterval,C=u.tickPixelInterval,H=n.categories,h=n.threshold,J=n.softThreshold;e||H||A||this.getTickAmount(),x=y(n.userMin,u.min),r=y(n.userMax,u.max),A?(n.linkedParent=b[n.coll][u.linkedTo],b=n.linkedParent.getExtremes(),n.min=y(b.min,b.dataMin),n.max=y(b.max,b.dataMax),u.type!==n.linkedParent.options.type&&a.error(11,1)):(!J&&t(h)&&(n.dataMin>=h?(q=h,B=0):n.dataMax<=h&&(z=h,w=0)),n.min=y(x,q,n.dataMin),n.max=y(r,z,n.dataMax)),g&&(n.positiveValuesOnly&&!d&&0>=Math.min(n.min,y(n.dataMin,n.min))&&a.error(10,1),n.min=p(v(n.min),15),n.max=p(v(n.max),15)),n.range&&t(n.max)&&(n.userMin=n.min=x=Math.max(n.dataMin,n.minFromRange()),n.userMax=r=n.max,n.range=null),f(n,"foundExtremes"),n.beforePadding&&n.beforePadding(),n.adjustForMinRange(),!(H||n.axisPointRange||n.usePercentage||A)&&t(n.min)&&t(n.max)&&(v=n.max-n.min)&&(!t(x)&&B&&(n.min-=v*B),!t(r)&&w&&(n.max+=v*w)),D(u.softMin)&&(n.min=Math.min(n.min,u.softMin)),D(u.softMax)&&(n.max=Math.max(n.max,u.softMax)),D(u.floor)&&(n.min=Math.max(n.min,u.floor)),D(u.ceiling)&&(n.max=Math.min(n.max,u.ceiling)),J&&t(n.dataMin)&&(h=h||0,!t(x)&&n.min<h&&n.dataMin>=h?n.min=h:!t(r)&&n.max>h&&n.dataMax<=h&&(n.max=h)),n.tickInterval=n.min===n.max||void 0===n.min||void 0===n.max?1:A&&!m&&C===n.linkedParent.options.tickPixelInterval?m=n.linkedParent.tickInterval:y(m,this.tickAmount?(n.max-n.min)/Math.max(this.tickAmount-1,1):void 0,H?1:(n.max-n.min)*C/Math.max(n.len,C)),l&&!d&&k(n.series,function(a){a.processData(n.min!==n.oldMin||n.max!==n.oldMax)}),n.setAxisTranslation(!0),n.beforeSetTickPositions&&n.beforeSetTickPositions(),n.postProcessTickInterval&&(n.tickInterval=n.postProcessTickInterval(n.tickInterval)),n.pointRange&&!m&&(n.tickInterval=Math.max(n.pointRange,n.tickInterval)),d=y(u.minTickInterval,n.isDatetimeAxis&&n.closestPointRange),!m&&n.tickInterval<d&&(n.tickInterval=d),e||g||m||(n.tickInterval=K(n.tickInterval,null,c(n.tickInterval),y(u.allowDecimals,!(.5<n.tickInterval&&5>n.tickInterval&&1e3<n.max&&9999>n.max)),!!this.tickAmount)),this.tickAmount||(n.tickInterval=n.unsquish()),this.setTickPositions()},setTickPositions:function(){var d,a=this.options,b=a.tickPositions;d=this.getMinorTickInterval();var c=a.tickPositioner,g=a.startOnTick,v=a.endOnTick;this.tickmarkOffset=this.categories&&"between"===a.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===d&&this.tickInterval?this.tickInterval/5:d,this.single=this.min===this.max&&t(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==a.allowDecimals),this.tickPositions=d=b&&b.slice(),!d&&((d=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&(d=[d[0],d.pop()])[0]===d[1]&&(d.length=1),this.tickPositions=d,c&&(c=c.apply(this,[this.min,this.max])))&&(this.tickPositions=d=c),this.paddedTicks=d.slice(0),this.trimTicks(d,g,v),this.isLinked||(this.single&&2>d.length&&(this.min-=.5,this.max+=.5),b||c||this.adjustTickAmount())},trimTicks:function(a,d,b){var n=a[0],u=a[a.length-1],c=this.minPointOffset||0;if(!this.isLinked){if(d&&-1/0!==n)this.min=n;else for(;this.min-c>a[0];)a.shift();if(b)this.max=u;else for(;this.max+c<a[a.length-1];)a.pop();0===a.length&&t(n)&&a.push((u+n)/2)}},alignToOthers:function(){var d,a={},b=this.options;return!1===this.chart.options.chart.alignTicks||!1===b.alignTicks||this.isLog||k(this.chart[this.coll],function(b){var n=b.options;n=[b.horiz?n.left:n.top,n.width,n.height,n.pane].join();b.series.length&&(a[n]?d=!0:a[n]=1)}),d},getTickAmount:function(){var a=this.options,d=a.tickAmount,b=a.tickPixelInterval;!t(a.tickInterval)&&this.len<b&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(d=2),!d&&this.alignToOthers()&&(d=Math.ceil(this.len/b)+1),4>d&&(this.finalTickAmt=d,d=5),this.tickAmount=d},adjustTickAmount:function(){var a=this.tickInterval,d=this.tickPositions,b=this.tickAmount,c=this.finalTickAmt,g=d&&d.length;if(g<b){for(;d.length<b;)d.push(p(d[d.length-1]+a));this.transA*=(g-1)/(b-1),this.max=d[d.length-1]}else g>b&&(this.tickInterval*=2,this.setTickPositions());if(t(c)){for(a=b=d.length;a--;)(3===c&&1==a%2||2>=c&&0<a&&a<b-1)&&d.splice(a,1);this.finalTickAmt=void 0}},setScale:function(){var a,d;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),d=this.len!==this.oldAxisLength,k(this.series,function(d){(d.isDirtyData||d.isDirty||d.xAxis.isDirty)&&(a=!0)}),d||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=d||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(a,d,b,c,g){var n=this,u=n.chart;b=y(b,!0),k(n.series,function(a){delete a.kdTree}),g=m(g,{min:a,max:d}),f(n,"setExtremes",g,function(){n.userMin=a,n.userMax=d,n.eventArgs=g,b&&u.redraw(c)})},zoom:function(a,d){var b=this.dataMin,n=this.dataMax,u=this.options,c=Math.min(b,y(u.min,b));u=Math.max(n,y(u.max,n));return a===this.min&&d===this.max||(this.allowZoomOutside||(t(b)&&(a<c&&(a=c),a>u&&(a=u)),t(n)&&(d<c&&(d=c),d>u&&(d=u))),this.displayBtn=void 0!==a||void 0!==d,this.setExtremes(a,d,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var d=this.chart,c=(b=this.options).offsets||[0,0,0,0],g=this.horiz,v=this.width=Math.round(a.relativeLength(y(b.width,d.plotWidth-c[3]+c[1]),d.plotWidth)),e=this.height=Math.round(a.relativeLength(y(b.height,d.plotHeight-c[0]+c[2]),d.plotHeight)),l=this.top=Math.round(a.relativeLength(y(b.top,d.plotTop+c[0]),d.plotHeight,d.plotTop)),b=this.left=Math.round(a.relativeLength(y(b.left,d.plotLeft+c[3]),d.plotWidth,d.plotLeft));this.bottom=d.chartHeight-e-l,this.right=d.chartWidth-v-b,this.len=Math.max(g?v:e,0),this.pos=g?b:l},getExtremes:function(){var a=this.isLog,d=this.lin2log;return{min:a?p(d(this.min)):this.min,max:a?p(d(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var d=this.isLog,b=this.lin2log,c=d?b(this.min):this.min;d=d?b(this.max):this.max;return null===a?a=c:c>a?a=c:d<a&&(a=d),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return 15<(a=(y(a,0)-90*this.side+720)%360)&&165>a?"right":195<a&&345>a?"left":"center"},tickSize:function(a){var d=this.options,b=d[a+"Length"],c=y(d[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(c&&b)return"inside"===d[a+"Position"]&&(b=-b),[b,c]},labelMetrics:function(){var a=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[a]&&this.ticks[a].label)},unsquish:function(){var v,A,f,a=this.options.labels,d=this.horiz,b=this.tickInterval,c=b,g=this.len/(((this.categories?1:0)+this.max-this.min)/b),e=a.rotation,l=this.labelMetrics(),w=Number.MAX_VALUE,B=function(a){return a/=g||1,(a=1<a?Math.ceil(a):1)*b};return d?(f=!a.staggerLines&&!a.step&&(t(e)?[e]:g<y(a.autoRotationLimit,80)&&a.autoRotation))&&k(f,function(a){var d;(a===e||a&&-90<=a&&90>=a)&&(A=B(Math.abs(l.h/Math.sin(q*a))),(d=A+Math.abs(a/360))<w&&(w=d,v=a,c=A))}):a.step||(c=B(l.h)),this.autoRotation=f,this.labelRotation=y(v,e),c},getSlotWidth:function(){var a=this.chart,d=this.horiz,b=this.options.labels,c=Math.max(this.tickPositions.length-(this.categories?0:1),1),g=a.margin[3];return d&&2>(b.step||0)&&!b.rotation&&(this.staggerLines||1)*this.len/c||!d&&(b.style&&parseInt(b.style.width,10)||g&&g-a.spacing[3]||.33*a.chartWidth)},renderUnsquish:function(){var B,D,y,a=this.chart,d=a.renderer,b=this.tickPositions,c=this.ticks,g=this.options.labels,v=this.horiz,e=this.getSlotWidth(),l=Math.max(1,Math.round(e-2*(g.padding||5))),A={},w=this.labelMetrics(),f=g.style&&g.style.textOverflow,m=0;if(H(g.rotation)||(A.rotation=g.rotation||0),k(b,function(a){(a=c[a])&&a.labelLength>m&&(m=a.labelLength)}),this.maxLabelLength=m,this.autoRotation)m>l&&m>w.h?A.rotation=this.labelRotation:this.labelRotation=0;else if(e&&(B={width:l+"px"},!f))for(B.textOverflow="clip",D=b.length;!v&&D--;)y=b[D],(l=c[y].label)&&(l.styles&&"ellipsis"===l.styles.textOverflow?l.css({textOverflow:"clip"}):c[y].labelLength>e&&l.css({width:e+"px"}),l.getBBox().height>this.len/b.length-(w.h-w.f)&&(l.specCss={textOverflow:"ellipsis"}));A.rotation&&(B={width:(m>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight)+"px"},f||(B.textOverflow="ellipsis")),(this.labelAlign=g.align||this.autoLabelAlign(this.labelRotation))&&(A.align=this.labelAlign),k(b,function(a){var d=(a=c[a])&&a.label;d&&(d.attr(A),B&&d.css(C(B,d.specCss)),delete d.specCss,a.rotation=A.rotation)}),this.tickRotCorr=d.rotCorr(w.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||t(this.min)&&t(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(a){var u,d=this.chart.renderer,b=this.horiz,c=this.opposite,g=this.options.title;this.axisTitle||((u=g.textAlign)||(u=(b?{low:"left",middle:"center",high:"right"}:{low:c?"right":"left",middle:"center",high:c?"left":"right"})[g.align]),this.axisTitle=d.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:u}).addClass("highcharts-axis-title").css(g.style).add(this.axisGroup),this.axisTitle.isNew=!0),g.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[a?"show":"hide"](!0)},generateTick:function(a){var d=this.ticks;d[a]?d[a].addLabel():d[a]=new v(this,a)},getOffset:function(){var f,B,D,a=this,b=(d=a.chart).renderer,c=a.options,v=a.tickPositions,e=a.ticks,l=a.horiz,A=a.side,w=d.inverted&&!a.isZAxis?[1,0,3,2][A]:A,m=0,C=0,H=c.title,h=c.labels,J=0,p=d.axisOffset,d=d.clipOffset,q=[-1,1,1,-1][A],K=c.className,z=a.axisParent,x=this.tickSize("tick");f=a.hasData(),a.showAxis=B=f||y(c.showEmpty,!0),a.staggerLines=a.horiz&&h.staggerLines,a.axisGroup||(a.gridGroup=b.g("grid").attr({zIndex:c.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(K||"")).add(z),a.axisGroup=b.g("axis").attr({zIndex:c.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(K||"")).add(z),a.labelGroup=b.g("axis-labels").attr({zIndex:h.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(K||"")).add(z)),f||a.isLinked?(k(v,function(d,b){a.generateTick(d,b)}),a.renderUnsquish(),!1===h.reserveSpace||0!==A&&2!==A&&{1:"left",3:"right"}[A]!==a.labelAlign&&"center"!==a.labelAlign||k(v,function(a){J=Math.max(e[a].getLabelSize(),J)}),a.staggerLines&&(J*=a.staggerLines,a.labelOffset=J*(a.opposite?-1:1))):g(e,function(a,d){a.destroy(),delete e[d]}),H&&H.text&&!1!==H.enabled&&(a.addTitle(B),B&&!1!==H.reserveSpace&&(a.titleOffset=m=a.axisTitle.getBBox()[l?"height":"width"],D=H.offset,C=t(D)?0:y(H.margin,l?5:10))),a.renderLine(),a.offset=q*y(c.offset,p[A]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},b=0===A?-a.labelMetrics().h:2===A?a.tickRotCorr.y:0,C=Math.abs(J)+C,J&&(C=C-b+q*(l?y(h.y,a.tickRotCorr.y+8*q):h.x)),a.axisTitleMargin=y(D,C),p[A]=Math.max(p[A],a.axisTitleMargin+m+q*a.offset,C,f&&v.length&&x?x[0]+q*a.offset:0),c=c.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),d[w]=Math.max(d[w],c)},getLinePath:function(a){var d=this.chart,b=this.opposite,c=this.offset,g=this.horiz,v=this.left+(b?this.width:0)+c;c=d.chartHeight-this.bottom-(b?this.height:0)+c;return b&&(a*=-1),d.renderer.crispLine(["M",g?this.left:v,g?c:this.top,"L",g?d.chartWidth-this.right:v,g?c:d.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var a=this.horiz,d=this.left,b=this.top,c=this.len,g=this.options.title,v=a?d:b,e=this.opposite,l=this.offset,A=g.x||0,w=g.y||0,f=this.axisTitle,B=this.chart.renderer.fontMetrics(g.style&&g.style.fontSize,f);f=Math.max(f.getBBox(null,0).height-B.h-1,0),c={low:v+(a?0:c),middle:v+c/2,high:v+(a?c:0)}[g.align],d=(a?b+this.height:d)+(a?1:-1)*(e?-1:1)*this.axisTitleMargin+[-f,f,B.f,-f][this.side];return{x:a?c+A:d+(e?this.width:0)+l+A,y:a?d+w-(e?this.height:0)+l:c+w}},renderMinorTick:function(a){var d=this.chart.hasRendered&&D(this.oldMin),b=this.minorTicks;b[a]||(b[a]=new v(this,a,"minor")),d&&b[a].isNew&&b[a].render(null,!0),b[a].render(null,!1,1)},renderTick:function(a,d){var b=this.isLinked,c=this.ticks,g=this.chart.hasRendered&&D(this.oldMin);(!b||a>=this.min&&a<=this.max)&&(c[a]||(c[a]=new v(this,a)),g&&c[a].isNew&&c[a].render(d,!0,.1),c[a].render(d))},render:function(){var K,z,b=this,c=b.chart,e=b.options,l=b.isLog,A=b.lin2log,w=b.isLinked,f=b.tickPositions,B=b.axisTitle,m=b.ticks,y=b.minorTicks,C=b.alternateBands,H=e.stackLabels,h=e.alternateGridColor,J=b.tickmarkOffset,p=b.axisLine,t=b.showAxis,q=E(c.renderer.globalAnimation);b.labelEdge.length=0,b.overlap=!1,k([m,y,C],function(a){g(a,function(a){a.isActive=!1})}),(b.hasData()||w)&&(b.minorTickInterval&&!b.categories&&k(b.getMinorTickPositions(),function(a){b.renderMinorTick(a)}),f.length&&(k(f,function(a,d){b.renderTick(a,d)}),J&&(0===b.min||b.single)&&(m[-1]||(m[-1]=new v(b,-1,null,!0)),m[-1].render(-1))),h&&k(f,function(d,g){z=void 0!==f[g+1]?f[g+1]+J:b.max-J,0==g%2&&d<b.max&&z<=b.max+(c.polar?-J:J)&&(C[d]||(C[d]=new a.PlotLineOrBand(b)),K=d+J,C[d].options={from:l?A(K):K,to:l?A(z):z,color:h},C[d].render(),C[d].isActive=!0)}),b._addedPlotLB||(k((e.plotLines||[]).concat(e.plotBands||[]),function(a){b.addPlotBandOrLine(a)}),b._addedPlotLB=!0)),k([m,y,C],function(a){var b,n=[],v=q.duration;g(a,function(a,d){a.isActive||(a.render(d,!1,0),a.isActive=!1,n.push(d))}),d(function(){for(b=n.length;b--;)a[n[b]]&&!a[n[b]].isActive&&(a[n[b]].destroy(),delete a[n[b]])},a!==C&&c.hasRendered&&v?v:0)}),p&&(p[p.isPlaced?"animate":"attr"]({d:this.getLinePath(p.strokeWidth())}),p.isPlaced=!0,p[t?"show":"hide"](!0)),B&&t&&(e=b.getTitlePosition(),D(e.y)?(B[B.isNew?"attr":"animate"](e),B.isNew=!1):(B.attr("y",-9999),B.isNew=!0)),H&&H.enabled&&b.renderStackTotals(),b.isDirty=!1},redraw:function(){this.visible&&(this.render(),k(this.plotLinesAndBands,function(a){a.render()})),k(this.series,function(a){a.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(a){var v,d=this,b=d.stacks,c=d.plotLinesAndBands;if(a||J(d),g(b,function(a,d){z(a),b[d]=null}),k([d.ticks,d.minorTicks,d.alternateBands],function(a){z(a)}),c)for(a=c.length;a--;)c[a].destroy();k("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(a){d[a]&&(d[a]=d[a].destroy())});for(v in d.plotLinesAndBandsGroups)d.plotLinesAndBandsGroups[v]=d.plotLinesAndBandsGroups[v].destroy();g(d,function(a,b){-1===w(b,d.keepProps)&&delete d[b]})},drawCrosshair:function(a,d){var b,n,c=this.crosshair,g=y(c.snap,!0),v=this.cross;a||(a=this.cross&&this.cross.e),this.crosshair&&!1!==(t(d)||!g)?(g?t(d)&&(n=this.isXAxis?d.plotX:this.len-d.plotY):n=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),t(n)&&(b=this.getPlotLinePath(d&&(this.isXAxis?d.x:y(d.stackY,d.y)),null,null,null,n)||null),t(b)?(d=this.categories&&!this.isRadial,v||(this.cross=v=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(d?"category ":"thin ")+c.className).attr({zIndex:y(c.zIndex,2)}).add(),v.attr({stroke:c.color||(d?h("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":y(c.width,1)}).css({"pointer-events":"none"}),c.dashStyle&&v.attr({dashstyle:c.dashStyle})),v.show().attr({d:b}),d&&!c.width&&v.attr({"stroke-width":this.transA}),this.cross.e=a):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),a.Axis=B}(L);return function(a){var F=a.Axis,E=a.Date,G=a.dateFormat,r=a.defaultOptions,h=a.defined,p=a.each,x=a.extend,t=a.getMagnitude,q=a.getTZOffset,z=a.normalizeTickInterval,k=a.pick,m=a.timeUnits;F.prototype.getTimeTicks=function(a,e,c,b){var H,J,A,w=[],l={},f=r.global.useUTC,C=new E(e-Math.max(q(e),q(c))),t=E.hcMakeTime,g=a.unitRange,y=a.count;if(h(e)){C[E.hcSetMilliseconds](g>=m.second?0:y*Math.floor(C.getMilliseconds()/y)),g>=m.second&&C[E.hcSetSeconds](g>=m.minute?0:y*Math.floor(C.getSeconds()/y)),g>=m.minute&&C[E.hcSetMinutes](g>=m.hour?0:y*Math.floor(C[E.hcGetMinutes]()/y)),g>=m.hour&&C[E.hcSetHours](g>=m.day?0:y*Math.floor(C[E.hcGetHours]()/y)),g>=m.day&&C[E.hcSetDate](g>=m.month?1:y*Math.floor(C[E.hcGetDate]()/y)),g>=m.month&&(C[E.hcSetMonth](g>=m.year?0:y*Math.floor(C[E.hcGetMonth]()/y)),H=C[E.hcGetFullYear]()),g>=m.year&&C[E.hcSetFullYear](H-H%y),g===m.week&&C[E.hcSetDate](C[E.hcGetDate]()-C[E.hcGetDay]()+k(b,1)),H=C[E.hcGetFullYear](),b=C[E.hcGetMonth]();var d=C[E.hcGetDate](),v=C[E.hcGetHours]();for((E.hcTimezoneOffset||E.hcGetTimezoneOffset)&&(A=(!f||!!E.hcGetTimezoneOffset)&&(c-e>4*m.month||q(e)!==q(c)),C=C.getTime(),J=q(C),C=new E(C+J)),f=C.getTime(),e=1;f<c;)w.push(f),f=g===m.year?t(H+e*y,0):g===m.month?t(H,b+e*y):!A||g!==m.day&&g!==m.week?A&&g===m.hour?t(H,b,d,v+e*y,0,0,J)-J:f+g*y:t(H,b,d+e*y*(g===m.day?1:7)),e++;w.push(f),g<=m.hour&&1e4>w.length&&p(w,function(a){0==a%18e5&&"000000000"===G("%H%M%S%L",a)&&(l[a]="day")})}return w.info=x(a,{higherRanks:l,totalRange:g*y}),w},F.prototype.normalizeTimeTickInterval=function(a,e){var l,c=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],b=m[(e=c[c.length-1])[0]],w=e[1];for(l=0;l<c.length&&(e=c[l],b=m[e[0]],w=e[1],!(c[l+1]&&a<=(b*w[w.length-1]+m[c[l+1][0]])/2));l++);return b===m.year&&a<5*b&&(w=[1,2,5]),a=z(a/b,w,"year"===e[0]?Math.max(t(a/b),1):1),{unitRange:b,count:a,unitName:e[0]}}}(L),function(a){var F=a.Axis,E=a.getMagnitude,G=a.map,r=a.normalizeTickInterval,h=a.pick;F.prototype.getLogTickPositions=function(a,x,t,q){var p=this.options,k=this.len,m=this.lin2log,f=this.log2lin,e=[];if(q||(this._minorAutoInterval=null),.5<=a)a=Math.round(a),e=this.getLinearTickPositions(a,x,t);else if(.08<=a){var c,b,w,l,D;for(k=Math.floor(x),p=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];k<t+1&&!D;k++)for(b=p.length,c=0;c<b&&!D;c++)(w=f(m(k)*p[c]))>x&&(!q||l<=t)&&void 0!==l&&e.push(l),l>t&&(D=!0),l=w}else x=m(x),t=m(t),a=q?this.getMinorTickInterval():p.tickInterval,a=h("auto"===a?null:a,this._minorAutoInterval,p.tickPixelInterval/(q?5:1)*(t-x)/((q?k/this.tickPositions.length:k)||1)),a=r(a,null,E(a)),e=G(this.getLinearTickPositions(a,x,t),f),q||(this._minorAutoInterval=a/5);return q||(this.tickInterval=a),e},F.prototype.log2lin=function(a){return Math.log(a)/Math.LN10},F.prototype.lin2log=function(a){return Math.pow(10,a)}}(L),function(a,F){var E=a.arrayMax,G=a.arrayMin,r=a.defined,h=a.destroyObjectProperties,p=a.each,x=a.erase,t=a.merge,q=a.pick;a.PlotLineOrBand=function(a,k){this.axis=a,k&&(this.options=k,this.id=k.id)},a.PlotLineOrBand.prototype={render:function(){var h=this,k=h.axis,m=k.horiz,f=h.options,e=f.label,c=h.label,b=f.to,w=f.from,l=f.value,D=r(w)&&r(b),H=r(l),C=h.svgElem,p=!C,g=[],y=f.color,J=q(f.zIndex,0),A=f.events,d=(g={class:"highcharts-plot-"+(D?"band ":"line ")+(f.className||"")},{}),v=k.chart.renderer,B=D?"bands":"lines",u=k.log2lin;if(k.isLog&&(w=u(w),b=u(b),l=u(l)),H?(g={stroke:y,"stroke-width":f.width},f.dashStyle&&(g.dashstyle=f.dashStyle)):D&&(y&&(g.fill=y),f.borderWidth&&(g.stroke=f.borderColor,g["stroke-width"]=f.borderWidth)),d.zIndex=J,B+="-"+J,(y=k.plotLinesAndBandsGroups[B])||(k.plotLinesAndBandsGroups[B]=y=v.g("plot-"+B).attr(d).add()),p&&(h.svgElem=C=v.path().attr(g).add(y)),H)g=k.getPlotLinePath(l,C.strokeWidth());else{if(!D)return;g=k.getPlotBandPath(w,b,f)}return p&&g&&g.length?(C.attr({d:g}),A&&a.objectEach(A,function(a,d){C.on(d,function(a){A[d].apply(h,[a])})})):C&&(g?(C.show(),C.animate({d:g})):(C.hide(),c&&(h.label=c=c.destroy()))),e&&r(e.text)&&g&&g.length&&0<k.width&&0<k.height&&!g.flat?(e=t({align:m&&D&&"center",x:m?!D&&4:10,verticalAlign:!m&&D&&"middle",y:m?D?16:10:D?6:-4,rotation:m&&!D&&90},e),this.renderLabel(e,g,D,J)):c&&c.hide(),h},renderLabel:function(a,k,m,f){var e=this.label,c=this.axis.chart.renderer;e||(e={align:a.textAlign||a.align,rotation:a.rotation,class:"highcharts-plot-"+(m?"band":"line")+"-label "+(a.className||"")},e.zIndex=f,this.label=e=c.text(a.text,0,0,a.useHTML).attr(e).add(),e.css(a.style)),f=k.xBounds||[k[1],k[4],m?k[6]:k[1]],k=k.yBounds||[k[2],k[5],m?k[7]:k[2]],m=G(f),c=G(k),e.align(a,!1,{x:m,y:c,width:E(f)-m,height:E(k)-c}),e.show()},destroy:function(){x(this.axis.plotLinesAndBands,this),delete this.axis,h(this)}},a.extend(F.prototype,{getPlotBandPath:function(a,k){var w,m=this.getPlotLinePath(k,null,null,!0),f=this.getPlotLinePath(a,null,null,!0),e=[],c=this.horiz,b=1;if(a=a<this.min&&k<this.min||a>this.max&&k>this.max,f&&m)for(a&&(w=f.toString()===m.toString(),b=0),a=0;a<f.length;a+=6)c&&m[a+1]===f[a+1]?(m[a+1]+=b,m[a+4]+=b):c||m[a+2]!==f[a+2]||(m[a+2]+=b,m[a+5]+=b),e.push("M",f[a+1],f[a+2],"L",f[a+4],f[a+5],m[a+4],m[a+5],m[a+1],m[a+2],"z"),e.flat=w;return e},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(h,k){var m=new a.PlotLineOrBand(this,h).render(),f=this.userOptions;return m&&(k&&(f[k]=f[k]||[],f[k].push(h)),this.plotLinesAndBands.push(m)),m},removePlotBandOrLine:function(a){for(var k=this.plotLinesAndBands,m=this.options,f=this.userOptions,e=k.length;e--;)k[e].id===a&&k[e].destroy();p([m.plotLines||[],f.plotLines||[],m.plotBands||[],f.plotBands||[]],function(c){for(e=c.length;e--;)c[e].id===a&&x(c,c[e])})},removePlotBand:function(a){this.removePlotBandOrLine(a)},removePlotLine:function(a){this.removePlotBandOrLine(a)}})}(L,Z),function(a){var F=a.dateFormat,E=a.each,G=a.extend,r=a.format,h=a.isNumber,p=a.map,x=a.merge,t=a.pick,q=a.splat,z=a.syncTimeout,k=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments)},a.Tooltip.prototype={init:function(a,f){this.chart=a,this.options=f,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=f.split&&!a.inverted,this.shared=f.shared||this.split},cleanSplit:function(a){E(this.chart.series,function(f){var e=f&&f.tt;e&&(!e.isActive||a?f.tt=e.destroy():e.isActive=!1)})},getLabel:function(){var a=this.chart.renderer,f=this.options;return this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,f.shape||"callout",null,null,f.useHTML,null,"tooltip").attr({padding:f.padding,r:f.borderRadius}),this.label.attr({fill:f.backgroundColor,"stroke-width":f.borderWidth}).css(f.style).shadow(f.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(a){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,a),this.init(this.chart,x(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(a,f,e,c){var b=this,w=b.now,l=!1!==b.options.animation&&!b.isHidden&&(1<Math.abs(a-w.x)||1<Math.abs(f-w.y)),k=b.followPointer||1<b.len;G(w,{x:l?(2*w.x+a)/3:a,y:l?(w.y+f)/2:f,anchorX:k?void 0:l?(2*w.anchorX+e)/3:e,anchorY:k?void 0:l?(w.anchorY+c)/2:c}),b.getLabel().attr(w),l&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(a,f,e,c)},32))},hide:function(a){var f=this;clearTimeout(this.hideTimer),a=t(a,this.options.hideDelay,500),this.isHidden||(this.hideTimer=z(function(){f.getLabel()[a?"fadeOut":"hide"](),f.isHidden=!0},a))},getAnchor:function(a,f){var e,C,h,c=this.chart,b=c.inverted,w=c.plotTop,l=c.plotLeft,k=0,m=0;return a=q(a),e=a[0].tooltipPos,this.followPointer&&f&&(void 0===f.chartX&&(f=c.pointer.normalize(f)),e=[f.chartX-c.plotLeft,f.chartY-w]),e||(E(a,function(a){C=a.series.yAxis,h=a.series.xAxis,k+=a.plotX+(!b&&h?h.left-l:0),m+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!b&&C?C.top-w:0)}),k/=a.length,m/=a.length,e=[b?c.plotWidth-m:k,this.shared&&!b&&1<a.length&&f?f.chartY-w:b?c.plotHeight-k:m]),p(e,Math.round)},getPosition:function(a,f,e){var k,c=this.chart,b=this.distance,w={},l=c.inverted&&e.h||0,m=["y",c.chartHeight,f,e.plotY+c.plotTop,c.plotTop,c.plotTop+c.plotHeight],C=["x",c.chartWidth,a,e.plotX+c.plotLeft,c.plotLeft,c.plotLeft+c.plotWidth],h=!this.followPointer&&t(e.ttBelow,!c.inverted==!!e.negative),J=function(a){var d=m;m=C,C=d,k=a},A=function(){!1!==function(a,c,g,e,n,A){var d=g<e-b,v=e+b+g<c,u=e-b-g;if(e+=b,h&&v)w[a]=e;else if(!h&&d)w[a]=u;else if(d)w[a]=Math.min(A-g,0>u-l?u:u-l);else{if(!v)return!1;w[a]=Math.max(n,e+l+g>c?e:e+l)}}.apply(0,m)?!1!==function(a,c,g,e){var d;return e<b||e>c-b?d=!1:w[a]=e<g/2?1:e>c-g/2?c-g-2:e-g/2,d}.apply(0,C)||k||(J(!0),A()):k?w.x=w.y=0:(J(!0),A())};return(c.inverted||1<this.len)&&J(),A(),w},defaultFormatter:function(a){var e,f=this.points||q(this);return e=[a.tooltipFooterHeaderFormatter(f[0])],(e=e.concat(a.bodyFormatter(f))).push(a.tooltipFooterHeaderFormatter(f[0],!0)),e},refresh:function(a,f){var e,b,l,c=this.options,w=a,k={},m=[];e=c.formatter||this.defaultFormatter;var C;k=this.shared;c.enabled&&(clearTimeout(this.hideTimer),this.followPointer=q(w)[0].series.tooltipOptions.followPointer,l=this.getAnchor(w,f),f=l[0],b=l[1],!k||w.series&&w.series.noSharedTooltip?k=w.getLabelConfig():(E(w,function(a){a.setState("hover"),m.push(a.getLabelConfig())}),k={x:w[0].category,y:w[0].y},k.points=m,w=w[0]),this.len=m.length,k=e.call(k,this),C=w.series,this.distance=t(C.tooltipOptions.distance,16),!1===k?this.hide():(e=this.getLabel(),this.isHidden&&e.attr({opacity:1}).show(),this.split?this.renderSplit(k,q(a)):(c.style.width||e.css({width:this.chart.spacingBox.width}),e.attr({text:k&&k.join?k.join(""):k}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+t(w.colorIndex,C.colorIndex)),e.attr({stroke:c.borderColor||w.color||C.color||"#666666"}),this.updatePosition({plotX:f,plotY:b,negative:w.negative,ttBelow:w.ttBelow,h:l[2]||0})),this.isHidden=!1))},renderSplit:function(k,f){var e=this,c=[],b=this.chart,w=b.renderer,l=!0,m=this.options,h=0,C=this.getLabel();a.isString(k)&&(k=[!1,k]),E(k.slice(0,f.length+1),function(a,g){if(!1!==a){var k=(g=f[g-1]||{isHeader:!0,plotX:f[0].plotX}).series||e,D=k.tt,A=g.series||{},d="highcharts-color-"+t(g.colorIndex,A.colorIndex,"none");D||(k.tt=D=w.label(null,null,null,"callout",null,null,m.useHTML).addClass("highcharts-tooltip-box "+d).attr({padding:m.padding,r:m.borderRadius,fill:m.backgroundColor,stroke:m.borderColor||g.color||A.color||"#333333","stroke-width":m.borderWidth}).add(C)),D.isActive=!0,D.attr({text:a}),D.css(m.style).shadow(m.shadow),A=(a=D.getBBox()).width+D.strokeWidth(),g.isHeader?(h=a.height,A=Math.max(0,Math.min(g.plotX+b.plotLeft-A/2,b.chartWidth-A))):A=g.plotX+b.plotLeft-t(m.distance,16)-A,0>A&&(l=!1),a=(g.series&&g.series.yAxis&&g.series.yAxis.pos)+(g.plotY||0),a-=b.plotTop,c.push({target:g.isHeader?b.plotHeight+h:a,rank:g.isHeader?1:0,size:k.tt.getBBox().height+1,point:g,x:A,tt:D})}}),this.cleanSplit(),a.distribute(c,b.plotHeight+h),E(c,function(a){var c=a.point,e=c.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:l||c.isHeader?a.x:c.plotX+b.plotLeft+t(m.distance,16),y:a.pos+b.plotTop,anchorX:c.isHeader?c.plotX+b.plotLeft:c.plotX+e.xAxis.pos,anchorY:c.isHeader?a.pos+b.plotTop-15:c.plotY+e.yAxis.pos})})},updatePosition:function(a){var f=this.chart,e=this.getLabel();e=(this.options.positioner||this.getPosition).call(this,e.width,e.height,a);this.move(Math.round(e.x),Math.round(e.y||0),a.plotX+f.plotLeft,a.plotY+f.plotTop)},getDateFormat:function(a,f,e,c){var w,l,b=F("%m-%d %H:%M:%S.%L",f),m={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";for(l in k){if(a===k.week&&+F("%w",f)===e&&"00:00:00.000"===b.substr(6)){l="week";break}if(k[l]>a){l=h;break}if(m[l]&&b.substr(m[l])!=="01-01 00:00:00.000".substr(m[l]))break;"week"!==l&&(h=l)}return l&&(w=c[l]),w},getXDateFormat:function(a,f,e){f=f.dateTimeLabelFormats;var c=e&&e.closestPointRange;return(c?this.getDateFormat(c,a.x,e.options.startOfWeek,f):f.day)||f.year},tooltipFooterHeaderFormatter:function(a,f){f=f?"footer":"header";var e=a.series,c=e.tooltipOptions,b=c.xDateFormat,w=e.xAxis,l=w&&"datetime"===w.options.type&&h(a.key),k=c[f+"Format"];return l&&!b&&(b=this.getXDateFormat(a,c,w)),l&&b&&E(a.point&&a.point.tooltipDateKeys||["key"],function(a){k=k.replace("{point."+a+"}","{point."+a+":"+b+"}")}),r(k,{point:a,series:e})},bodyFormatter:function(a){return p(a,function(a){var e=a.series.tooltipOptions;return(e[(a.point.formatPrefix||"point")+"Formatter"]||a.point.tooltipFormatter).call(a.point,e[(a.point.formatPrefix||"point")+"Format"])})}}}(L),function(a){var F=a.addEvent,E=a.attr,G=a.charts,r=a.color,h=a.css,p=a.defined,x=a.each,t=a.extend,q=a.find,z=a.fireEvent,k=a.isObject,m=a.offset,f=a.pick,e=a.splat,c=a.Tooltip;a.Pointer=function(a,c){this.init(a,c)},a.Pointer.prototype={init:function(a,e){this.options=e,this.chart=a,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},c&&(a.tooltip=new c(a,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(a){var c=(b=this.chart).options.chart,e=c.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(e=f(c.pinchType,e)),this.zoomX=a=/x/.test(e),this.zoomY=e=/y/.test(e),this.zoomHor=a&&!b||e&&b,this.zoomVert=e&&!b||a&&b,this.hasZoom=a||e},normalize:function(a,c){var b;return b=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a,c||(this.chartPosition=c=m(this.chart.container)),t(a,{chartX:Math.round(b.pageX-c.left),chartY:Math.round(b.pageY-c.top)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return x(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},findNearestKDPoint:function(a,c,e){var b;return x(a,function(a){var l=!(a.noSharedTooltip&&c)&&0>a.options.findNearestPointBy.indexOf("y");if(a=a.searchPoint(e,l),(l=k(a,!0))&&!(l=!k(b,!0))){l=b.distX-a.distX;var f=b.dist-a.dist,g=(a.series.group&&a.series.group.zIndex)-(b.series.group&&b.series.group.zIndex);l=0<(0!==l&&c?l:0!==f?f:0!==g?g:b.series.index>a.series.index?-1:1)}l&&(b=a)}),b},getPointFromEvent:function(a){a=a.target;for(var b;a&&!b;)b=a.point,a=a.parentNode;return b},getChartCoordinatesFromPoint:function(a,c){var e=(b=a.series).xAxis,b=b.yAxis,k=f(a.clientX,a.plotX);if(e&&b)return c?{chartX:e.len+e.pos-k,chartY:b.len+b.pos-a.plotY}:{chartX:k+e.pos,chartY:a.plotY+b.pos}},getHoverData:function(b,c,e,m,h,C,t){var g,l=[],w=t&&t.isBoosting;return m=!(!m||!b),t=c&&!c.stickyTracking?[c]:a.grep(e,function(a){return a.visible&&!(!h&&a.directTouch)&&f(a.options.enableMouseTracking,!0)&&a.stickyTracking}),c=(g=m?b:this.findNearestKDPoint(t,h,C))&&g.series,g&&(h&&!c.noSharedTooltip?(t=a.grep(e,function(a){return a.visible&&!(!h&&a.directTouch)&&f(a.options.enableMouseTracking,!0)&&!a.noSharedTooltip}),x(t,function(a){var d=q(a.points,function(a){return a.x===g.x&&!a.isNull});k(d)&&(w&&(d=a.getPoint(d)),l.push(d))})):l.push(g)),{hoverPoint:g,hoverSeries:c,hoverPoints:l}},runPointActions:function(b,c){var g,e=this.chart,k=e.tooltip&&e.tooltip.options.enabled?e.tooltip:void 0,w=!!k&&k.shared,h=(m=c||e.hoverPoint)&&m.series||e.hoverSeries,m=(h=this.getHoverData(m,h,e.series,!!c||h&&h.directTouch&&this.isDirectTouch,w,b,{isBoosting:e.isBoosting})).hoverPoint;if(g=h.hoverPoints,c=(h=h.hoverSeries)&&h.tooltipOptions.followPointer,w=w&&h&&!h.noSharedTooltip,m&&(m!==e.hoverPoint||k&&k.isHidden)){if(x(e.hoverPoints||[],function(b){-1===a.inArray(b,g)&&b.setState()}),x(g||[],function(a){a.setState("hover")}),e.hoverSeries!==h&&h.onMouseOver(),e.hoverPoint&&e.hoverPoint.firePointEvent("mouseOut"),!m.series)return;m.firePointEvent("mouseOver"),e.hoverPoints=g,e.hoverPoint=m,k&&k.refresh(w?g:m,b)}else c&&k&&!k.isHidden&&(m=k.getAnchor([{}],b),k.updatePosition({plotX:m[0],plotY:m[1]}));this.unDocMouseMove||(this.unDocMouseMove=F(e.container.ownerDocument,"mousemove",function(b){var c=G[a.hoverChartIndex];c&&c.pointer.onDocumentMouseMove(b)})),x(e.axes,function(c){var e=f(c.crosshair.snap,!0),l=e?a.find(g,function(a){return a.series[c.coll]===c}):void 0;l||!e?c.drawCrosshair(b,l):c.hideCrosshair()})},reset:function(a,c){var b=this.chart,f=b.hoverSeries,k=b.hoverPoint,w=b.hoverPoints,m=b.tooltip,g=m&&m.shared?w:k;a&&g&&x(e(g),function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)}),a?m&&g&&(m.refresh(g),k&&(k.setState(k.state,!0),x(b.axes,function(a){a.crosshair&&a.drawCrosshair(null,k)}))):(k&&k.onMouseOut(),w&&x(w,function(a){a.setState()}),f&&f.onMouseOut(),m&&m.hide(c),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),x(b.axes,function(a){a.hideCrosshair()}),this.hoverX=b.hoverPoints=b.hoverPoint=null)},scaleGroups:function(a,c){var e,b=this.chart;x(b.series,function(l){e=a||l.getPlotBox(),l.xAxis&&l.xAxis.zoomEnabled&&l.group&&(l.group.attr(e),l.markerGroup&&(l.markerGroup.attr(e),l.markerGroup.clip(c?b.clipRect:null)),l.dataLabelsGroup&&l.dataLabelsGroup.attr(e))}),b.clipRect.attr(c||b.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var d,b=this.chart,c=b.options.chart,e=a.chartX,k=a.chartY,f=this.zoomHor,m=this.zoomVert,g=b.plotLeft,y=b.plotTop,h=b.plotWidth,A=b.plotHeight,v=this.selectionMarker,B=this.mouseDownX,u=this.mouseDownY,n=c.panKey&&a[c.panKey+"Key"];v&&v.touch||(e<g?e=g:e>g+h&&(e=g+h),k<y?k=y:k>y+A&&(k=y+A),this.hasDragged=Math.sqrt(Math.pow(B-e,2)+Math.pow(u-k,2)),10<this.hasDragged&&(d=b.isInsidePlot(B-g,u-y),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&d&&!n&&!v&&(this.selectionMarker=v=b.renderer.rect(g,y,f?1:h,m?1:A,0).attr({fill:c.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),v&&f&&(e-=B,v.attr({width:Math.abs(e),x:(0<e?0:e)+B})),v&&m&&(e=k-u,v.attr({height:Math.abs(e),y:(0<e?0:e)+u})),d&&!v&&c.panning&&b.pan(a,c.panning)))},drop:function(a){var b=this,c=this.chart,e=this.hasPinched;if(this.selectionMarker){var A,k={originalEvent:a,xAxis:[],yAxis:[]},f=this.selectionMarker,m=f.attr?f.attr("x"):f.x,g=f.attr?f.attr("y"):f.y,y=f.attr?f.attr("width"):f.width,J=f.attr?f.attr("height"):f.height;(this.hasDragged||e)&&(x(c.axes,function(d){if(d.zoomEnabled&&p(d.min)&&(e||b[{xAxis:"zoomX",yAxis:"zoomY"}[d.coll]])){var c=d.horiz,l="touchend"===a.type?d.minPixelPadding:0,u=d.toValue((c?m:g)+l);c=d.toValue((c?m+y:g+J)-l);k[d.coll].push({axis:d,min:Math.min(u,c),max:Math.max(u,c)}),A=!0}}),A&&z(c,"selection",k,function(a){c.zoom(t(a,e?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),e&&this.scaleGroups()}c&&(h(c.container,{cursor:c._cursor}),c.cancelClick=10<this.hasDragged,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),this.zoomOption(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(b){G[a.hoverChartIndex]&&G[a.hoverChartIndex].pointer.drop(b)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition;a=this.normalize(a,c),!c||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(b){var c=G[a.hoverChartIndex];c&&(b.relatedTarget||b.toElement)&&(c.pointer.reset(),c.pointer.chartPosition=null)},onContainerMouseMove:function(b){var c=this.chart;p(a.hoverChartIndex)&&G[a.hoverChartIndex]&&G[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=c.index),(b=this.normalize(b)).returnValue=!1,"mousedown"===c.mouseIsDown&&this.drag(b),!this.inClass(b.target,"highcharts-tracker")&&!c.isInsidePlot(b.chartX-c.plotLeft,b.chartY-c.plotTop)||c.openMenu||this.runPointActions(b)},inClass:function(a,c){for(var b;a;){if(b=E(a,"class")){if(-1!==b.indexOf(c))return!0;if(-1!==b.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement,this.isDirectTouch=!1,!b||!a||b.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")||b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,e=b.plotLeft,f=b.plotTop;a=this.normalize(a),b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(z(c.series,"click",t(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(t(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-e,a.chartY-f)&&z(b,"click",a)))},setDOMEvents:function(){var b=this,c=b.chart.container,e=c.ownerDocument;c.onmousedown=function(a){b.onContainerMouseDown(a)},c.onmousemove=function(a){b.onContainerMouseMove(a)},c.onclick=function(a){b.onContainerClick(a)},this.unbindContainerMouseLeave=F(c,"mouseleave",b.onContainerMouseLeave),a.unbindDocumentMouseUp||(a.unbindDocumentMouseUp=F(e,"mouseup",b.onDocumentMouseUp)),a.hasTouch&&(c.ontouchstart=function(a){b.onContainerTouchStart(a)},c.ontouchmove=function(a){b.onContainerTouchMove(a)},a.unbindDocumentTouchEnd||(a.unbindDocumentTouchEnd=F(e,"touchend",b.onDocumentTouchEnd)))},destroy:function(){var b=this;b.unDocMouseMove&&b.unDocMouseMove(),this.unbindContainerMouseLeave(),a.chartCount||(a.unbindDocumentMouseUp&&(a.unbindDocumentMouseUp=a.unbindDocumentMouseUp()),a.unbindDocumentTouchEnd&&(a.unbindDocumentTouchEnd=a.unbindDocumentTouchEnd())),clearInterval(b.tooltipTimeout),a.objectEach(b,function(a,c){b[c]=null})}}}(L),function(a){var F=a.charts,E=a.each,G=a.extend,r=a.map,h=a.noop,p=a.pick;G(a.Pointer.prototype,{pinchTranslate:function(a,h,p,r,k,m){this.zoomHor&&this.pinchTranslateDirection(!0,a,h,p,r,k,m),this.zoomVert&&this.pinchTranslateDirection(!1,a,h,p,r,k,m)},pinchTranslateDirection:function(a,h,p,r,k,m,f,e){var C,q,n,c=this.chart,b=a?"x":"y",w=a?"X":"Y",l="chart"+w,D=a?"width":"height",t=c["plot"+(a?"Left":"Top")],g=e||1,y=c.inverted,J=c.bounds[a?"h":"v"],A=1===h.length,d=h[0][l],v=p[0][l],B=!A&&h[1][l],u=!A&&p[1][l];(p=function(){!A&&20<Math.abs(d-B)&&(g=e||Math.abs(v-u)/Math.abs(d-B)),q=(t-v)/g+d,C=c["plot"+(a?"Width":"Height")]/g})(),(h=q)<J.min?(h=J.min,n=!0):h+C>J.max&&(h=J.max-C,n=!0),n?(v-=.8*(v-f[b][0]),A||(u-=.8*(u-f[b][1])),p()):f[b]=[v,u],y||(m[b]=q-t,m[D]=C),m=y?1/g:g,k[D]=C,k[b]=h,r[y?a?"scaleY":"scaleX":"scale"+w]=g,r["translate"+w]=m*t+(v-m*d)},pinch:function(a){var t=this,q=t.chart,x=t.pinchDown,k=a.touches,m=k.length,f=t.lastValidTouch,e=t.hasZoom,c=t.selectionMarker,b={},w=1===m&&(t.inClass(a.target,"highcharts-tracker")&&q.runTrackerClick||t.runChartClick),l={};1<m&&(t.initiated=!0),e&&t.initiated&&!w&&a.preventDefault(),r(k,function(a){return t.normalize(a)}),"touchstart"===a.type?(E(k,function(a,b){x[b]={chartX:a.chartX,chartY:a.chartY}}),f.x=[x[0].chartX,x[1]&&x[1].chartX],f.y=[x[0].chartY,x[1]&&x[1].chartY],E(q.axes,function(a){if(a.zoomEnabled){var b=q.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,e=a.toPixels(p(a.options.min,a.dataMin)),g=a.toPixels(p(a.options.max,a.dataMax)),l=Math.max(e,g);b.min=Math.min(a.pos,Math.min(e,g)-c),b.max=Math.max(a.pos+a.len,l+c)}}),t.res=!0):t.followTouchMove&&1===m?this.runPointActions(t.normalize(a)):x.length&&(c||(t.selectionMarker=c=G({destroy:h,touch:!0},q.plotBox)),t.pinchTranslate(x,k,b,c,l,f),t.hasPinched=e,t.scaleGroups(b,l),t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(h,t){var r,q=this.chart;q.index!==a.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),a.hoverChartIndex=q.index,1===h.touches.length?(h=this.normalize(h),q.isInsidePlot(h.chartX-q.plotLeft,h.chartY-q.plotTop)&&!q.openMenu?(t&&this.runPointActions(h),"touchmove"===h.type&&(t=this.pinchDown,r=!!t[0]&&4<=Math.sqrt(Math.pow(t[0].chartX-h.chartX,2)+Math.pow(t[0].chartY-h.chartY,2))),p(r,!0)&&this.pinch(h)):t&&this.reset()):2===h.touches.length&&this.pinch(h)},onContainerTouchStart:function(a){this.zoomOption(a),this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(h){F[a.hoverChartIndex]&&F[a.hoverChartIndex].pointer.drop(h)}})}(L),function(a){var F=a.addEvent,E=a.charts,G=a.css,r=a.doc,h=a.extend,p=a.noop,x=a.Pointer,t=a.removeEvent,q=a.win,z=a.wrap;if(!a.hasTouch&&(q.PointerEvent||q.MSPointerEvent)){var k={},m=!!q.PointerEvent,e=function(c,b,e,l){"touch"!==c.pointerType&&c.pointerType!==c.MSPOINTER_TYPE_TOUCH||!E[a.hoverChartIndex]||(l(c),(l=E[a.hoverChartIndex].pointer)[b]({type:e,target:c.currentTarget,preventDefault:p,touches:function(){var c=[];return c.item=function(a){return this[a]},a.objectEach(k,function(a){c.push({pageX:a.pageX,pageY:a.pageY,target:a.target})}),c}()}))};h(x.prototype,{onContainerPointerDown:function(a){e(a,"onContainerTouchStart","touchstart",function(a){k[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){e(a,"onContainerTouchMove","touchmove",function(a){k[a.pointerId]={pageX:a.pageX,pageY:a.pageY},k[a.pointerId].target||(k[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){e(a,"onDocumentTouchEnd","touchend",function(a){delete k[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,m?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,m?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(r,m?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),z(x.prototype,"init",function(a,b,e){a.call(this,b,e),this.hasZoom&&G(b.container,{"-ms-touch-action":"none","touch-action":"none"})}),z(x.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(F)}),z(x.prototype,"destroy",function(a){this.batchMSEvents(t),a.call(this)})}}(L),function(a){var F=a.addEvent,E=a.css,G=a.discardElement,r=a.defined,h=a.each,p=a.isFirefox,x=a.marginNames,t=a.merge,q=a.pick,z=a.setAnimation,k=a.stableSort,m=a.win,f=a.wrap;a.Legend=function(a,c){this.init(a,c)},a.Legend.prototype={init:function(a,c){this.chart=a,this.setOptions(c),c.enabled&&(this.render(),F(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(a){var c=q(a.padding,8);this.options=a,this.itemStyle=a.itemStyle,this.itemHiddenStyle=t(this.itemStyle,a.itemHiddenStyle),this.itemMarginTop=a.itemMarginTop||0,this.padding=c,this.initialItemY=c-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=q(a.symbolWidth,16),this.pages=[]},update:function(a,c){var b=this.chart;this.setOptions(t(!0,this.options,a)),this.destroy(),b.isDirtyLegend=b.isDirtyBox=!0,q(c,!0)&&b.redraw()},colorizeItem:function(a,c){a.legendGroup[c?"removeClass":"addClass"]("highcharts-legend-item-hidden");var b=this.options,e=a.legendItem,l=a.legendLine,f=a.legendSymbol,k=this.itemHiddenStyle.color,m=(b=c?b.itemStyle.color:k,c?a.color||k:k),h=a.options&&a.options.marker,g={fill:m};e&&e.css({fill:b,color:b}),l&&l.attr({stroke:m}),f&&(h&&f.isMarker&&(g=a.pointAttribs(),c||(g.stroke=g.fill=k)),f.attr(g))},positionItem:function(a){var b=(c=this.options).symbolPadding,c=!c.rtl,l=(e=a._legendItemPos)[0],e=e[1],f=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(c?l:this.legendWidth-l-2*b-4,e),f&&(f.x=l,f.y=e)},destroyItem:function(a){var c=a.checkbox;h(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),c&&G(a.checkbox)},destroy:function(){function a(a){this[a]&&(this[a]=this[a].destroy())}h(this.getAllItems(),function(c){h(["legendItem","legendGroup"],a,c)}),h("clipRect up down pager nav box title group".split(" "),a,this),this.display=null},positionCheckboxes:function(){var c,a=this.group&&this.group.alignAttr,b=this.clipHeight||this.legendHeight,f=this.titleHeight;a&&(c=a.translateY,h(this.allItems,function(e){var k,l=e.checkbox;l&&(k=c+f+l.y+(this.scrollOffset||0)+3,E(l,{left:a.translateX+e.checkboxOffset+l.x-20+"px",top:k+"px",display:k>c-6&&k<c+b-6?"":"none"}))},this))},renderTitle:function(){var a=this.options,c=this.padding,b=a.title,f=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,c-3,c-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),f=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:f})),this.titleHeight=f},setText:function(e){var c=this.options;e.legendItem.attr({text:c.labelFormat?a.format(c.labelFormat,e):c.labelFormatter.call(e)})},renderItem:function(a){var c=this.chart,b=c.renderer,e=this.options,l="horizontal"===e.layout,f=this.symbolWidth,k=e.symbolPadding,m=this.itemStyle,h=this.itemHiddenStyle,g=this.padding,y=l?q(e.itemDistance,20):0,p=!e.rtl,A=e.width,d=e.itemMarginBottom||0,v=this.itemMarginTop,B=a.legendItem,u=!a.series,n=!u&&a.series.drawLegendSymbol?a.series:a,r=n.options,M=this.createCheckboxForItem&&r&&r.showCheckbox,x=(r=f+k+y+(M?20:0),e.useHTML),N=a.options.className;B||(a.legendGroup=b.g("legend-item").addClass("highcharts-"+n.type+"-series highcharts-color-"+a.colorIndex+(N?" "+N:"")+(u?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=B=b.text("",p?f+k:-k,this.baseline||0,x).css(t(a.visible?m:h)).attr({align:p?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(f=m.fontSize,this.fontMetrics=b.fontMetrics(f,B),this.baseline=this.fontMetrics.f+3+v,B.attr("y",this.baseline)),this.symbolHeight=e.symbolHeight||this.fontMetrics.f,n.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,B,x),M&&this.createCheckboxForItem(a)),this.colorizeItem(a,a.visible),m.width||B.css({width:(e.itemWidth||e.width||c.spacingBox.width)-r}),this.setText(a),b=B.getBBox(),m=a.checkboxOffset=e.itemWidth||a.legendItemWidth||b.width+r,this.itemHeight=b=Math.round(a.legendItemHeight||b.height||this.symbolHeight),l&&this.itemX-g+m>(A||c.spacingBox.width-2*g-e.x)&&(this.itemX=g,this.itemY+=v+this.lastLineHeight+d,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,m),this.lastItemY=v+this.itemY+d,this.lastLineHeight=Math.max(b,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],l?this.itemX+=m:(this.itemY+=v+b+d,this.lastLineHeight=b),this.offsetWidth=A||Math.max((l?this.itemX-g-(a.checkbox?0:y):m)+g,this.offsetWidth)},getAllItems:function(){var a=[];return h(this.chart.series,function(c){var b=c&&c.options;c&&q(b.showInLegend,!r(b.linkedTo)&&void 0,!0)&&(a=a.concat(c.legendItems||("point"===b.legendType?c.data:c)))}),a},adjustMargins:function(a,c){var b=this.chart,e=this.options,l=e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0);e.floating||h([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(f,k){f.test(l)&&!r(a[k])&&(b[x[k]]=Math.max(b[x[k]],b.legend[(k+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][k]*e[k%2?"x":"y"]+q(e.margin,12)+c[k]))})},render:function(){var l,m,p,C,a=this,c=a.chart,b=c.renderer,f=a.group,q=a.box,g=a.options,y=a.padding;a.itemX=y,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,f||(a.group=f=b.g("legend").attr({zIndex:7}).add(),a.contentGroup=b.g().attr({zIndex:1}).add(f),a.scrollGroup=b.g().add(a.contentGroup)),a.renderTitle(),l=a.getAllItems(),k(l,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),g.reversed&&l.reverse(),a.allItems=l,a.display=m=!!l.length,a.lastLineHeight=0,h(l,function(b){a.renderItem(b)}),p=(g.width||a.offsetWidth)+y,C=a.lastItemY+a.lastLineHeight+a.titleHeight,C=a.handleOverflow(C),C+=y,q||(a.box=q=b.rect().addClass("highcharts-legend-box").attr({r:g.borderRadius}).add(f),q.isNew=!0),q.attr({stroke:g.borderColor,"stroke-width":g.borderWidth||0,fill:g.backgroundColor||"none"}).shadow(g.shadow),0<p&&0<C&&(q[q.isNew?"attr":"animate"](q.crisp.call({},{x:0,y:0,width:p,height:C},q.strokeWidth())),q.isNew=!1),q[m?"show":"hide"](),a.legendWidth=p,a.legendHeight=C,h(l,function(b){a.positionItem(b)}),m&&f.align(t(g,{width:p,height:C}),!0,"spacingBox"),c.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var m,v,c=this,e=(b=this.chart).renderer,l=this.options,f=l.y,k=this.padding,b=b.spacingBox.height+("top"===l.verticalAlign?-f:f)-k,p=(f=l.maxHeight,this.clipRect),g=l.navigation,y=q(g.animation,!0),t=g.arrowSize||12,A=this.nav,d=this.pages,B=this.allItems,u=function(a){"number"==typeof a?p.attr({height:a}):p&&(c.clipRect=p.destroy(),c.contentGroup.clip()),c.contentGroup.div&&(c.contentGroup.div.style.clip=a?"rect("+k+"px,9999px,"+(k+a)+"px,0)":"auto")};return"horizontal"!==l.layout||"middle"===l.verticalAlign||l.floating||(b/=2),f&&(b=Math.min(b,f)),d.length=0,a>b&&!1!==g.enabled?(this.clipHeight=m=Math.max(b-20-this.titleHeight-k,0),this.currentPage=q(this.currentPage,1),this.fullHeight=a,h(B,function(a,b){var c=a._legendItemPos[1];a=Math.round(a.legendItem.getBBox().height);var g=d.length;(!g||c-d[g-1]>m&&(v||c)!==d[g-1])&&(d.push(v||c),g++),b===B.length-1&&c+a-d[g-1]>m&&d.push(c),c!==v&&(v=c)}),p||(p=c.clipRect=e.clipRect(0,k,9999,0),c.contentGroup.clip(p)),u(m),A||(this.nav=A=e.g().attr({zIndex:1}).add(this.group),this.up=e.symbol("triangle",0,0,t,t).on("click",function(){c.scroll(-1,y)}).add(A),this.pager=e.text("",15,10).addClass("highcharts-legend-navigation").css(g.style).add(A),this.down=e.symbol("triangle-down",0,0,t,t).on("click",function(){c.scroll(1,y)}).add(A)),c.scroll(0),a=b):A&&(u(),this.nav=A.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,c){var b=this.pages,e=b.length;a=this.currentPage+a;var l=this.clipHeight,f=this.options.navigation,k=this.pager,m=this.padding;a>e&&(a=e),0<a&&(void 0!==c&&z(c,this.chart),this.nav.attr({translateX:m,translateY:l+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),k.attr({text:a+"/"+e}),this.down.attr({x:18+this.pager.getBBox().width,class:a===e?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?f.inactiveColor:f.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===e?f.inactiveColor:f.activeColor}).css({cursor:a===e?"default":"pointer"}),this.scrollOffset=-b[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=a,this.positionCheckboxes())}},a.LegendSymbolMixin={drawRectangle:function(a,c){var b=a.symbolHeight,e=a.options.squareSymbol;c.legendSymbol=this.chart.renderer.rect(e?(a.symbolWidth-b)/2:0,a.baseline-b+1,e?b:a.symbolWidth,b,q(a.options.symbolRadius,b/2)).addClass("highcharts-point").attr({zIndex:3}).add(c.legendGroup)},drawLineMarker:function(a){var c=this.options,b=c.marker,e=a.symbolWidth,l=a.symbolHeight,f=l/2,k=this.chart.renderer,m=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b);var h;h={"stroke-width":c.lineWidth||0},c.dashStyle&&(h.dashstyle=c.dashStyle),this.legendLine=k.path(["M",0,a,"L",e,a]).addClass("highcharts-graph").attr(h).add(m),b&&!1!==b.enabled&&(c=Math.min(q(b.radius,f),f),0===this.symbol.indexOf("url")&&(b=t(b,{width:l,height:l}),c=0),this.legendSymbol=b=k.symbol(this.symbol,e/2-c,a-c,2*c,2*c,b).addClass("highcharts-point").add(m),b.isMarker=!0)}},(/Trident\/7\.0/.test(m.navigator.userAgent)||p)&&f(a.Legend.prototype,"positionItem",function(a,c){var b=this,e=function(){c._legendItemPos&&a.call(b,c)};e(),setTimeout(e)})}(L),function(a){var F=a.addEvent,E=a.animate,G=a.animObject,r=a.attr,h=a.doc,p=a.Axis,x=a.createElement,t=a.defaultOptions,q=a.discardElement,z=a.charts,k=a.css,m=a.defined,f=a.each,e=a.extend,c=a.find,b=a.fireEvent,w=a.grep,l=a.isNumber,D=a.isObject,H=a.isString,C=a.Legend,K=a.marginNames,g=a.merge,y=a.objectEach,J=a.Pointer,A=a.pick,d=a.pInt,v=a.removeEvent,B=a.seriesTypes,u=a.splat,n=a.svg,P=a.syncTimeout,M=a.win,O=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,d,b){return new O(a,d,b)},e(O.prototype,{callbacks:[],getArgs:function(){var a=[].slice.call(arguments);(H(a[0])||a[0].nodeName)&&(this.renderTo=a.shift()),this.init(a[0],a[1])},init:function(d,b){var c,n,v=d.series,e=d.plotOptions||{};d.series=null,c=g(t,d);for(n in c.plotOptions)c.plotOptions[n].tooltip=e[n]&&g(e[n].tooltip)||void 0;c.tooltip.userOptions=d.chart&&d.chart.forExport&&d.tooltip.userOptions||d.tooltip,c.series=d.series=v,this.userOptions=d,n=(d=c.chart).events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=b,this.isResizing=0,this.options=c,this.axes=[],this.series=[],this.hasCartesianSeries=d.showAxes;var l=this;l.index=z.length,z.push(l),a.chartCount++,n&&y(n,function(a,d){F(l,d,a)}),l.xAxis=[],l.yAxis=[],l.pointCount=l.colorCounter=l.symbolCounter=0,l.firstRender()},initSeries:function(d){var b=this.options.chart;return(b=B[d.type||b.type||b.defaultSeriesType])||a.error(17,!0),(b=new b).init(this,d),b},orderSeries:function(a){var d=this.series;for(a=a||0;a<d.length;a++)d[a]&&(d[a].index=a,d[a].name=d[a].name||"Series "+(d[a].index+1))},isInsidePlot:function(a,d,b){var c=b?d:a;return a=b?a:d,0<=c&&c<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function(d){var A,u,m,c=this.axes,g=this.series,n=this.pointer,v=this.legend,l=this.isDirtyLegend,k=this.hasCartesianSeries,B=this.isDirtyBox,h=this.renderer,y=h.isHidden(),w=[];for(this.setResponsive&&this.setResponsive(!1),a.setAnimation(d,this),y&&this.temporaryDisplay(),this.layOutTitles(),d=g.length;d--;)if((m=g[d]).options.stacking&&(A=!0,m.isDirty)){u=!0;break}if(u)for(d=g.length;d--;)(m=g[d]).options.stacking&&(m.isDirty=!0);f(g,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),l=!0),a.isDirtyData&&b(a,"updatedData")}),l&&v.options.enabled&&(v.render(),this.isDirtyLegend=!1),A&&this.getStacks(),k&&f(c,function(a){a.updateNames(),a.setScale()}),this.getMargins(),k&&(f(c,function(a){a.isDirty&&(B=!0)}),f(c,function(a){var d=a.min+","+a.max;a.extKey!==d&&(a.extKey=d,w.push(function(){b(a,"afterSetExtremes",e(a.eventArgs,a.getExtremes())),delete a.eventArgs})),(B||A)&&a.redraw()})),B&&this.drawChartBox(),b(this,"predraw"),f(g,function(a){(B||a.isDirty)&&a.visible&&a.redraw(),a.isDirtyData=!1}),n&&n.reset(!0),h.draw(),b(this,"redraw"),b(this,"render"),y&&this.temporaryDisplay(!0),f(w,function(a){a.call()})},get:function(a){function d(d){return d.id===a||d.options&&d.options.id===a}var b,n,g=this.series;for(b=c(this.axes,d)||c(this.series,d),n=0;!b&&n<g.length;n++)b=c(g[n].points||[],d);return b},getAxes:function(){var a=this,b=(d=this.options).xAxis=u(d.xAxis||{}),d=d.yAxis=u(d.yAxis||{});f(b,function(a,d){a.index=d,a.isX=!0}),f(d,function(a,d){a.index=d}),b=b.concat(d),f(b,function(d){new p(a,d)})},getSelectedPoints:function(){var a=[];return f(this.series,function(d){a=a.concat(w(d.data||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return w(this.series,function(a){return a.selected})},setTitle:function(a,d,b){var v,c=this,n=c.options;v=n.title=g({style:{color:"#333333",fontSize:n.isStock?"16px":"18px"}},n.title,a),n=n.subtitle=g({style:{color:"#666666"}},n.subtitle,d),f([["title",a,v],["subtitle",d,n]],function(a,d){var b=a[0],g=c[b],n=a[1];a=a[2],g&&n&&(c[b]=g=g.destroy()),a&&!g&&(c[b]=c.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,class:"highcharts-"+b,zIndex:a.zIndex||4}).add(),c[b].update=function(a){c.setTitle(!d&&a,d&&a)},c[b].css(a.style))}),c.layOutTitles(b)},layOutTitles:function(a){var b,d=0,c=this.renderer,g=this.spacingBox;f(["title","subtitle"],function(a){var b=this[a],n=this.options[a];a="title"===a?-3:n.verticalAlign?0:d+2;var v;b&&(v=n.style.fontSize,v=c.fontMetrics(v,b).b,b.css({width:(n.width||g.width+n.widthAdjust)+"px"}).align(e({y:a+v},n),!1,"spacingBox"),n.floating||n.verticalAlign||(d=Math.ceil(d+b.getBBox(n.useHTML).height)))},this),b=this.titleOffset!==d,this.titleOffset=d,!this.isDirtyBox&&b&&(this.isDirtyBox=b,this.hasRendered&&A(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var b=(d=this.options.chart).width,d=d.height,c=this.renderTo;m(b)||(this.containerWidth=a.getStyle(c,"width")),m(d)||(this.containerHeight=a.getStyle(c,"height")),this.chartWidth=Math.max(0,b||this.containerWidth||600),this.chartHeight=Math.max(0,a.relativeLength(d,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(d){var b=this.renderTo;if(d)for(;b&&b.style;)b.hcOrigStyle&&(a.css(b,b.hcOrigStyle),delete b.hcOrigStyle),b.hcOrigDetached&&(h.body.removeChild(b),b.hcOrigDetached=!1),b=b.parentNode;else for(;b&&b.style&&(h.body.contains(b)||b.parentNode||(b.hcOrigDetached=!0,h.body.appendChild(b)),("none"===a.getStyle(b,"display",!1)||b.hcOricDetached)&&(b.hcOrigStyle={display:b.style.display,height:b.style.height,overflow:b.style.overflow},d={display:"block",overflow:"hidden"},b!==this.renderTo&&(d.height=0),a.css(b,d),b.offsetWidth||b.style.setProperty("display","block","important")),(b=b.parentNode)!==h.body););},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var b,n,v,c=this.options,g=c.chart;b=this.renderTo;var u,A=a.uniqueKey();b||(this.renderTo=b=g.renderTo),H(b)&&(this.renderTo=b=h.getElementById(b)),b||a.error(13,!0),n=d(r(b,"data-highcharts-chart")),l(n)&&z[n]&&z[n].hasRendered&&z[n].destroy(),r(b,"data-highcharts-chart",this.index),b.innerHTML="",g.skipClone||b.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,v=this.chartHeight,u=e({position:"relative",overflow:"hidden",width:n+"px",height:v+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},g.style),this.container=b=x("div",{id:A},u,b),this._cursor=b.style.cursor,this.renderer=new(a[g.renderer]||a.Renderer)(b,n,v,null,g.forExport,c.exporting&&c.exporting.allowHTML),this.setClassName(g.className),this.renderer.setStyle(g.style),this.renderer.chartIndex=this.index},getMargins:function(a){var d=this.spacing,b=this.margin,c=this.titleOffset;this.resetMargins(),c&&!m(b[0])&&(this.plotTop=Math.max(this.plotTop,c+this.options.title.margin+d[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(b,d),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.adjustPlotArea&&this.adjustPlotArea(),a||this.getAxisMargins()},getAxisMargins:function(){var a=this,d=a.axisOffset=[0,0,0,0],b=a.margin;a.hasCartesianSeries&&f(a.axes,function(a){a.visible&&a.getOffset()}),f(K,function(c,g){m(b[g])||(a[c]+=d[g])}),a.setChartSize()},reflow:function(d){var b=this,c=b.options.chart,g=b.renderTo,n=m(c.width)&&m(c.height),v=c.width||a.getStyle(g,"width");c=c.height||a.getStyle(g,"height"),g=d?d.target:M;n||b.isPrinting||!v||!c||g!==M&&g!==h||(v===b.containerWidth&&c===b.containerHeight||(clearTimeout(b.reflowTimeout),b.reflowTimeout=P(function(){b.container&&b.setSize(void 0,void 0,!1)},d?100:0)),b.containerWidth=v,b.containerHeight=c)},initReflow:function(){var d,a=this;d=F(M,"resize",function(d){a.reflow(d)}),F(a,"destroy",d)},setSize:function(d,c,g){var n=this,v=n.renderer;n.isResizing+=1,a.setAnimation(g,n),n.oldChartHeight=n.chartHeight,n.oldChartWidth=n.chartWidth,void 0!==d&&(n.options.chart.width=d),void 0!==c&&(n.options.chart.height=c),n.getChartSize(),((d=v.globalAnimation)?E:k)(n.container,{width:n.chartWidth+"px",height:n.chartHeight+"px"},d),n.setChartSize(!0),v.setSize(n.chartWidth,n.chartHeight,g),f(n.axes,function(a){a.isDirty=!0,a.setScale()}),n.isDirtyLegend=!0,n.isDirtyBox=!0,n.layOutTitles(),n.getMargins(),n.redraw(g),n.oldChartHeight=null,b(n,"resize"),P(function(){n&&b(n,"endResize",null,function(){--n.isResizing})},G(d).duration)},setChartSize:function(a){var l,A,u,k,d=this.inverted,b=this.renderer,c=this.chartWidth,g=this.chartHeight,n=this.options.chart,v=this.spacing,e=this.clipOffset;this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=A=Math.round(this.plotTop),this.plotWidth=u=Math.max(0,Math.round(c-l-this.marginRight)),this.plotHeight=k=Math.max(0,Math.round(g-A-this.marginBottom)),this.plotSizeX=d?k:u,this.plotSizeY=d?u:k,this.plotBorderWidth=n.plotBorderWidth||0,this.spacingBox=b.spacingBox={x:v[3],y:v[0],width:c-v[3]-v[1],height:g-v[0]-v[2]},this.plotBox=b.plotBox={x:l,y:A,width:u,height:k},c=2*Math.floor(this.plotBorderWidth/2),d=Math.ceil(Math.max(c,e[3])/2),b=Math.ceil(Math.max(c,e[0])/2),this.clipBox={x:d,y:b,width:Math.floor(this.plotSizeX-Math.max(c,e[1])/2-d),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(c,e[2])/2-b))},a||f(this.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this,d=a.options.chart;f(["margin","spacing"],function(b){var c=d[b],g=D(c)?c:[c,c,c,c];f(["Top","Right","Bottom","Left"],function(c,n){a[b][n]=A(d[b+c],g[n])})}),f(K,function(d,b){a[d]=A(a.margin[b],a.spacing[b])}),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,k,a=this.options.chart,d=this.renderer,b=this.chartWidth,c=this.chartHeight,g=this.chartBackground,n=this.plotBackground,v=this.plotBorder,l=this.plotBGImage,A=a.backgroundColor,u=a.plotBackgroundColor,f=a.plotBackgroundImage,B=this.plotLeft,m=this.plotTop,h=this.plotWidth,y=this.plotHeight,w=this.plotBox,C=this.clipRect,p=this.clipBox,t="animate";g||(this.chartBackground=g=d.rect().addClass("highcharts-background").add(),t="attr"),k=(e=a.borderWidth||0)+(a.shadow?8:0),A={fill:A||"none"},(e||g["stroke-width"])&&(A.stroke=a.borderColor,A["stroke-width"]=e),g.attr(A).shadow(a.shadow),g[t]({x:k/2,y:k/2,width:b-k-e%2,height:c-k-e%2,r:a.borderRadius}),t="animate",n||(t="attr",this.plotBackground=n=d.rect().addClass("highcharts-plot-background").add()),n[t](w),n.attr({fill:u||"none"}).shadow(a.plotShadow),f&&(l?l.animate(w):this.plotBGImage=d.image(f,B,m,h,y).add()),C?C.animate({width:p.width,height:p.height}):this.clipRect=d.clipRect(p),t="animate",v||(t="attr",this.plotBorder=v=d.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),v.attr({stroke:a.plotBorderColor,"stroke-width":a.plotBorderWidth||0,fill:"none"}),v[t](v.crisp({x:B,y:m,width:h,height:y},-v.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var b,g,n,a=this,d=a.options.chart,c=a.options.series;f(["inverted","angular","polar"],function(v){for(b=B[d.type||d.defaultSeriesType],n=d[v]||b&&b.prototype[v],g=c&&c.length;!n&&g--;)(b=B[c[g].type])&&b.prototype[v]&&(n=!0);a[v]=n})},linkSeries:function(){var a=this,d=a.series;f(d,function(a){a.linkedSeries.length=0}),f(d,function(d){var b=d.options.linkedTo;H(b)&&(b=":previous"===b?a.series[d.index-1]:a.get(b))&&b.linkedParent!==d&&(b.linkedSeries.push(d),d.linkedParent=b,d.visible=A(d.options.visible,b.options.visible,d.visible))})},renderSeries:function(){f(this.series,function(a){a.translate(),a.render()})},renderLabels:function(){var a=this,b=a.options.labels;b.items&&f(b.items,function(c){var g=e(b.style,c.style),n=d(g.left)+a.plotLeft,v=d(g.top)+a.plotTop+12;delete g.left,delete g.top,a.renderer.text(c.html,n,v).attr({zIndex:2}).css(g).add()})},render:function(){var c,g,n,a=this.axes,d=this.renderer,b=this.options;this.setTitle(),this.legend=new C(this,b.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),b=this.plotWidth,c=this.plotHeight=Math.max(this.plotHeight-21,0),f(a,function(a){a.setScale()}),this.getAxisMargins(),g=1.1<b/this.plotWidth,n=1.05<c/this.plotHeight,(g||n)&&(f(a,function(a){(a.horiz&&g||!a.horiz&&n)&&a.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&f(a,function(a){a.visible&&a.render()}),this.seriesGroup||(this.seriesGroup=d.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(a){var d=this;(a=g(!0,this.options.credits,a)).enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(M.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),this.credits.update=function(a){d.credits=d.credits.destroy(),d.addCredits(a)})},destroy:function(){var e,d=this,c=d.axes,g=d.series,n=d.container,l=n&&n.parentNode;for(b(d,"destroy"),d.renderer.forExport?a.erase(z,d):z[d.index]=void 0,a.chartCount--,d.renderTo.removeAttribute("data-highcharts-chart"),v(d),e=c.length;e--;)c[e]=c[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=g.length;e--;)g[e]=g[e].destroy();f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(a){var b=d[a];b&&b.destroy&&(d[a]=b.destroy())}),n&&(n.innerHTML="",v(n),l&&q(n)),y(d,function(a,b){delete d[b]})},isReadyToRender:function(){var a=this;return!(!n&&M==M.top&&"complete"!==h.readyState)||(h.attachEvent("onreadystatechange",function(){h.detachEvent("onreadystatechange",a.firstRender),"complete"===h.readyState&&a.firstRender()}),!1)},firstRender:function(){var a=this,d=a.options;a.isReadyToRender()&&(a.getContainer(),b(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),f(d.series||[],function(d){a.initSeries(d)}),a.linkSeries(),b(a,"beforeRender"),J&&(a.pointer=new J(a,d)),a.render(),!a.renderer.imgCount&&a.onload&&a.onload(),a.temporaryDisplay(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(a){a&&void 0!==this.index&&a.apply(this,[this])},this),b(this,"load"),b(this,"render"),m(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(L),function(a){var F,E=a.each,G=a.extend,r=a.erase,h=a.fireEvent,p=a.format,x=a.isArray,t=a.isNumber,q=a.pick,z=a.removeEvent;a.Point=F=function(){},a.Point.prototype={init:function(a,m,f){return this.series=a,this.color=a.color,this.applyOptions(m,f),a.options.colorByPoint?(m=a.options.colors||a.chart.options.colors,this.color=this.color||m[a.colorCounter],m=m.length,f=a.colorCounter,a.colorCounter++,a.colorCounter===m&&(a.colorCounter=0)):f=a.colorIndex,this.colorIndex=q(this.colorIndex,f),a.chart.pointCount++,this},applyOptions:function(a,m){var f=this.series,e=f.options.pointValKey||f.pointValKey;return a=F.prototype.optionsToObject.call(this,a),G(this,a),this.options=this.options?G(this.options,a):a,a.group&&delete this.group,e&&(this.y=this[e]),this.isNull=q(this.isValid&&!this.isValid(),null===this.x||!t(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===m&&f.xAxis&&f.xAxis.hasNames&&(this.x=f.xAxis.nameToX(this)),void 0===this.x&&f&&(this.x=void 0===m?f.autoIncrement(this):m),this},optionsToObject:function(a){var k={},f=this.series,e=f.options.keys,c=e||f.pointArrayMap||["y"],b=c.length,h=0,l=0;if(t(a)||null===a)k[c[0]]=a;else if(x(a))for(!e&&a.length>b&&("string"===(f=typeof a[0])?k.name=a[0]:"number"===f&&(k.x=a[0]),h++);l<b;)e&&void 0===a[h]||(k[c[l]]=a[h]),h++,l++;else"object"==typeof a&&(k=a,a.dataLabels&&(f._hasPointLabels=!0),a.marker&&(f._hasPointMarkers=!0));return k},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var e,m=(a=this.series).zones,a=a.zoneAxis||"y",f=0;for(e=m[f];this[a]>=e.value;)e=m[++f];return e&&e.color&&!this.options.color&&(this.color=e.color),e},destroy:function(){var f,a=this.series.chart,m=a.hoverPoints;a.pointCount--,m&&(this.setState(),r(m,this),m.length||(a.hoverPoints=null)),this===a.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(z(this),this.destroyElements()),this.legendItem&&a.legend.destroyItem(this);for(f in this)this[f]=null},destroyElements:function(){for(var m,a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],f=6;f--;)m=a[f],this[m]&&(this[m]=this[m].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var k=this.series,f=k.tooltipOptions,e=q(f.valueDecimals,""),c=f.valuePrefix||"",b=f.valueSuffix||"";return E(k.pointArrayMap||["y"],function(f){f="{point."+f,(c||b)&&(a=a.replace(f+"}",c+f+"}"+b)),a=a.replace(f+"}",f+":,."+e+"f}")}),p(a,{point:this,series:this.series})},firePointEvent:function(a,m,f){var e=this,c=this.series.options;(c.point.events[a]||e.options&&e.options.events&&e.options.events[a])&&this.importEvents(),"click"===a&&c.allowPointSelect&&(f=function(a){e.select&&e.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),h(this,a,m,f)},visible:!0}}(L),function(a){var F=a.addEvent,E=a.animObject,G=a.arrayMax,r=a.arrayMin,h=a.correctFloat,p=a.Date,x=a.defaultOptions,t=a.defaultPlotOptions,q=a.defined,z=a.each,k=a.erase,m=a.extend,f=a.fireEvent,e=a.grep,c=a.isArray,b=a.isNumber,w=a.isString,l=a.merge,D=a.objectEach,H=a.pick,C=a.removeEvent,K=a.splat,g=a.SVGElement,y=a.syncTimeout,J=a.win;a.Series=a.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,d){var c,n,b=this,g=a.series;b.chart=a,b.options=d=b.setOptions(d),b.linkedSeries=[],b.bindAxes(),m(b,{name:d.name,state:"",visible:!1!==d.visible,selected:!0===d.selected}),c=d.events,D(c,function(a,d){F(b,d,a)}),(c&&c.click||d.point&&d.point.events&&d.point.events.click||d.allowPointSelect)&&(a.runTrackerClick=!0),b.getColor(),b.getSymbol(),z(b.parallelArrays,function(a){b[a+"Data"]=[]}),b.setData(d.data,!1),b.isCartesian&&(a.hasCartesianSeries=!0),g.length&&(n=g[g.length-1]),b._i=H(n&&n._i,-1)+1,a.orderSeries(this.insert(g))},insert:function(a){var c,d=this.options.index;if(b(d)){for(c=a.length;c--;)if(d>=H(a[c].options.index,a[c]._i)){a.splice(c+1,0,this);break}-1===c&&a.unshift(this),c+=1}else a.push(this);return H(c,a.length-1)},bindAxes:function(){var g,b=this,d=b.options,c=b.chart;z(b.axisTypes||[],function(v){z(c[v],function(a){g=a.options,(d[v]===g.index||void 0!==d[v]&&d[v]===g.id||void 0===d[v]&&0===g.index)&&(b.insert(a.series),b[v]=a,a.isDirty=!0)}),b[v]||b.optionalAxis===v||a.error(18,!0)})},updateParallelArrays:function(a,d){var c=a.series,g=arguments,e=b(d)?function(b){var g="y"===b&&c.toYData?c.toYData(a):a[b];c[b+"Data"][d]=g}:function(a){Array.prototype[d].apply(c[a+"Data"],Array.prototype.slice.call(g,2))};z(c.parallelArrays,e)},autoIncrement:function(){var b,a=this.options,d=this.xIncrement,c=a.pointIntervalUnit;d=H(d,a.pointStart,0);return this.pointInterval=b=H(this.pointInterval,a.pointInterval,1),c&&(a=new p(d),"day"===c?a=+a[p.hcSetDate](a[p.hcGetDate]()+b):"month"===c?a=+a[p.hcSetMonth](a[p.hcGetMonth]()+b):"year"===c&&(a=+a[p.hcSetFullYear](a[p.hcGetFullYear]()+b)),b=a-d),this.xIncrement=d+b,d},setOptions:function(a){var d=this.chart,b=d.options,c=b.plotOptions,g=(d.userOptions||{}).plotOptions||{},n=c[this.type];return this.userOptions=a,d=l(n,c.series,a),this.tooltipOptions=l(x.tooltip,x.plotOptions.series&&x.plotOptions.series.tooltip,x.plotOptions[this.type].tooltip,b.tooltip.userOptions,c.series&&c.series.tooltip,c[this.type].tooltip,a.tooltip),this.stickyTracking=H(a.stickyTracking,g[this.type]&&g[this.type].stickyTracking,g.series&&g.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||d.stickyTracking),null===n.marker&&delete d.marker,this.zoneAxis=d.zoneAxis,a=this.zones=(d.zones||[]).slice(),!d.negativeColor&&!d.negativeFillColor||d.zones||a.push({value:d[this.zoneAxis+"Threshold"]||d.threshold||0,className:"highcharts-negative",color:d.negativeColor,fillColor:d.negativeFillColor}),a.length&&q(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor}),d},getCyclic:function(a,d,b){var c,g=this.chart,n=this.userOptions,e=a+"Index",v=a+"Counter",l=b?b.length:H(g.options.chart[a+"Count"],g[a+"Count"]);d||(c=H(n[e],n["_"+e]),q(c)||(g.series.length||(g[v]=0),n["_"+e]=c=g[v]%l,g[v]+=1),b&&(d=b[c])),void 0!==c&&(this[e]=c),this[a]=d},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||t[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,setData:function(g,d,e,l){var A,v=this,n=v.points,f=n&&n.length||0,k=v.options,m=v.chart,B=null,h=v.xAxis,y=k.turboThreshold,C=this.xData,p=this.yData,t=(A=v.pointArrayMap)&&A.length;if(g=g||[],A=g.length,d=H(d,!0),!1!==l&&A&&f===A&&!v.cropped&&!v.hasGroupedData&&v.visible)z(g,function(a,d){n[d].update&&a!==k.data[d]&&n[d].update(a,!1,null,!1)});else{if(v.xIncrement=null,v.colorCounter=0,z(this.parallelArrays,function(a){v[a+"Data"].length=0}),y&&A>y){for(e=0;null===B&&e<A;)B=g[e],e++;if(b(B))for(e=0;e<A;e++)C[e]=this.autoIncrement(),p[e]=g[e];else if(c(B))if(t)for(e=0;e<A;e++)B=g[e],C[e]=B[0],p[e]=B.slice(1,t+1);else for(e=0;e<A;e++)B=g[e],C[e]=B[0],p[e]=B[1];else a.error(12)}else for(e=0;e<A;e++)void 0!==g[e]&&(B={series:v},v.pointClass.prototype.applyOptions.apply(B,[g[e]]),v.updateParallelArrays(B,e));for(p&&w(p[0])&&a.error(14,!0),v.data=[],v.options.data=v.userOptions.data=g,e=f;e--;)n[e]&&n[e].destroy&&n[e].destroy();h&&(h.minRange=h.userMinRange),v.isDirty=m.isDirtyBox=!0,v.isDirtyData=!!n,e=!1}"point"===k.legendType&&(this.processData(),this.generatePoints()),d&&m.redraw(e)},processData:function(b){var e,d=this.xData,c=this.yData,g=d.length;e=0;var n,l,A,f=this.xAxis;A=(k=this.options).cropThreshold;var C,p,m=this.getExtremesFromAll||k.getExtremesFromAll,h=this.isCartesian,k=f&&f.val2lin,y=f&&f.isLog,w=this.requireSorting;if(h&&!this.isDirty&&!f.isDirty&&!this.yAxis.isDirty&&!b)return!1;for(f&&(b=f.getExtremes(),C=b.min,p=b.max),h&&this.sorted&&!m&&(!A||g>A||this.forceCrop)&&(d[g-1]<C||d[0]>p?(d=[],c=[]):(d[0]<C||d[g-1]>p)&&(e=this.cropData(this.xData,this.yData,C,p),d=e.xData,c=e.yData,e=e.start,n=!0)),A=d.length||1;--A;)0<(g=y?k(d[A])-k(d[A-1]):d[A]-d[A-1])&&(void 0===l||g<l)?l=g:0>g&&w&&(a.error(15),w=!1);this.cropped=n,this.cropStart=e,this.processedXData=d,this.processedYData=c,this.closestPointRange=l},cropData:function(a,d,b,c){var l,g=a.length,n=0,e=g,v=H(this.cropShoulder,1);for(l=0;l<g;l++)if(a[l]>=b){n=Math.max(0,l-v);break}for(b=l;b<g;b++)if(a[b]>c){e=b+v;break}return{xData:a.slice(n,e),yData:d.slice(n,e),start:n,end:e}},generatePoints:function(){var c,k,h,w,d=(a=this.options).data,b=this.data,g=this.processedXData,n=this.processedYData,e=this.pointClass,l=g.length,f=this.cropStart||0,m=this.hasGroupedData,a=a.keys,y=[];for(b||m||(b=[],b.length=d.length,b=this.data=b),a&&m&&(this.options.keys=!1),w=0;w<l;w++)k=f+w,m?(h=(new e).init(this,[g[w]].concat(K(n[w]))),h.dataGroup=this.groupMap[w]):(h=b[k])||void 0===d[k]||(b[k]=h=(new e).init(this,d[k],g[w])),h&&(h.index=k,y[w]=h);if(this.options.keys=a,b&&(l!==(c=b.length)||m))for(w=0;w<c;w++)w!==f||m||(w+=l),b[w]&&(b[w].destroyElements(),b[w].plotX=void 0);this.data=b,this.points=y},getExtremes:function(a){var e,A,m,h,y,d=this.yAxis,g=this.processedXData,l=[],n=0,f=(e=this.xAxis.getExtremes()).min,k=e.max;for(e=(a=a||this.stackedYData||this.processedYData||[]).length,y=0;y<e;y++)if(m=g[y],h=a[y],A=(b(h,!0)||c(h))&&(!d.positiveValuesOnly||h.length||0<h),m=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(g[y+1]||m)>=f&&(g[y-1]||m)<=k,A&&m)if(A=h.length)for(;A--;)null!==h[A]&&(l[n++]=h[A]);else l[n++]=h;this.dataMin=r(l),this.dataMax=G(l)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var C,p,t,D,a=this.options,d=a.stacking,c=this.xAxis,g=c.categories,e=this.yAxis,n=this.points,l=n.length,f=!!this.modifyValue,k=a.pointPlacement,m="between"===k||b(k),y=a.threshold,w=a.startFromThreshold?y:0,J=Number.MAX_VALUE;for("between"===k&&(k=.5),b(k)&&(k*=H(a.pointRange||c.pointRange)),a=0;a<l;a++){var r=n[a],x=r.x,K=r.y;p=r.low;var E,z=d&&e.stacks[(this.negStacks&&K<(w?0:y)?"-":"")+this.stackKey];e.positiveValuesOnly&&null!==K&&0>=K&&(r.isNull=!0),r.plotX=C=h(Math.min(Math.max(-1e5,c.translate(x,0,0,0,1,k,"flags"===this.type)),1e5)),d&&this.visible&&!r.isNull&&z&&z[x]&&(D=this.getStackIndicator(D,x,this.index),E=z[x],K=E.points[D.key],p=K[0],K=K[1],p===w&&D.key===z[x].base&&(p=H(y,e.min)),e.positiveValuesOnly&&0>=p&&(p=null),r.total=r.stackTotal=E.total,r.percentage=E.total&&r.y/E.total*100,r.stackY=K,E.setOffset(this.pointXOffset||0,this.barW||0)),r.yBottom=q(p)?e.translate(p,0,1,0,1):null,f&&(K=this.modifyValue(K,r)),r.plotY=p="number"==typeof K&&1/0!==K?Math.min(Math.max(-1e5,e.translate(K,0,1,0,1)),1e5):void 0,r.isInside=void 0!==p&&0<=p&&p<=e.len&&0<=C&&C<=c.len,r.clientX=m?h(c.translate(x,0,0,0,1,k)):C,r.negative=r.y<(y||0),r.category=g&&void 0!==g[r.x]?g[r.x]:r.x,r.isNull||(void 0!==t&&(J=Math.min(J,Math.abs(C-t))),t=C),r.zone=this.zones.length&&r.getZone()}this.closestPointRangePx=J},getValidPoints:function(a,d){var b=this.chart;return e(a||this.points||[],function(a){return!(d&&!b.isInsidePlot(a.plotX,a.plotY,b.inverted))&&!a.isNull})},setClip:function(a){var d=this.chart,b=this.options,c=d.renderer,g=d.inverted,n=this.clipBox,e=n||d.clipBox,l=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,e.height,b.xAxis,b.yAxis].join(),f=d[l],k=d[l+"m"];f||(a&&(e.width=0,g&&(e.x=d.plotSizeX),d[l+"m"]=k=c.clipRect(g?d.plotSizeX+99:-99,g?-d.plotLeft:-d.plotTop,99,g?d.chartWidth:d.chartHeight)),d[l]=f=c.clipRect(e),f.count={length:0}),a&&!f.count[this.index]&&(f.count[this.index]=!0,f.count.length+=1),!1!==b.clip&&(this.group.clip(a||n?f:d.clipRect),this.markerGroup.clip(k),this.sharedClipKey=l),a||(f.count[this.index]&&(delete f.count[this.index],--f.count.length),0===f.count.length&&l&&d[l]&&(n||(d[l]=d[l].destroy()),d[l+"m"]&&(d[l+"m"]=d[l+"m"].destroy())))},animate:function(a){var c,d=this.chart,b=E(this.options.animation);a?this.setClip(b):(c=this.sharedClipKey,(a=d[c])&&a.animate({width:d.plotSizeX,x:0},b),d[c+"m"]&&d[c+"m"].animate({width:d.plotSizeX+99,x:0},b),this.animate=null)},afterAnimate:function(){this.setClip(),f(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var b,c,g,n,l,f,k,h,a=this.points,d=this.chart,e=this.options.marker,m=this[this.specialGroup]||this.markerGroup,y=H(e.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=2*e.radius);if(!1!==e.enabled||this._hasPointMarkers)for(b=0;b<a.length;b++)c=a[b],n=c.graphic,l=c.marker||{},f=!!c.marker,g=y&&void 0===l.enabled||l.enabled,k=c.isInside,g&&!c.isNull?(g=H(l.symbol,this.symbol),c.hasImage=0===g.indexOf("url"),h=this.markerAttribs(c,c.selected&&"select"),n?n[k?"show":"hide"](!0).animate(h):k&&(0<h.width||c.hasImage)&&(c.graphic=n=d.renderer.symbol(g,h.x,h.y,h.width,h.height,f?l:e).add(m)),n&&n.attr(this.pointAttribs(c,c.selected&&"select")),n&&n.addClass(c.getClassName(),!0)):n&&(c.graphic=n.destroy())},markerAttribs:function(a,d){var b=this.options.marker,c=a.marker||{},g=H(c.radius,b.radius);return d&&(b=b.states[d],d=c.states&&c.states[d],g=H(d&&d.radius,b&&b.radius,g+(b&&b.radiusPlus||0))),a.hasImage&&(g=0),a={x:Math.floor(a.plotX)-g,y:a.plotY-g},g&&(a.width=a.height=2*g),a},pointAttribs:function(a,d){var b=this.options.marker,g=(c=a&&a.options)&&c.marker||{},n=this.color,e=c&&c.color,l=a&&a.color,c=H(g.lineWidth,b.lineWidth);return a=a&&a.zone&&a.zone.color,n=e||a||l||n,a=g.fillColor||b.fillColor||n,n=g.lineColor||b.lineColor||n,d&&(b=b.states[d],d=g.states&&g.states[d]||{},c=H(d.lineWidth,b.lineWidth,c+H(d.lineWidthPlus,b.lineWidthPlus,0)),a=d.fillColor||b.fillColor||a,n=d.lineColor||b.lineColor||n),{stroke:n,"stroke-width":c,fill:a}},destroy:function(){var c,e,l,m,a=this,d=a.chart,b=/AppleWebKit\/533/.test(J.navigator.userAgent),n=a.data||[];for(f(a,"destroy"),C(a),z(a.axisTypes||[],function(d){(m=a[d])&&m.series&&(k(m.series,a),m.isDirty=m.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),e=n.length;e--;)(l=n[e])&&l.destroy&&l.destroy();a.points=null,clearTimeout(a.animationTimeout),D(a,function(a,d){a instanceof g&&!a.survive&&(c=b&&"group"===d?"hide":"destroy",a[c]())}),d.hoverSeries===a&&(d.hoverSeries=null),k(d.series,a),d.orderSeries(),D(a,function(d,b){delete a[b]})},getGraphPath:function(a,d,b){var l,k,c=this,g=c.options,e=g.step,v=[],f=[];return a=a||c.points,(l=a.reversed)&&a.reverse(),(e={right:1,center:2}[e]||e&&3)&&l&&(e=4-e),!g.connectNulls||d||b||(a=this.getValidPoints(a)),z(a,function(n,l){var m=n.plotX,u=n.plotY,A=a[l-1];(n.leftCliff||A&&A.rightCliff)&&!b&&(k=!0),n.isNull&&!q(d)&&0<l?k=!g.connectNulls:n.isNull&&!d?k=!0:(0===l||k?l=["M",n.plotX,n.plotY]:c.getPointSpline?l=c.getPointSpline(a,n,l):e?(l=1===e?["L",A.plotX,u]:2===e?["L",(A.plotX+m)/2,A.plotY,"L",(A.plotX+m)/2,u]:["L",m,A.plotY]).push("L",m,u):l=["L",m,u],f.push(n.x),e&&f.push(n.x),v.push.apply(v,l),k=!1)}),v.xMap=f,c.graphPath=v},drawGraph:function(){var a=this,d=this.options,b=(this.gappedPath||this.getGraphPath).call(this),c=[["graph","highcharts-graph",d.lineColor||this.color,d.dashStyle]];z(this.zones,function(b,g){c.push(["zone-graph-"+g,"highcharts-graph highcharts-zone-graph-"+g+" "+(b.className||""),b.color||a.color,b.dashStyle||d.dashStyle])}),z(c,function(c,g){var e=c[0],n=a[e];n?(n.endX=a.preventGraphAnimation?null:b.xMap,n.animate({d:b})):b.length&&(a[e]=a.chart.renderer.path(b).addClass(c[1]).attr({zIndex:1}).add(a.group),n={stroke:c[2],"stroke-width":d.lineWidth,fill:a.fillGraph&&a.color||"none"},c[3]?n.dashstyle=c[3]:"square"!==d.linecap&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),n=a[e].attr(n).shadow(2>g&&d.shadow)),n&&(n.startX=b.xMap,n.isArea=b.isArea)})},applyZones:function(){var g,e,f,w,C,t,D,q,J,a=this,d=this.chart,b=d.renderer,c=this.zones,l=this.clips||[],k=this.graph,m=this.area,h=Math.max(d.chartWidth,d.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],p=d.inverted,r=!1;c.length&&(k||m)&&y&&void 0!==y.min&&(C=y.reversed,t=y.horiz,k&&k.hide(),m&&m.hide(),w=y.getExtremes(),z(c,function(c,n){g=C?t?d.plotWidth:0:t?0:y.toPixels(w.min),g=Math.min(Math.max(H(e,g),0),h),e=Math.min(Math.max(Math.round(y.toPixels(H(c.value,w.max),!0)),0),h),r&&(g=e=y.toPixels(w.max)),D=Math.abs(g-e),q=Math.min(g,e),J=Math.max(g,e),y.isXAxis?(f={x:p?J:q,y:0,width:D,height:h},t||(f.x=d.plotHeight-f.x)):(f={x:0,y:p?J:q,width:h,height:D},t&&(f.y=d.plotWidth-f.y)),p&&b.isVML&&(f=y.isXAxis?{x:0,y:C?q:J,height:f.width,width:d.chartWidth}:{x:f.y-d.plotLeft-d.spacingBox.x,y:0,width:f.height,height:d.chartHeight}),l[n]?l[n].animate(f):(l[n]=b.clipRect(f),k&&a["zone-graph-"+n].clip(l[n]),m&&a["zone-area-"+n].clip(l[n])),r=c.value>w.max}),this.clips=l)},invertGroups:function(a){function d(){z(["group","markerGroup"],function(d){b[d]&&(c.renderer.isVML&&b[d].attr({width:b.yAxis.len,height:b.xAxis.len}),b[d].width=b.yAxis.len,b[d].height=b.xAxis.len,b[d].invert(a))})}var g,b=this,c=b.chart;b.xAxis&&(g=F(c,"resize",d),F(b,"destroy",g),d(),b.invertGroups=d)},plotGroup:function(a,d,b,c,g){var e=this[a],l=!e;return l&&(this[a]=e=this.chart.renderer.g().attr({zIndex:c||.1}).add(g)),e.addClass("highcharts-"+d+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(q(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(e.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),e.attr({visibility:b})[l?"attr":"animate"](this.getPlotBox()),e},getPlotBox:function(){var a=this.chart,d=this.xAxis,b=this.yAxis;return a.inverted&&(d=b,b=this.xAxis),{translateX:d?d.left:a.plotLeft,translateY:b?b.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var b,a=this,d=a.chart,c=a.options,g=!!a.animate&&d.renderer.isSVG&&E(c.animation).duration,e=a.visible?"inherit":"hidden",l=c.zIndex,f=a.hasRendered,k=d.seriesGroup,m=d.inverted;b=a.plotGroup("group","series",e,l,k),a.markerGroup=a.plotGroup("markerGroup","markers",e,l,k),g&&a.animate(!0),b.inverted=!!a.isCartesian&&m,a.drawGraph&&(a.drawGraph(),a.applyZones()),a.drawDataLabels&&a.drawDataLabels(),a.visible&&a.drawPoints(),a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker(),a.invertGroups(m),!1===c.clip||a.sharedClipKey||f||b.clip(d.clipRect),g&&a.animate(),f||(a.animationTimeout=y(function(){a.afterAnimate()},g)),a.isDirty=!1,a.hasRendered=!0},redraw:function(){var a=this.chart,d=this.isDirty||this.isDirtyData,b=this.group,c=this.xAxis,g=this.yAxis;b&&(a.inverted&&b.attr({width:a.plotWidth,height:a.plotHeight}),b.animate({translateX:H(c&&c.left,a.plotLeft),translateY:H(g&&g.top,a.plotTop)})),this.translate(),this.render(),d&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(a,d){var b=this.xAxis,c=this.yAxis,g=this.chart.inverted;return this.searchKDTree({clientX:g?b.len-a.chartY+b.pos:a.chartX-b.pos,plotY:g?c.len-a.chartX+c.pos:a.chartY-c.pos},d)},buildKDTree:function(){function a(b,c,g){var e,n;if(n=b&&b.length)return e=d.kdAxisArray[c%g],b.sort(function(a,d){return a[e]-d[e]}),n=Math.floor(n/2),{point:b[n],left:a(b.slice(0,n),c+1,g),right:a(b.slice(n+1),c+1,g)}}this.buildingKdTree=!0;var d=this,b=-1<d.options.findNearestPointBy.indexOf("y")?2:1;delete d.kdTree,y(function(){d.kdTree=a(d.getValidPoints(null,!d.directTouch),b,b),d.buildingKdTree=!1},d.options.kdNow?0:1)},searchKDTree:function(a,d){function b(a,d,n,f){var m,h,v=d.point,k=c.kdAxisArray[n%f],y=v;return h=q(a[g])&&q(v[g])?Math.pow(a[g]-v[g],2):null,m=q(a[e])&&q(v[e])?Math.pow(a[e]-v[e],2):null,m=(h||0)+(m||0),v.dist=q(m)?Math.sqrt(m):Number.MAX_VALUE,v.distX=q(h)?Math.sqrt(h):Number.MAX_VALUE,k=a[k]-v[k],m=0>k?"left":"right",h=0>k?"right":"left",d[m]&&(m=b(a,d[m],n+1,f),y=m[l]<y[l]?m:v),d[h]&&Math.sqrt(k*k)<y[l]&&(a=b(a,d[h],n+1,f),y=a[l]<y[l]?a:y),y}var c=this,g=this.kdAxisArray[0],e=this.kdAxisArray[1],l=d?"distX":"dist";if(d=-1<c.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return b(a,this.kdTree,d,d)}})}(L),function(a){var F=a.Axis,E=a.Chart,G=a.correctFloat,r=a.defined,h=a.destroyObjectProperties,p=a.each,x=a.format,t=a.objectEach,q=a.pick,z=a.Series;a.StackItem=function(a,m,f,e,c){var b=a.chart.inverted;this.axis=a,this.isNegative=f,this.options=m,this.x=e,this.total=null,this.points={},this.stack=c,this.rightCliff=this.leftCliff=0,this.alignOptions={align:m.align||(b?f?"left":"right":"center"),verticalAlign:m.verticalAlign||(b?"middle":f?"bottom":"top"),y:q(m.y,b?4:f?14:-6),x:q(m.x,b?f?-6:6:0)},this.textAlign=m.textAlign||(b?f?"right":"left":"center")},a.StackItem.prototype={destroy:function(){h(this,this.axis)},render:function(a){var k=this.options,f=(f=k.format)?x(f,this):k.formatter.call(this);this.label?this.label.attr({text:f,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(f,null,null,k.useHTML).css(k.style).attr({align:this.textAlign,rotation:k.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,m){var e=(f=this.axis).chart,c=f.translate(f.usePercentage?100:this.total,0,0,0,1),f=f.translate(0);f=Math.abs(c-f);a=e.xAxis[0].translate(this.x)+a,c=this.getStackBox(e,this,a,c,m,f),(m=this.label)&&(m.align(this.alignOptions,null,c),c=m.alignAttr,m[!1===this.options.crop||e.isInsidePlot(c.x,c.y)?"show":"hide"](!0))},getStackBox:function(a,m,f,e,c,b){var k=m.axis.reversed,l=a.inverted;return a=a.plotHeight,m=m.isNegative&&!k||!m.isNegative&&k,{x:l?m?e:e-b:f,y:l?a-f-c:m?a-e-b:a-e,width:l?b:c,height:l?c:b}}},E.prototype.getStacks=function(){var a=this;p(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),p(a.series,function(k){!k.options.stacking||!0!==k.visible&&!1!==a.options.chart.ignoreHiddenSeries||(k.stackKey=k.type+q(k.options.stack,""))})},F.prototype.buildStacks=function(){var e,a=this.series,m=q(this.options.reversedStacks,!0),f=a.length;if(!this.isXAxis){for(this.usePercentage=!1,e=f;e--;)a[m?e:f-e-1].setStackedPoints();for(e=0;e<f;e++)a[e].modifyStacks()}},F.prototype.renderStackTotals=function(){var a=this.chart,m=a.renderer,f=this.stacks,e=this.stackTotalGroup;e||(this.stackTotalGroup=e=m.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),e.translate(a.plotLeft,a.plotTop),t(f,function(a){t(a,function(a){a.render(e)})})},F.prototype.resetStacks=function(){var a=this,m=a.stacks;a.isXAxis||t(m,function(f){t(f,function(e,c){e.touched<a.stacksTouched?(e.destroy(),delete f[c]):(e.total=null,e.cum=null)})})},F.prototype.cleanStacks=function(){var a;this.isXAxis||(this.oldStacks&&(a=this.stacks=this.oldStacks),t(a,function(a){t(a,function(a){a.cum=a.total})}))},z.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var J,A,d,v,B,u,n,k=this.processedXData,m=this.processedYData,f=[],e=m.length,b=(c=this.options).threshold,h=c.startFromThreshold?b:0,l=c.stack,c=c.stacking,p=this.stackKey,t="-"+p,C=this.negStacks,x=this.yAxis,g=x.stacks,y=x.oldStacks;for(x.stacksTouched+=1,B=0;B<e;B++)u=k[B],n=m[B],J=this.getStackIndicator(J,u,this.index),v=J.key,d=(A=C&&n<(h?0:b))?t:p,g[d]||(g[d]={}),g[d][u]||(y[d]&&y[d][u]?(g[d][u]=y[d][u],g[d][u].total=null):g[d][u]=new a.StackItem(x,x.options.stackLabels,A,u,l)),d=g[d][u],null!==n&&(d.points[v]=d.points[this.index]=[q(d.cum,h)],r(d.cum)||(d.base=v),d.touched=x.stacksTouched,0<J.index&&!1===this.singleStacks&&(d.points[v][0]=d.points[this.index+","+u+",0"][0])),"percent"===c?(A=A?p:t,C&&g[A]&&g[A][u]?(A=g[A][u],d.total=A.total=Math.max(A.total,d.total)+Math.abs(n)||0):d.total=G(d.total+(Math.abs(n)||0))):d.total=G(d.total+(n||0)),d.cum=q(d.cum,h)+(n||0),null!==n&&(d.points[v].push(d.cum),f[B]=d.cum);"percent"===c&&(x.usePercentage=!0),this.stackedYData=f,x.oldStacks={}}},z.prototype.modifyStacks=function(){var c,a=this,m=a.stackKey,f=a.yAxis.stacks,e=a.processedXData,b=a.options.stacking;a[b+"Stacker"]&&p([m,"-"+m],function(k){for(var m,h,l=e.length;l--;)m=e[l],c=a.getStackIndicator(c,m,a.index,k),(h=(m=f[k]&&f[k][m])&&m.points[c.key])&&a[b+"Stacker"](h,m,l)})},z.prototype.percentStacker=function(a,m,f){m=m.total?100/m.total:0,a[0]=G(a[0]*m),a[1]=G(a[1]*m),this.stackedYData[f]=a[1]},z.prototype.getStackIndicator=function(a,m,f,e){return!r(a)||a.x!==m||e&&a.key!==e?a={x:m,index:0,key:e}:a.index++,a.key=[f,m,a.index].join(),a}}(L),function(a){var F=a.addEvent,E=a.animate,G=a.Axis,r=a.createElement,h=a.css,p=a.defined,x=a.each,t=a.erase,q=a.extend,z=a.fireEvent,k=a.inArray,m=a.isNumber,f=a.isObject,e=a.isArray,c=a.merge,b=a.objectEach,w=a.pick,l=a.Point,D=a.Series,H=a.seriesTypes,C=a.setAnimation,K=a.splat;q(a.Chart.prototype,{addSeries:function(a,b,c){var g,d=this;return a&&(b=w(b,!0),z(d,"addSeries",{options:a},function(){g=d.initSeries(a),d.isDirtyLegend=!0,d.linkSeries(),b&&d.redraw(c)})),g},addAxis:function(a,b,e,l){var d=b?"xAxis":"yAxis",g=this.options;return a=c(a,{index:this[d].length,isX:b}),b=new G(this,a),g[d]=K(g[d]||{}),g[d].push(a),w(e,!0)&&this.redraw(l),b},showLoading:function(a){var b=this,c=b.options,g=b.loadingDiv,d=c.loading,e=function(){g&&h(g,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};g||(b.loadingDiv=g=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,g),F(b,"redraw",e)),g.className="highcharts-loading",b.loadingSpan.innerHTML=a||c.lang.loading,h(g,q(d.style,{zIndex:10})),h(b.loadingSpan,d.labelStyle),b.loadingShown||(h(g,{opacity:0,display:""}),E(g,{opacity:d.style.opacity||.5},{duration:d.showDuration||0})),b.loadingShown=!0,e()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",E(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){h(b,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function(a,e,l){var h,u,g=this,d={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},f=a.chart,n=[];f&&(c(!0,g.options.chart,f),"className"in f&&g.setClassName(f.className),("inverted"in f||"polar"in f)&&(g.propFromSeries(),h=!0),"alignTicks"in f&&(h=!0),b(f,function(a,d){-1!==k("chart."+d,g.propsRequireUpdateSeries)&&(u=!0),-1!==k(d,g.propsRequireDirtyBox)&&(g.isDirtyBox=!0)}),"style"in f&&g.renderer.setStyle(f.style)),a.colors&&(this.options.colors=a.colors),a.plotOptions&&c(!0,this.options.plotOptions,a.plotOptions),b(a,function(a,b){g[b]&&"function"==typeof g[b].update?g[b].update(a,!1):"function"==typeof g[d[b]]&&g[d[b]](a),"chart"!==b&&-1!==k(b,g.propsRequireUpdateSeries)&&(u=!0)}),x("xAxis yAxis zAxis series colorAxis pane".split(" "),function(d){a[d]&&(x(K(a[d]),function(a,b){(b=p(a.id)&&g.get(a.id)||g[d][b])&&b.coll===d&&(b.update(a,!1),l&&(b.touched=!0)),!b&&l&&("series"===d?g.addSeries(a,!1).touched=!0:"xAxis"!==d&&"yAxis"!==d||(g.addAxis(a,"xAxis"===d,!1).touched=!0))}),l&&x(g[d],function(a){a.touched?delete a.touched:n.push(a)}))}),x(n,function(a){a.remove(!1)}),h&&x(g.axes,function(a){a.update({},!1)}),u&&x(g.series,function(a){a.update({},!1)}),a.loading&&c(!0,g.options.loading,a.loading),h=f&&f.width,f=f&&f.height,m(h)&&h!==g.chartWidth||m(f)&&f!==g.chartHeight?g.setSize(h,f):w(e,!0)&&g.redraw()},setSubtitle:function(a){this.setTitle(void 0,a)}}),q(l.prototype,{update:function(a,b,c,e){function d(){g.applyOptions(a),null===g.y&&k&&(g.graphic=k.destroy()),f(a,!0)&&(k&&k.element&&a&&a.marker&&void 0!==a.marker.symbol&&(g.graphic=k.destroy()),a&&a.dataLabels&&g.dataLabel&&(g.dataLabel=g.dataLabel.destroy()),g.connector&&(g.connector=g.connector.destroy())),n=g.index,l.updateParallelArrays(g,n),h.data[n]=f(h.data[n],!0)||f(a,!0)?g.options:a,l.isDirty=l.isDirtyData=!0,!l.fixedBox&&l.hasCartesianSeries&&(m.isDirtyBox=!0),"point"===h.legendType&&(m.isDirtyLegend=!0),b&&m.redraw(c)}var n,g=this,l=g.series,k=g.graphic,m=l.chart,h=l.options;b=w(b,!0),!1===e?d():g.firePointEvent("update",{options:a},d)},remove:function(a,b){this.series.removePoint(k(this,this.series.data),a,b)}}),q(D.prototype,{addPoint:function(a,b,c,e){var k,m,y,A,d=this.options,g=this.data,l=this.chart,f=(f=this.xAxis)&&f.hasNames&&f.names,n=d.data,h=this.xData;if(b=w(b,!0),k={series:this},this.pointClass.prototype.applyOptions.apply(k,[a]),A=k.x,y=h.length,this.requireSorting&&A<h[y-1])for(m=!0;y&&h[y-1]>A;)y--;this.updateParallelArrays(k,"splice",y,0,0),this.updateParallelArrays(k,y),f&&k.name&&(f[A]=k.name),n.splice(y,0,a),m&&(this.data.splice(y,0,null),this.processData()),"point"===d.legendType&&this.generatePoints(),c&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(k,"shift"),n.shift())),this.isDirtyData=this.isDirty=!0,b&&l.redraw(e)},removePoint:function(a,b,c){var g=this,d=g.data,e=d[a],l=g.points,f=g.chart,n=function(){l&&l.length===d.length&&l.splice(a,1),d.splice(a,1),g.options.data.splice(a,1),g.updateParallelArrays(e||{series:g},"splice",a,1),e&&e.destroy(),g.isDirty=!0,g.isDirtyData=!0,b&&f.redraw()};C(c,f),b=w(b,!0),e?e.firePointEvent("remove",null,n):n()},remove:function(a,b,c){function g(){d.destroy(),e.isDirtyLegend=e.isDirtyBox=!0,e.linkSeries(),w(a,!0)&&e.redraw(b)}var d=this,e=d.chart;!1!==c?z(d,"remove",null,g):g()},update:function(a,b){var n,g=this,e=g.chart,d=g.userOptions,l=g.oldType||g.type,f=a.type||d.type||e.options.chart.type,k=H[l].prototype,m=["group","markerGroup","dataLabelsGroup"],h=["navigatorSeries","baseSeries"],y=g.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(a).toString())return this.setData(a.data,b);(f&&f!==l||void 0!==a.zIndex)&&(m.length=0),h=m.concat(h),x(h,function(a){h[a]=g[a],delete g[a]}),a=c(d,y,{index:g.index,pointStart:g.xData[0]},{data:g.options.data},a),g.remove(!1,null,!1);for(n in k)g[n]=void 0;q(g,H[f||l].prototype),x(h,function(a){g[a]=h[a]}),g.init(e,a),g.oldType=l,e.linkSeries(),w(b,!0)&&e.redraw(!1)}}),q(G.prototype,{update:function(a,b){var g=this.chart;a=g.options[this.coll][this.options.index]=c(this.userOptions,a),this.destroy(!0),this.init(g,q(a,{events:void 0})),g.isDirtyBox=!0,w(b,!0)&&g.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,g=this.series,d=g.length;d--;)g[d]&&g[d].remove(!1);t(b.axes,this),t(b[c],this),e(b.options[c])?b.options[c].splice(this.options.index,1):delete b.options[c],x(b[c],function(a,d){a.options.index=d}),this.destroy(),b.isDirtyBox=!0,w(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})}(L),function(a){var F=a.color,E=a.each,G=a.map,r=a.pick,h=a.Series;(0,a.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(h){var w,D,p=[],q=[],x=this.xAxis,k=this.yAxis,m=k.stacks[this.stackKey],f={},e=this.index,c=k.series,b=c.length,l=r(k.options.reversedStacks,!0)?1:-1;if(h=h||this.points,this.options.stacking){for(D=0;D<h.length;D++)h[D].leftNull=h[D].rightNull=null,f[h[D].x]=h[D];a.objectEach(m,function(a,b){null!==a.total&&q.push(b)}),q.sort(function(a,b){return a-b}),w=G(c,function(){return this.visible}),E(q,function(a,c){var g,y,h=0;if(f[a]&&!f[a].isNull)p.push(f[a]),E([-1,1],function(k){var h=1===k?"rightNull":"leftNull",d=0,v=m[q[c+k]];if(v)for(D=e;0<=D&&D<b;)(g=v.points[D])||(D===e?f[a][h]=!0:w[D]&&(y=m[a].points[D])&&(d-=y[1]-y[0])),D+=l;f[a][1===k?"rightCliff":"leftCliff"]=d});else{for(D=e;0<=D&&D<b;){if(g=m[a].points[D]){h=g[1];break}D+=l}h=k.translate(h,0,1,0,1),p.push({isNull:!0,plotX:x.translate(a,0,0,0,1),x:a,plotY:h,yBottom:h})}})}return p},getGraphPath:function(a){var m,f,w,C,p=h.prototype.getGraphPath,x=(q=this.options).stacking,k=this.yAxis,e=[],c=[],b=this.index,l=k.stacks[this.stackKey],D=q.threshold,H=k.getThreshold(q.threshold),q=q.connectNulls||"percent"===x,K=function(g,f,m){var h=a[g];g=x&&l[h.x].points[b];var d=h[m+"Null"]||0;m=h[m+"Cliff"]||0;var v,y;h=!0;m||d?(v=(d?g[0]:g[1])+m,y=g[0]+m,h=!!d):!x&&a[f]&&a[f].isNull&&(v=y=D),void 0!==v&&(c.push({plotX:w,plotY:null===v?H:k.getThreshold(v),isNull:h,isCliff:!0}),e.push({plotX:w,plotY:null===y?H:k.getThreshold(y),doCurve:!1}))};for(a=a||this.points,x&&(a=this.getStackPoints(a)),m=0;m<a.length;m++)f=a[m].isNull,w=r(a[m].rectPlotX,a[m].plotX),C=r(a[m].yBottom,H),(!f||q)&&(q||K(m,m-1,"left"),f&&!x&&q||(c.push(a[m]),e.push({x:m,plotX:w,plotY:C})),q||K(m,m+1,"right"));return m=p.call(this,c,!0,!0),e.reversed=!0,(f=p.call(this,e,!0,!0)).length&&(f[0]="L"),f=m.concat(f),p=p.call(this,c,!1,q),f.xMap=m.xMap,this.areaPath=f,p},drawGraph:function(){this.areaPath=[],h.prototype.drawGraph.apply(this);var a=this,p=this.areaPath,q=this.options,z=[["area","highcharts-area",this.color,q.fillColor]];E(this.zones,function(k,m){z.push(["zone-area-"+m,"highcharts-area highcharts-zone-area-"+m+" "+k.className,k.color||a.color,k.fillColor||q.fillColor])}),E(z,function(k){var m=k[0],f=a[m];f?(f.endX=a.preventGraphAnimation?null:p.xMap,f.animate({d:p})):(f=a[m]=a.chart.renderer.path(p).addClass(k[1]).attr({fill:r(k[3],F(k[2]).setOpacity(r(q.fillOpacity,.75)).get()),zIndex:0}).add(a.group),f.isArea=!0),f.startX=p.xMap,f.shiftUnit=q.step?2:1})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})}(L),function(a){var F=a.pick;(a=a.seriesType)("spline","line",{},{getPointSpline:function(a,G,r){var h=G.plotX,p=G.plotY,x=a[r-1];r=a[r+1];var t,q,z,k;if(x&&!x.isNull&&!1!==x.doCurve&&!G.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!G.isCliff){a=x.plotY,z=r.plotX;var m=0;q=(1.5*p+a)/2.5,k=(1.5*p+(r=r.plotY))/2.5,(z=(1.5*h+z)/2.5)!==(t=(1.5*h+x.plotX)/2.5)&&(m=(k-q)*(z-h)/(z-t)+p-k),k+=m,(q+=m)>a&&q>p?(q=Math.max(a,p),k=2*p-q):q<a&&q<p&&(q=Math.min(a,p),k=2*p-q),k>r&&k>p?(k=Math.max(r,p),q=2*p-k):k<r&&k<p&&(k=Math.min(r,p),q=2*p-k),G.rightContX=z,G.rightContY=k}return G=["C",F(x.rightContX,x.plotX),F(x.rightContY,x.plotY),F(t,h),F(q,p),h,p],x.rightContX=x.rightContY=null,G}})}(L),function(a){var F=a.seriesTypes.area.prototype;(0,a.seriesType)("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:F.getStackPoints,getGraphPath:F.getGraphPath,drawGraph:F.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})}(L),function(a){var F=a.animObject,E=a.color,G=a.each,r=a.extend,h=a.isNumber,p=a.merge,x=a.pick,t=a.Series,q=a.seriesType,z=a.svg;q("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){t.prototype.init.apply(this,arguments);var a=this,m=a.chart;m.hasRendered&&G(m.series,function(f){f.type===a.type&&(f.isDirty=!0)})},getColumnMetrics:function(){var b,a=this,m=a.options,f=a.xAxis,e=a.yAxis,c=f.reversed,h={},l=0;!1===m.grouping?l=1:G(a.chart.series,function(c){var k,g=c.options,f=c.yAxis;c.type!==a.type||!c.visible&&a.chart.options.chart.ignoreHiddenSeries||e.len!==f.len||e.pos!==f.pos||(g.stacking?(b=c.stackKey,void 0===h[b]&&(h[b]=l++),k=h[b]):!1!==g.grouping&&(k=l++),c.columnIndex=k)});var p=Math.min(Math.abs(f.transA)*(f.ordinalSlope||m.pointRange||f.closestPointRange||f.tickInterval||1),f.len),t=p*m.groupPadding,C=(p-2*t)/(l||1);m=Math.min(m.maxPointWidth||f.len,x(m.pointWidth,C*(1-2*m.pointPadding)));return a.columnMetrics={width:m,offset:(C-m)/2+(t+((a.columnIndex||0)+(c?1:0))*C-p/2)*(c?-1:1)},a.columnMetrics},crispCol:function(a,m,f,e){var c=this.chart,k=-((b=this.borderWidth)%2?.5:0),b=b%2?.5:1;return c.inverted&&c.renderer.isVML&&(b+=1),this.options.crisp&&(f=Math.round(a+f)+k,a=Math.round(a)+k,f-=a),e=Math.round(m+e)+b,k=.5>=Math.abs(m)&&.5<e,m=Math.round(m)+b,e-=m,k&&e&&(--m,e+=1),{x:a,y:m,width:f,height:e}},translate:function(){var a=this,m=a.chart,f=a.options,e=a.dense=2>a.closestPointRange*a.xAxis.transA,c=(e=a.borderWidth=x(f.borderWidth,e?0:1),a.yAxis),b=f.threshold,h=a.translatedThreshold=c.getThreshold(b),l=x(f.minPointLength,5),p=a.getColumnMetrics(),q=p.width,C=a.barW=Math.max(q,1+2*e),r=a.pointXOffset=p.offset;m.inverted&&(h-=.5),f.pointPadding&&(C=Math.ceil(C)),t.prototype.translate.apply(a),G(a.points,function(g){var w,e=x(g.yBottom,h),f=999+Math.abs(e),k=(f=Math.min(Math.max(-f,g.plotY),c.len+f),g.plotX+r),d=C,v=Math.min(f,e),u=Math.max(f,e)-v;l&&Math.abs(u)<l&&(u=l,w=!c.reversed&&!g.negative||c.reversed&&g.negative,g.y===b&&a.dataMax<=b&&c.min<b&&(w=!w),v=Math.abs(v-h)>l?e-l:h-(w?l:0)),g.barX=k,g.pointWidth=q,g.tooltipPos=m.inverted?[c.len+c.pos-m.plotLeft-f,a.xAxis.len-k-d/2,u]:[k+d/2,f+c.pos-m.plotTop,u],g.shapeType="rect",g.shapeArgs=a.crispCol.apply(a,g.isNull?[k,h,d,0]:[k,v,d,u])})},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(a,m){var e,f=this.options;e=(c=this.pointAttrToOptions||{}).stroke||"borderColor";var b=c["stroke-width"]||"borderWidth",h=a&&a.color||this.color,l=a&&a[e]||f[e]||this.color||h,k=a&&a[b]||f[b]||this[b]||0,c=f.dashStyle;return a&&this.zones.length&&(h=a.getZone(),h=a.options.color||h&&h.color||this.color),m&&(a=p(f.states[m],a.options.states&&a.options.states[m]||{}),m=a.brightness,h=a.color||void 0!==m&&E(h).brighten(a.brightness).get()||h,l=a[e]||l,k=a[b]||k,c=a.dashStyle||c),e={fill:h,stroke:l,"stroke-width":k},c&&(e.dashstyle=c),e},drawPoints:function(){var b,a=this,m=this.chart,f=a.options,e=m.renderer,c=f.animationLimit||250;G(a.points,function(k){var l=k.graphic;h(k.plotY)&&null!==k.y?(b=k.shapeArgs,l?l[m.pointCount<c?"animate":"attr"](p(b)):k.graphic=l=e[k.shapeType](b).add(k.group||a.group),f.borderRadius&&l.attr({r:f.borderRadius}),l.attr(a.pointAttribs(k,k.selected&&"select")).shadow(f.shadow,null,f.stacking&&!f.borderRadius),l.addClass(k.getClassName(),!0)):l&&(k.graphic=l.destroy())})},animate:function(a){var l,m=this,f=this.yAxis,e=m.options,c=this.chart.inverted,b={},h=c?"translateX":"translateY";z&&(a?(b.scaleY=.001,a=Math.min(f.pos+f.len,Math.max(f.pos,f.toPixels(e.threshold))),c?b.translateX=a-f.len:b.translateY=a,m.group.attr(b)):(l=m.group.attr(h),m.group.animate({scaleY:1},r(F(m.options.animation),{step:function(a,c){b[h]=l+c.pos*(f.pos-l),m.group.attr(b)}})),m.animate=null))},remove:function(){var a=this,h=a.chart;h.hasRendered&&G(h.series,function(f){f.type===a.type&&(f.isDirty=!0)}),t.prototype.remove.apply(a,arguments)}})}(L),function(a){(a=a.seriesType)("bar","column",null,{inverted:!0})}(L),function(a){var F=a.Series;(a=a.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&F.prototype.drawGraph.call(this)}})}(L),function(a){var F=a.deg2rad,E=a.isNumber,G=a.pick,r=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var k,m,a=this.options,p=this.chart,x=2*(a.slicedOffset||0),t=p.plotWidth-2*x,q=(p=p.plotHeight-2*x,a.center),z=(q=[G(q[0],"50%"),G(q[1],"50%"),a.size||"100%",a.innerSize||0],Math.min(t,p));for(k=0;4>k;++k)m=q[k],a=2>k||2===k&&/%$/.test(m),q[k]=r(m,[t,p,z,q[2]][k])+(a?x:0);return q[3]>q[2]&&(q[3]=q[2]),q},getStartAndEndRadians:function(a,p){return a=E(a)?a:0,p=E(p)&&p>a&&360>p-a?p:a+360,{start:F*(a+-90),end:F*(p+-90)}}}}(L),function(a){var F=a.addEvent,E=a.CenteredSeriesMixin,G=a.defined,r=a.each,h=a.extend,p=E.getStartAndEndRadians,x=a.inArray,t=a.noop,q=a.pick,z=a.Point,k=a.Series,m=a.seriesType,f=a.setAnimation;m("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function(a){var c=this,b=c.points,e=c.startAngleRad;a||(r(b,function(a){var b=a.graphic,l=a.shapeArgs;b&&(b.attr({r:a.startR||c.center[3]/2,start:e,end:e}),b.animate({r:l.r,start:l.start,end:l.end},c.options.animation))}),c.animate=null)},updateTotals:function(){var a,l,c=0,b=this.points,f=b.length,m=this.options.ignoreHiddenPoint;for(a=0;a<f;a++)l=b[a],c+=m&&!l.visible?0:l.isNull?0:l.y;for(this.total=c,a=0;a<f;a++)l=b[a],l.percentage=0<c&&(l.visible||!m)?l.y/c*100:0,l.total=c},generatePoints:function(){k.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var f,m,h,t,d,B,c=0,e=(b=this.options).slicedOffset,l=e+(b.borderWidth||0),k=p(b.startAngle,b.endAngle),g=this.startAngleRad=k.start,y=(k=(this.endAngleRad=k.end)-g,this.points),A=b.dataLabels.distance,b=b.ignoreHiddenPoint,v=y.length;for(a||(this.center=a=this.getCenter()),this.getX=function(d,b,c){return h=Math.asin(Math.min((d-a[1])/(a[2]/2+c.labelDistance),1)),a[0]+(b?-1:1)*Math.cos(h)*(a[2]/2+c.labelDistance)},d=0;d<v;d++)(B=y[d]).labelDistance=q(B.options.dataLabels&&B.options.dataLabels.distance,A),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,B.labelDistance),f=g+c*k,b&&!B.visible||(c+=B.percentage/100),m=g+c*k,B.shapeType="arc",B.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1e3*f)/1e3,end:Math.round(1e3*m)/1e3},(h=(m+f)/2)>1.5*Math.PI?h-=2*Math.PI:h<-Math.PI/2&&(h+=2*Math.PI),B.slicedTranslation={translateX:Math.round(Math.cos(h)*e),translateY:Math.round(Math.sin(h)*e)},m=Math.cos(h)*a[2]/2,t=Math.sin(h)*a[2]/2,B.tooltipPos=[a[0]+.7*m,a[1]+.7*t],B.half=h<-Math.PI/2||h>Math.PI/2?1:0,B.angle=h,f=Math.min(l,B.labelDistance/5),B.labelPos=[a[0]+m+Math.cos(h)*B.labelDistance,a[1]+t+Math.sin(h)*B.labelDistance,a[0]+m+Math.cos(h)*f,a[1]+t+Math.sin(h)*f,a[0]+m,a[1]+t,0>B.labelDistance?"center":B.half?"right":"left",h]},drawGraph:null,drawPoints:function(){var b,f,l,m,a=this,c=a.chart.renderer,k=a.options.shadow;k&&!a.shadowGroup&&(a.shadowGroup=c.g("shadow").add(a.group)),r(a.points,function(e){if(f=e.graphic,e.isNull)f&&(e.graphic=f.destroy());else{m=e.shapeArgs,b=e.getTranslate();var p=e.shadowGroup;k&&!p&&(p=e.shadowGroup=c.g("shadow").add(a.shadowGroup)),p&&p.attr(b),l=a.pointAttribs(e,e.selected&&"select"),f?f.setRadialReference(a.center).attr(l).animate(h(m,b)):(e.graphic=f=c[e.shapeType](m).setRadialReference(a.center).attr(b).add(a.group),e.visible||f.attr({visibility:"hidden"}),f.attr(l).attr({"stroke-linejoin":"round"}).shadow(k,p)),f.addClass(e.getClassName())}})},searchPoint:t,sortByAngle:function(a,c){a.sort(function(a,e){return void 0!==a.angle&&(e.angle-a.angle)*c})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:E.getCenter,getSymbol:t},{init:function(){z.prototype.init.apply(this,arguments);var c,a=this;return a.name=q(a.name,"Slice"),c=function(b){a.slice("select"===b.type)},F(a,"select",c),F(a,"unselect",c),a},isValid:function(){return a.isNumber(this.y,!0)&&0<=this.y},setVisible:function(a,c){var b=this,e=b.series,l=e.chart,f=e.options.ignoreHiddenPoint;c=q(c,f),a!==b.visible&&(b.visible=b.options.visible=a=void 0===a?!b.visible:a,e.options.data[x(b,e.data)]=b.options,r(["graphic","dataLabel","connector","shadowGroup"],function(c){b[c]&&b[c][a?"show":"hide"](!0)}),b.legendItem&&l.legend.colorizeItem(b,a),a||"hover"!==b.state||b.setState(""),f&&(e.isDirty=!0),c&&l.redraw())},slice:function(a,c,b){var e=this.series;f(b,e.chart),q(c,!0),this.sliced=this.options.sliced=G(a)?a:!this.sliced,e.options.data[x(this,e.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(a){var c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+a,c.r+a,{innerR:this.shapeArgs.r,start:c.start,end:c.end})}})}(L),function(a){var F=a.addEvent,E=a.arrayMax,G=a.defined,r=a.each,h=a.extend,p=a.format,x=a.map,t=a.merge,q=a.noop,z=a.pick,k=a.relativeLength,m=a.Series,f=a.seriesTypes,e=a.stableSort;a.distribute=function(a,b){function c(a,b){return a.target-b.target}var l,k,f=!0,m=a,h=[];for(k=0,l=a.length;l--;)k+=a[l].size;if(k>b){for(e(a,function(a,b){return(b.rank||0)-(a.rank||0)}),k=l=0;k<=b;)k+=a[l].size,l++;h=a.splice(l-1,a.length)}for(e(a,c),a=x(a,function(a){return{size:a.size,targets:[a.target],align:z(a.align,.5)}});f;){for(l=a.length;l--;)f=a[l],k=(Math.min.apply(0,f.targets)+Math.max.apply(0,f.targets))/2,f.pos=Math.min(Math.max(0,k-f.size*f.align),b-f.size);for(l=a.length,f=!1;l--;)0<l&&a[l-1].pos+a[l-1].size>a[l].pos&&(a[l-1].size+=a[l].size,a[l-1].targets=a[l-1].targets.concat(a[l].targets),a[l-1].align=.5,a[l-1].pos+a[l-1].size>b&&(a[l-1].pos=b-a[l-1].size),a.splice(l,1),f=!0)}l=0,r(a,function(a){var b=0;r(a.targets,function(){m[l].pos=a.pos+b,b+=m[l].size,l++})}),m.push.apply(m,h),e(m,c)},m.prototype.drawDataLabels=function(){var m,h,g,y,b=this,e=b.options,l=e.dataLabels,f=b.points,k=b.hasRendered||0,q=z(l.defer,!!e.animation),A=b.chart.renderer;(l.enabled||b._hasPointLabels)&&(b.dlProcessOptions&&b.dlProcessOptions(l),y=b.plotGroup("dataLabelsGroup","data-labels",q&&!k?"hidden":"visible",l.zIndex||6),q&&(y.attr({opacity:+k}),k||F(b,"afterAnimate",function(){b.visible&&y.show(!0),y[e.animation?"animate":"attr"]({opacity:1},{duration:200})})),h=l,r(f,function(d){var f,u,n,q,k=d.dataLabel,C=d.connector,w=!k;m=d.dlOptions||d.options&&d.options.dataLabels,(f=z(m&&m.enabled,h.enabled)&&!d.isNull)&&(f=!0===function(a,b){var d=b.filter;return!d||(b=d.operator,a=a[d.property],d=d.value,">"===b&&a>d||"<"===b&&a<d||">="===b&&a>=d||"<="===b&&a<=d||"=="===b&&a==d||"==="===b&&a===d)}(d,m||l)),f&&(l=t(h,m),u=d.getLabelConfig(),q=l[d.formatPrefix+"Format"]||l.format,g=G(q)?p(q,u):(l[d.formatPrefix+"Formatter"]||l.formatter).call(u,l),q=l.style,u=l.rotation,q.color=z(l.color,q.color,b.color,"#000000"),"contrast"===q.color&&(d.contrastColor=A.getContrast(d.color||b.color),q.color=l.inside||0>z(d.labelDistance,l.distance)||e.stacking?d.contrastColor:"#000000"),e.cursor&&(q.cursor=e.cursor),n={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:u,padding:l.padding,zIndex:1},a.objectEach(n,function(a,d){void 0===a&&delete n[d]})),!k||f&&G(g)?f&&G(g)&&(k?n.text=g:(k=d.dataLabel=A[u?"text":"label"](g,0,-9999,l.shape,null,null,l.useHTML,null,"data-label")).addClass("highcharts-data-label-color-"+d.colorIndex+" "+(l.className||"")+(l.useHTML?"highcharts-tracker":"")),k.attr(n),k.css(q).shadow(l.shadow),k.added||k.add(y),b.alignDataLabel(d,k,l,null,w)):(d.dataLabel=k=k.destroy(),C&&(d.connector=C.destroy()))}))},m.prototype.alignDataLabel=function(a,b,e,l,f){var p,c=this.chart,m=c.inverted,k=z(a.dlBox&&a.dlBox.centerX,a.plotX,-9999),g=z(a.plotY,-9999),y=b.getBBox(),A=e.rotation,d=e.align,v=this.visible&&(a.series.forceDL||c.isInsidePlot(k,Math.round(g),m)||l&&c.isInsidePlot(k,m?l.x+1:l.y+l.height-1,m)),B="justify"===z(e.overflow,"justify");v&&(p=e.style.fontSize,p=c.renderer.fontMetrics(p,b).b,l=h({x:m?this.yAxis.len-g:k,y:Math.round(m?this.xAxis.len-k:g),width:0,height:0},l),h(e,{width:y.width,height:y.height}),A?(B=!1,k=c.renderer.rotCorr(p,A),k={x:l.x+e.x+l.width/2+k.x,y:l.y+e.y+{top:0,middle:.5,bottom:1}[e.verticalAlign]*l.height},b[f?"attr":"animate"](k).attr({align:d}),g=(A+720)%360,g=180<g&&360>g,"left"===d?k.y-=g?y.height:0:"center"===d?(k.x-=y.width/2,k.y-=y.height/2):"right"===d&&(k.x-=y.width,k.y-=g?0:y.height)):(b.align(e,null,l),k=b.alignAttr),B?a.isLabelJustified=this.justifyDataLabel(b,e,k,y,l,f):z(e.crop,!0)&&(v=c.isInsidePlot(k.x,k.y)&&c.isInsidePlot(k.x+y.width,k.y+y.height)),e.shape&&!A)&&b[f?"attr":"animate"]({anchorX:m?c.plotWidth-a.plotY:a.plotX,anchorY:m?c.plotHeight-a.plotX:a.plotY}),v||(b.attr({y:-9999}),b.placed=!1)},m.prototype.justifyDataLabel=function(a,b,e,f,k,m){var h,p,c=this.chart,l=b.align,g=b.verticalAlign,A=a.box?0:a.padding||0;return 0>(h=e.x+A)&&("right"===l?b.align="left":b.x=-h,p=!0),(h=e.x+f.width-A)>c.plotWidth&&("left"===l?b.align="right":b.x=c.plotWidth-h,p=!0),0>(h=e.y+A)&&("bottom"===g?b.verticalAlign="top":b.y=-h,p=!0),(h=e.y+f.height-A)>c.plotHeight&&("top"===g?b.verticalAlign="bottom":b.y=c.plotHeight-h,p=!0),p&&(a.placed=!m,a.align(b,null,k)),p},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,y,v,B,u,n,M,O,N,F,c=this,b=c.data,f=c.chart,k=c.options.dataLabels,h=z(k.connectorPadding,10),p=z(k.connectorWidth,1),t=f.plotWidth,g=f.plotHeight,q=c.center,A=q[2]/2,d=q[1],x=[[],[]],I=[0,0,0,0];c.visible&&(k.enabled||c._hasPointLabels)&&(r(b,function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)}),m.prototype.drawDataLabels.apply(c),r(b,function(a){a.dataLabel&&a.visible&&(x[a.half].push(a),a.dataLabel._pos=null)}),r(x,function(b,l){var m,p,w,y=b.length,C=[];if(y)for(c.sortByAngle(b,l-.5),0<c.maxLabelDistance&&(m=Math.max(0,d-A-c.maxLabelDistance),p=Math.min(d+A+c.maxLabelDistance,f.plotHeight),r(b,function(a){0<a.labelDistance&&a.dataLabel&&(a.top=Math.max(0,d-A-a.labelDistance),a.bottom=Math.min(d+A+a.labelDistance,f.plotHeight),w=a.dataLabel.getBBox().height||21,a.positionsIndex=C.push({target:a.labelPos[1]-a.top+w/2,size:w,rank:a.y})-1)}),a.distribute(C,p+w-m)),F=0;F<y;F++)e=b[F],p=e.positionsIndex,u=e.labelPos,v=e.dataLabel,N=!1===e.visible?"hidden":"inherit",O=m=u[1],C&&G(C[p])&&(void 0===C[p].pos?N="hidden":(n=C[p].size,O=e.top+C[p].pos)),delete e.positionIndex,M=k.justify?q[0]+(l?-1:1)*(A+e.labelDistance):c.getX(O<e.top+2||O>e.bottom-2?m:O,l,e),v._attr={visibility:N,align:u[6]},v._pos={x:M+k.x+({left:h,right:-h}[u[6]]||0),y:O+k.y-10},u.x=M,u.y=O,z(k.crop,!0)&&(B=v.getBBox().width,m=null,M-B<h?(m=Math.round(B-M+h),I[3]=Math.max(m,I[3])):M+B>t-h&&(m=Math.round(M+B-t+h),I[1]=Math.max(m,I[1])),0>O-n/2?I[0]=Math.max(Math.round(n/2-O),I[0]):O+n/2>g&&(I[2]=Math.max(Math.round(O+n/2-g),I[2])),v.sideOverflow=m)}),0===E(I)||this.verifyDataLabelOverflow(I))&&(this.placeDataLabels(),p&&r(this.points,function(a){var d;y=a.connector,(v=a.dataLabel)&&v._pos&&a.visible&&0<a.labelDistance?(N=v._attr.visibility,(d=!y)&&(a.connector=y=f.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+a.colorIndex).add(c.dataLabelsGroup),y.attr({"stroke-width":p,stroke:k.connectorColor||a.color||"#666666"})),y[d?"attr":"animate"]({d:c.connectorPath(a.labelPos)}),y.attr("visibility",N)):y&&(a.connector=y.destroy())}))},f.pie.prototype.connectorPath=function(a){var b=a.x,c=a.y;return z(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),c,"C",b,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),c,"L",a[2],a[3],"L",a[4],a[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))},this)},f.pie.prototype.alignDataLabel=q,f.pie.prototype.verifyDataLabelOverflow=function(a){var m,b=this.center,c=this.options,e=c.center,f=c.minSize||80,h=null!==c.size;return h||(null!==e[0]?m=Math.max(b[2]-Math.max(a[1],a[3]),f):(m=Math.max(b[2]-a[1]-a[3],f),b[0]+=(a[3]-a[1])/2),null!==e[1]?m=Math.max(Math.min(m,b[2]-Math.max(a[0],a[2])),f):(m=Math.max(Math.min(m,b[2]-a[0]-a[2]),f),b[1]+=(a[0]-a[2])/2),m<b[2]?(b[2]=m,b[3]=Math.min(k(c.innerSize||0,m),m),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):h=!0),h}),f.column&&(f.column.prototype.alignDataLabel=function(a,b,e,f,k){var c=this.chart.inverted,l=a.series,h=a.dlBox||a.shapeArgs,g=z(a.below,a.plotY>z(this.translatedThreshold,l.yAxis.len)),p=z(e.inside,!!this.options.stacking);h&&(0>(f=t(h)).y&&(f.height+=f.y,f.y=0),0<(h=f.y+f.height-l.yAxis.len)&&(f.height-=h),c&&(f={x:l.yAxis.len-f.y-f.height,y:l.xAxis.len-f.x-f.width,width:f.height,height:f.width}),p||(c?(f.x+=g?0:f.width,f.width=0):(f.y+=g?f.height:0,f.height=0))),e.align=z(e.align,!c||p?"center":g?"right":"left"),e.verticalAlign=z(e.verticalAlign,c||p?"middle":g?"top":"bottom"),m.prototype.alignDataLabel.call(this,a,b,e,f,k),a.isLabelJustified&&a.contrastColor&&a.dataLabel.css({color:a.contrastColor})})}(L),function(a){var F=a.Chart,E=a.each,G=a.objectEach,r=a.pick;(a=a.addEvent)(F.prototype,"render",function(){var a=[];E(this.labelCollectors||[],function(h){a=a.concat(h())}),E(this.yAxis||[],function(h){h.options.stackLabels&&!h.options.stackLabels.allowOverlap&&G(h.stacks,function(h){G(h,function(h){a.push(h.label)})})}),E(this.series||[],function(h){var p=h.options.dataLabels,t=h.dataLabelCollections||["dataLabel"];(p.enabled||h._hasPointLabels)&&!p.allowOverlap&&h.visible&&E(t,function(p){E(h.points,function(h){h[p]&&(h[p].labelrank=r(h.labelrank,h.shapeArgs&&h.shapeArgs.height),a.push(h[p]))})})}),this.hideOverlappingLabels(a)}),F.prototype.hideOverlappingLabels=function(a){var r,t,q,z,k,m,f,e,c,h=a.length,b=function(a,b,c,e,f,k,g,h){return!(f>a+c||f+g<a||k>b+e||k+h<b)};for(t=0;t<h;t++)(r=a[t])&&(r.oldOpacity=r.opacity,r.newOpacity=1,r.width||(q=r.getBBox(),r.width=q.width,r.height=q.height));for(a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)}),t=0;t<h;t++)for(q=a[t],r=t+1;r<h;++r)z=a[r],q&&z&&q!==z&&q.placed&&z.placed&&0!==q.newOpacity&&0!==z.newOpacity&&(k=q.alignAttr,m=z.alignAttr,f=q.parentGroup,e=z.parentGroup,c=2*(q.box?0:q.padding||0),k=b(k.x+f.translateX,k.y+f.translateY,q.width-c,q.height-c,m.x+e.translateX,m.y+e.translateY,z.width-c,z.height-c))&&((q.labelrank<z.labelrank?q:z).newOpacity=0);E(a,function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&a.placed&&(c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}}(L),function(a){var H,F=a.addEvent,E=a.Chart,G=a.createElement,r=a.css,h=a.defaultOptions,p=a.defaultPlotOptions,x=a.each,t=a.extend,q=a.fireEvent,z=a.hasTouch,k=a.inArray,m=a.isObject,f=a.Legend,e=a.merge,c=a.pick,b=a.Point,w=a.Series,l=a.seriesTypes,D=a.svg;H=a.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart.pointer,c=function(a){var c=b.getPointFromEvent(a);void 0!==c&&(b.isDirectTouch=!0,c.onMouseOver(a))};x(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)}),a._hasTracking||(x(a.trackerGroups,function(g){a[g]&&(a[g].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(a){b.onTrackerMouseOut(a)}),z&&a[g].on("touchstart",c),a.options.cursor&&a[g].css(r).css({cursor:a.options.cursor}))}),a._hasTracking=!0)},drawTrackerGraph:function(){var n,a=this,b=a.options,c=b.trackByArea,e=[].concat(c?a.areaPath:a.graphPath),f=e.length,l=a.chart,d=l.pointer,k=l.renderer,h=l.options.tooltip.snap,m=a.tracker,p=function(){l.hoverSeries!==a&&a.onMouseOver()},t="rgba(192,192,192,"+(D?1e-4:.002)+")";if(f&&!c)for(n=f+1;n--;)"M"===e[n]&&e.splice(n+1,0,e[n+1]-h,e[n+2],"L"),(n&&"M"===e[n]||n===f)&&e.splice(n,0,"L",e[n-2]+h,e[n-1]);m?m.attr({d:e}):a.graph&&(a.tracker=k.path(e).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:t,fill:c?t:"none","stroke-width":a.graph.strokeWidth()+(c?0:2*h),zIndex:2}).add(a.group),x([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(a){d.onTrackerMouseOut(a)}),b.cursor&&a.css({cursor:b.cursor}),z&&a.on("touchstart",p)}))}},l.column&&(l.column.prototype.drawTracker=H.drawTrackerPoint),l.pie&&(l.pie.prototype.drawTracker=H.drawTrackerPoint),l.scatter&&(l.scatter.prototype.drawTracker=H.drawTrackerPoint),t(f.prototype,{setItemEvents:function(a,b,c){var g=this,f=g.chart.renderer.boxWrapper,l="highcharts-legend-"+(a.series?"point":"series")+"-active";(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover"),f.addClass(l),b.css(g.options.itemHoverStyle)}).on("mouseout",function(){b.css(e(a.visible?g.itemStyle:g.itemHiddenStyle)),f.removeClass(l),a.setState()}).on("click",function(d){var b=function(){a.setVisible&&a.setVisible()};d={browserEvent:d},a.firePointEvent?a.firePointEvent("legendItemClick",d,b):q(a,"legendItemClick",d,b)})},createCheckboxForItem:function(a){a.checkbox=G("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),F(a.checkbox,"click",function(b){q(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}}),h.legend.itemStyle.cursor="pointer",t(E.prototype,{showResetZoom:function(){var a=this,b=h.lang,c=a.options.chart.resetZoomButton,e=c.theme,f=e.states,l="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},e,f&&f.hover).attr({align:c.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,l)},zoomOut:function(){var a=this;q(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,f,g=this.pointer,e=!1;!a||a.resetSelection?(x(this.axes,function(a){b=a.zoom()}),g.initiated=!1):x(a.xAxis.concat(a.yAxis),function(a){var d=a.axis;g[d.isXAxis?"zoomX":"zoomY"]&&(b=d.zoom(a.min,a.max),d.displayBtn&&(e=!0))}),f=this.resetZoomButton,e&&!f?this.showResetZoom():!e&&m(f)&&(this.resetZoomButton=f.destroy()),b&&this.redraw(c(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var f,c=this,e=c.hoverPoints;e&&x(e,function(a){a.setState()}),x("xy"===b?[1,0]:[1],function(b){var m,d=(b=c[b?"xAxis":"yAxis"][0]).horiz,g=a[d?"chartX":"chartY"],e=c[d=d?"mouseDownX":"mouseDownY"],l=(b.pointRange||0)/2,n=b.getExtremes(),k=b.toValue(e-g,!0)+l,h=(e=(h=(l=b.toValue(e+b.len-g,!0)-l)<k)?l:k,k=h?k:l,l=Math.min(n.dataMin,b.toValue(b.toPixels(n.min)-b.minPixelPadding)),Math.max(n.dataMax,b.toValue(b.toPixels(n.max)+b.minPixelPadding)));0<(m=l-e)&&(k+=m,e=l),0<(m=k-h)&&(k=h,e-=m),b.series.length&&e!==n.min&&k!==n.max&&(b.setExtremes(e,k,!1,!1,{trigger:"pan"}),f=!0),c[d]=g}),f&&c.redraw(!1),r(c.container,{cursor:"move"})}}),t(b.prototype,{select:function(a,b){var g=this,e=g.series,f=e.chart;a=c(a,!g.selected),g.firePointEvent(a?"select":"unselect",{accumulate:b},function(){g.selected=g.options.selected=a,e.options.data[k(g,e.data)]=g.options,g.setState(a&&"select"),b||x(f.getSelectedPoints(),function(a){a.selected&&a!==g&&(a.selected=a.options.selected=!1,e.options.data[k(a,e.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series.chart,c=b.pointer;a=a?c.normalize(a):c.getChartCoordinatesFromPoint(this,b.inverted),c.runPointActions(a,this)},onMouseOut:function(){var a=this.series.chart;this.firePointEvent("mouseOut"),x(a.hoverPoints||[],function(a){a.setState()}),a.hoverPoints=a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var b=this,c=e(b.series.options.point,b.options).events;b.events=c,a.objectEach(c,function(a,c){F(b,c,a)}),this.hasImportedEvents=!0}},setState:function(a,b){var C,g=Math.floor(this.plotX),e=this.plotY,f=this.series,l=f.options.states[a]||{},d=p[f.type].marker&&f.options.marker,k=d&&!1===d.enabled,h=d&&d.states&&d.states[a]||{},m=!1===h.enabled,n=f.stateMarkerGraphic,q=this.marker||{},w=f.chart,r=f.halo,D=d&&f.markerAttribs;(a=a||"")===this.state&&!b||this.selected&&"select"!==a||!1===l.enabled||a&&(m||k&&!1===h.enabled)||a&&q.states&&q.states[a]&&!1===q.states[a].enabled||(D&&(C=f.markerAttribs(this,a)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),this.graphic.animate(f.pointAttribs(this,a),c(w.options.chart.animation,l.animation)),C&&this.graphic.animate(C,c(w.options.chart.animation,h.animation,d.animation)),n&&n.hide()):(a&&h&&(d=q.symbol||f.symbol,n&&n.currentSymbol!==d&&(n=n.destroy()),n?n[b?"animate":"attr"]({x:C.x,y:C.y}):d&&(f.stateMarkerGraphic=n=w.renderer.symbol(d,C.x,C.y,C.width,C.height).add(f.markerGroup),n.currentSymbol=d),n&&n.attr(f.pointAttribs(this,a))),n&&(n[a&&w.isInsidePlot(g,e,w.inverted)?"show":"hide"](),n.element.point=this)),(g=l.halo)&&g.size?(r||(f.halo=r=w.renderer.path().add((this.graphic||n).parentGroup)),r[b?"animate":"attr"]({d:this.haloPath(g.size)}),r.attr({class:"highcharts-halo highcharts-color-"+c(this.colorIndex,f.colorIndex)}),r.point=this,r.attr(t({fill:this.color||f.color,"fill-opacity":g.opacity,zIndex:-1},g.attributes))):r&&r.point&&r.point.haloPath&&r.animate({d:r.point.haloPath(0)}),this.state=a)},haloPath:function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}}),t(w.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&q(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,e=b.hoverPoint;b.hoverSeries=null,e&&e.onMouseOut(),this&&a.events.mouseOut&&q(this,"mouseOut"),!c||this.stickyTracking||c.shared&&!this.noSharedTooltip||c.hide(),this.setState()},setState:function(a){var b=this,g=b.options,e=b.graph,f=g.states,l=g.lineWidth;g=0;if(a=a||"",b.state!==a&&(x([b.group,b.markerGroup,b.dataLabelsGroup],function(d){d&&(b.state&&d.removeClass("highcharts-series-"+b.state),a&&d.addClass("highcharts-series-"+a))}),b.state=a,!f[a]||!1!==f[a].enabled)&&(a&&(l=f[a].lineWidth||l+(f[a].lineWidthPlus||0)),e&&!e.dashstyle))for(l={"stroke-width":l},e.animate(l,c(b.chart.options.chart.animation,f[a]&&f[a].animation));b["zone-graph-"+g];)b["zone-graph-"+g].attr(l),g+=1},setVisible:function(a,b){var l,c=this,e=c.chart,f=c.legendItem,d=e.options.chart.ignoreHiddenSeries,k=c.visible;l=(c.visible=a=c.options.visible=c.userOptions.visible=void 0===a?!k:a)?"show":"hide",x(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(a){c[a]&&c[a][l]()}),e.hoverSeries!==c&&(e.hoverPoint&&e.hoverPoint.series)!==c||c.onMouseOut(),f&&e.legend.colorizeItem(c,a),c.isDirty=!0,c.options.stacking&&x(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),x(c.linkedSeries,function(d){d.setVisible(a,!1)}),d&&(e.isDirtyBox=!0),!1!==b&&e.redraw(),q(c,l)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=void 0===a?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),q(this,a?"select":"unselect")},drawTracker:H.drawTrackerGraph})}(L),function(a){var F=a.Chart,E=a.each,G=a.inArray,r=a.isArray,h=a.isObject,p=a.pick,x=a.splat;F.prototype.setResponsive=function(h){var p=this.options.responsive,t=[],k=this.currentResponsive;p&&p.rules&&E(p.rules,function(f){void 0===f._id&&(f._id=a.uniqueKey()),this.matchResponsiveRule(f,t,h)},this);var m=a.merge.apply(0,a.map(t,function(f){return a.find(p.rules,function(a){return a._id===f}).chartOptions}));(t=t.toString()||void 0)!==(k&&k.ruleIds)&&(k&&this.update(k.undoOptions,h),t?(this.currentResponsive={ruleIds:t,mergedOptions:m,undoOptions:this.currentOptions(m)},this.update(m,h)):this.currentResponsive=void 0)},F.prototype.matchResponsiveRule=function(a,h){var t=a.condition;(t.callback||function(){return this.chartWidth<=p(t.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=p(t.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=p(t.minWidth,0)&&this.chartHeight>=p(t.minHeight,0)}).call(this)&&h.push(a._id)},F.prototype.currentOptions=function(p){function t(k,m,f,e){var c;a.objectEach(k,function(a,k){if(!e&&-1<G(k,["series","xAxis","yAxis"]))for(a=x(a),f[k]=[],c=0;c<a.length;c++)m[k][c]&&(f[k][c]={},t(a[c],m[k][c],f[k][c],e+1));else h(a)?(f[k]=r(a)?[]:{},t(a,m[k]||{},f[k],e+1)):f[k]=m[k]||null})}var z={};return t(p,this.options,z,0),z}}(L),function(a){var F=a.addEvent,E=a.Axis,G=a.Chart,r=a.css,h=a.dateFormat,p=a.defined,x=a.each,t=a.extend,q=a.noop,z=a.pick,k=a.timeUnits,m=a.wrap;m(a.Series.prototype,"init",function(a){var e;a.apply(this,Array.prototype.slice.call(arguments,1)),(e=this.xAxis)&&e.options.ordinal&&F(this,"updatedData",function(){delete e.ordinalIndex})}),m(E.prototype,"getTimeTicks",function(a,e,c,b,m,l,t,q){var r,g,w,A,d,f=0,y={},v=[],B=-Number.MAX_VALUE,u=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!l||3>l.length||void 0===c)return a.call(this,e,c,b,m);for(A=l.length,r=0;r<A;r++){if(d=r&&l[r-1]>b,l[r]<c&&(f=r),r===A-1||l[r+1]-l[r]>5*t||d){if(l[r]>B){for(g=a.call(this,e,l[f],l[r],m);g.length&&g[0]<=B;)g.shift();g.length&&(B=g[g.length-1]),v=v.concat(g)}f=r+1}if(d)break}if(a=g.info,q&&a.unitRange<=k.hour){for(r=v.length-1,f=1;f<r;f++)h("%d",v[f])!==h("%d",v[f-1])&&(y[v[f]]="day",w=!0);w&&(y[v[0]]="day"),a.higherRanks=y}if(v.info=a,q&&p(u)){q=a=v.length,r=[];var n;for(w=[];q--;)f=this.translate(v[q]),n&&(w[q]=n-f),r[q]=n=f;for(w.sort(),(w=w[Math.floor(w.length/2)])<.6*u&&(w=null),q=v[a-1]>b?a-1:a,n=void 0;q--;)f=r[q],b=Math.abs(n-f),n&&b<.8*u&&(null===w||b<.8*w)?(y[v[q]]&&!y[v[q+1]]?(b=q+1,n=f):b=q,v.splice(b,1)):n=f}return v}),t(E.prototype,{beforeSetTickPositions:function(){var a,b,m,e=[],c=!1,l=(k=this.getExtremes()).min,h=k.max,t=this.isXAxis&&!!this.options.breaks,k=this.options.ordinal,q=Number.MAX_VALUE,g=this.chart.options.chart.ignoreHiddenSeries;if(b="highcharts-navigator-xaxis"===this.options.className,!this.options.overscroll||this.max!==this.dataMax||this.chart.mouseIsDown&&!b||this.eventArgs&&(!this.eventArgs||"navigator"===this.eventArgs.trigger)||(this.max+=this.options.overscroll,!b&&p(this.userMin)&&(this.min+=this.options.overscroll)),k||t){if(x(this.series,function(b,c){if(!(g&&!1===b.visible||!1===b.takeOrdinalPosition&&!t)&&(e=e.concat(b.processedXData),a=e.length,e.sort(function(a,d){return a-d}),q=Math.min(q,z(b.closestPointRange,q)),a))for(c=a-1;c--;)e[c]===e[c+1]&&e.splice(c,1)}),2<(a=e.length)){for(b=e[1]-e[0],m=a-1;m--&&!c;)e[m+1]-e[m]!==b&&(c=!0);!this.options.keepOrdinalPadding&&(e[0]-l>b||h-e[e.length-1]>b)&&(c=!0)}else this.options.overscroll&&(2===a?q=e[1]-e[0]:1===a?(q=this.options.overscroll,e=[e[0],e[0]+q]):q=this.overscrollPointsRange);c?(this.options.overscroll&&(this.overscrollPointsRange=q,e=e.concat(this.getOverscrollPositions())),this.ordinalPositions=e,b=this.ordinal2lin(Math.max(l,e[0]),!0),m=Math.max(this.ordinal2lin(Math.min(h,e[e.length-1]),!0),1),this.ordinalSlope=h=(h-l)/(m-b),this.ordinalOffset=l-b*h):(this.overscrollPointsRange=z(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=k&&c,this.groupIntervalFactor=null},val2lin:function(a,e){var c=this.ordinalPositions;if(c){var f,l,b=c.length;for(f=b;f--;)if(c[f]===a){l=f;break}for(f=b-1;f--;)if(a>c[f]||0===f){l=f+(a=(a-c[f])/(c[f+1]-c[f]));break}e=e?l:this.ordinalSlope*(l||0)+this.ordinalOffset}else e=a;return e},lin2val:function(a,e){var c=this.ordinalPositions;if(c){var k,b=this.ordinalSlope,f=this.ordinalOffset,l=c.length-1;if(e)0>a?a=c[0]:a>l?a=c[l]:(l=Math.floor(a),k=a-l);else for(;l--;)if(e=b*l+f,a>=e){k=(a-e)/((b=b*(l+1)+f)-e);break}return void 0!==k&&void 0!==c[l]?c[l]+(k?k*(c[l+1]-c[l]):0):a}return a},getExtendedPositions:function(){var m,p,a=this,e=a.chart,c=a.series[0].currentDataGrouping,b=a.ordinalIndex,k=c?c.count+c.unitName:"raw",l=a.options.overscroll,h=a.getExtremes();return b||(b=a.ordinalIndex={}),b[k]||(m={series:[],chart:e,getExtremes:function(){return{min:h.dataMin,max:h.dataMax+l}},options:{ordinal:!0},val2lin:E.prototype.val2lin,ordinal2lin:E.prototype.ordinal2lin},x(a.series,function(b){(p={xAxis:m,xData:b.xData.slice(),chart:e,destroyGroupedData:q}).xData=p.xData.concat(a.getOverscrollPositions()),p.options={dataGrouping:c?{enabled:!0,forced:!0,approximation:"open",units:[[c.unitName,[c.count]]]}:{enabled:!1}},b.processData.apply(p),m.series.push(p)}),a.beforeSetTickPositions.apply(m),b[k]=m.ordinalPositions),b[k]},getOverscrollPositions:function(){var f=this.options.overscroll,e=this.overscrollPointsRange,c=[],b=this.dataMax;if(a.defined(e))for(c.push(b);b<=this.dataMax+f;)b+=e,c.push(b);return c},getGroupIntervalFactor:function(a,e,c){var b,f=(c=c.processedXData).length,l=[];if(!(b=this.groupIntervalFactor)){for(b=0;b<f-1;b++)l[b]=c[b+1]-c[b];l.sort(function(a,b){return a-b}),l=l[Math.floor(f/2)],a=Math.max(a,c[0]),e=Math.min(e,c[f-1]),this.groupIntervalFactor=b=f*l/(e-a)}return b},postProcessTickInterval:function(a){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange||a:a/(e/this.closestPointRange):a}}),E.prototype.ordinal2lin=E.prototype.val2lin,m(G.prototype,"pan",function(a,e){var c=this.xAxis[0],b=c.options.overscroll,f=e.chartX,l=!1;if(c.options.ordinal&&c.series.length){var v,k=this.mouseDownX,h=c.getExtremes(),m=h.dataMax,p=h.min,g=h.max,t=this.hoverPoints,q=c.closestPointRange||c.overscrollPointsRange,A=(k=(k-f)/(c.translationSlope*(c.ordinalSlope||q)),{ordinalPositions:c.getExtendedPositions()}),d=(q=c.lin2val,c.val2lin);A.ordinalPositions?1<Math.abs(k)&&(t&&x(t,function(a){a.setState()}),0>k?(t=A,v=c.ordinalPositions?c:A):(t=c.ordinalPositions?c:A,v=A),A=v.ordinalPositions,m>A[A.length-1]&&A.push(m),this.fixedRange=g-p,(k=c.toFixedRange(null,null,q.apply(t,[d.apply(t,[p,!0])+k,!0]),q.apply(v,[d.apply(v,[g,!0])+k,!0]))).min>=Math.min(h.dataMin,p)&&k.max<=Math.max(m,g)+b&&c.setExtremes(k.min,k.max,!0,!1,{trigger:"pan"}),this.mouseDownX=f,r(this.container,{cursor:"move"})):l=!0}else l=!0;l&&(b&&(c.max=c.dataMax+b),a.apply(this,Array.prototype.slice.call(arguments,1)))})}(L),function(a){function E(a){a.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,G(this.pointArrayMap,["y"]))}var G=a.pick,r=a.wrap,h=a.each,p=a.extend,x=a.isArray,t=a.fireEvent,q=a.Axis,z=a.Series;p(q.prototype,{isInBreak:function(a,h){var f=a.repeat||1/0,e=a.from,c=a.to-a.from;return h=h>=e?(h-e)%f:f-(e-h)%f,a.inclusive?h<=c:h<c&&0!==h},isInAnyBreak:function(a,h){var c,b,k,f=this.options.breaks,e=f&&f.length;if(e){for(;e--;)this.isInBreak(f[e],a)&&(c=!0,b||(b=G(f[e].showPoints,!this.isXAxis)));k=c&&h?c&&!b:c}return k}}),r(q.prototype,"setTickPositions",function(a){if(a.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var c,k=this.tickPositions,f=this.tickPositions.info,e=[];for(c=0;c<k.length;c++)this.isInAnyBreak(k[c])||e.push(k[c]);this.tickPositions=e,this.tickPositions.info=f}}),r(q.prototype,"init",function(a,m,f){var e=this;f.breaks&&f.breaks.length&&(f.ordinal=!1),a.call(this,m,f),a=this.options.breaks,e.isBroken=x(a)&&!!a.length,e.isBroken&&(e.val2lin=function(a){var c,f,b=a;for(f=0;f<e.breakArray.length;f++)if((c=e.breakArray[f]).to<=a)b-=c.len;else{if(c.from>=a)break;if(e.isInBreak(c,a)){b-=a-c.from;break}}return b},e.lin2val=function(a){var b,c;for(c=0;c<e.breakArray.length&&!((b=e.breakArray[c]).from>=a);c++)b.to<a?a+=b.len:e.isInBreak(b,a)&&(a+=b.len);return a},e.setExtremes=function(a,b,e,f,k){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=this.closestPointRange;q.prototype.setExtremes.call(this,a,b,e,f,k)},e.setAxisTranslation=function(a){q.prototype.setAxisTranslation.call(this,a),a=e.options.breaks;var k,m,y,x,b=[],c=[],f=0,p=e.userMin||e.min,r=e.userMax||e.max,g=G(e.pointRangePadding,0);h(a,function(a){m=a.repeat||1/0,e.isInBreak(a,p)&&(p+=a.to%m-p%m),e.isInBreak(a,r)&&(r-=r%m-a.from%m)}),h(a,function(a){for(y=a.from,m=a.repeat||1/0;y-m>p;)y-=m;for(;y<p;)y+=m;for(x=y;x<r;x+=m)b.push({value:x,move:"in"}),b.push({value:x+(a.to-a.from),move:"out",size:a.breakSize})}),b.sort(function(a,d){return a.value===d.value?("in"===a.move?0:1)-("in"===d.move?0:1):a.value-d.value}),k=0,y=p,h(b,function(a){1===(k+="in"===a.move?1:-1)&&"in"===a.move&&(y=a.value),0===k&&(c.push({from:y,to:a.value,len:a.value-y-(a.size||0)}),f+=a.value-y-(a.size||0))}),e.breakArray=c,e.unitLength=r-p-f+g,t(e,"afterBreaks"),e.options.staticScale?e.transA=e.options.staticScale:e.unitLength&&(e.transA*=(r-e.min+g)/e.unitLength),g&&(e.minPixelPadding=e.transA*e.minPointOffset),e.min=p,e.max=r})}),r(z.prototype,"generatePoints",function(a){a.apply(this,function(){return Array.prototype.slice.call(arguments,1)}(arguments));var c,k=this.xAxis,f=this.yAxis,e=this.points,b=e.length,h=this.options.connectNulls;if(k&&f&&(k.options.breaks||f.options.breaks))for(;b--;)c=e[b],null===c.y&&!1===h||!k.isInAnyBreak(c.x,!0)&&!f.isInAnyBreak(c.y,!0)||(e.splice(b,1),this.data[b]&&this.data[b].destroyElements())}),a.Series.prototype.drawBreaks=function(a,m){var c,b,k,l,f=this,e=f.points;a&&h(m,function(m){c=a.breakArray||[],b=a.isXAxis?a.min:G(f.options.threshold,a.min),h(e,function(e){l=G(e["stack"+m.toUpperCase()],e[m]),h(c,function(c){k=!1,b<c.from&&l>c.to||b>c.from&&l<c.from?k="pointBreak":(b<c.from&&l>c.from&&l<c.to||b>c.from&&l>c.to&&l<c.from)&&(k="pointInBreak"),k&&t(a,k,{point:e,brk:c})})})})},a.Series.prototype.gappedPath=function(){var c,k=this.options.gapSize,h=this.points.slice(),f=h.length-1,e=this.yAxis;if(k&&0<f)for("value"!==this.options.gapUnit&&(k*=this.closestPointRange);f--;)h[f+1].x-h[f].x>k&&(c=(h[f].x+h[f+1].x)/2,h.splice(f+1,0,{isNull:!0,x:c}),this.options.stacking&&(c=e.stacks[this.stackKey][c]=new a.StackItem(e,e.options.stackLabels,!1,c,this.stack),c.total=0));return this.getGraphPath(h)},r(a.seriesTypes.column.prototype,"drawPoints",E),r(a.Series.prototype,"drawPoints",E)}(L),function(a){var F=a.arrayMax,E=a.arrayMin,G=a.Axis,r=a.defaultPlotOptions,h=a.defined,p=a.each,x=a.extend,t=a.format,q=a.isNumber,z=a.merge,k=a.pick,m=a.Point,f=a.Tooltip,e=a.wrap,c=a.Series.prototype,b=c.processData,w=c.generatePoints,l=c.destroy,D={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},H={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},C=a.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],K=a.approximations={sum:function(a){var c,b=a.length;if(!b&&a.hasNulls)c=null;else if(b)for(c=0;b--;)c+=a[b];return c},average:function(a){var b=a.length;return a=K.sum(a),q(a)&&b&&(a/=b),a},averages:function(){var a=[];return p(arguments,function(b){a.push(K.average(b))}),void 0===a[0]?void 0:a},open:function(a){return a.length?a[0]:a.hasNulls?null:void 0},high:function(a){return a.length?F(a):a.hasNulls?null:void 0},low:function(a){return a.length?E(a):a.hasNulls?null:void 0},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:void 0},ohlc:function(a,b,c,e){if(a=K.open(a),b=K.high(b),c=K.low(c),e=K.close(e),q(a)||q(b)||q(c)||q(e))return[a,b,c,e]},range:function(a,b){return a=K.low(a),b=K.high(b),q(a)||q(b)?[a,b]:null===a&&null===b?null:void 0}};c.groupData=function(a,b,c,e){var h,m,d=this.data,g=this.options.data,f=[],l=[],n=[],k=a.length,t=!!b,r=[];e="function"==typeof e?e:K[e]||H[this.type]&&K[H[this.type].approximation]||K[D.approximation];var y=this.pointArrayMap,A=y&&y.length,w=0;m=0;var x,z;for(A?p(y,function(){r.push([])}):r.push([]),x=A||1,z=0;z<=k&&!(a[z]>=c[0]);z++);for(;z<=k;z++){for(;void 0!==c[w+1]&&a[z]>=c[w+1]||z===k;){for(h=c[w],this.dataGroupInfo={start:m,length:r[0].length},void 0!==(m=e.apply(this,r))&&(f.push(h),l.push(m),n.push(this.dataGroupInfo)),m=z,h=0;h<x;h++)r[h].length=0,r[h].hasNulls=!1;if(w+=1,z===k)break}if(z===k)break;if(y){h=this.cropStart+z;var J,C=d&&d[h]||this.pointClass.prototype.applyOptions.apply({series:this},[g[h]]);for(h=0;h<A;h++)J=C[y[h]],q(J)?r[h].push(J):null===J&&(r[h].hasNulls=!0)}else h=t?b[z]:null,q(h)?r[0].push(h):null===h&&(r[0].hasNulls=!0)}return[f,l,n]},c.processData=function(){var d,p,a=this.chart,e=this.options.dataGrouping,f=!1!==this.allowDG&&e&&k(e.enabled,a.options.isStock),l=this.visible||!a.options.chart.ignoreHiddenSeries,m=this.currentDataGrouping;if(this.forceCrop=f,this.groupPixelWidth=null,this.hasProcessed=!0,!1!==b.apply(this,arguments)&&f){this.destroyGroupedData();var u=this.processedXData,n=this.processedYData,t=a.plotSizeX,q=(a=this.xAxis).options.ordinal,r=this.groupPixelWidth=a.getGroupPixelWidth&&a.getGroupPixelWidth();if(r){if(this.isDirty=d=!0,this.points=null,f=a.getExtremes(),p=f.min,f=f.max,q=q&&a.getGroupIntervalFactor(p,f,this)||1,r=r*(f-p)/t*q,t=a.getTimeTicks(a.normalizeTimeTickInterval(r,e.units||C),Math.min(p,u[0]),Math.max(f,u[u.length-1]),a.options.startOfWeek,u,this.closestPointRange),u=c.groupData.apply(this,[u,n,t,e.approximation]),n=u[0],q=u[1],e.smoothed&&n.length){for(n[e=n.length-1]=Math.min(n[e],f);e--&&0<e;)n[e]+=r/2;n[0]=Math.max(n[0],p)}p=t.info,this.closestPointRange=t.info.totalRange,this.groupMap=u[2],h(n[0])&&n[0]<a.dataMin&&l&&(a.min===a.dataMin&&(a.min=n[0]),a.dataMin=n[0]),this.processedXData=n,this.processedYData=q}else this.groupMap=null;this.hasGroupedData=d,this.currentDataGrouping=p,this.preventGraphAnimation=(m&&m.totalRange)!==(p&&p.totalRange)}},c.destroyGroupedData=function(){var a=this.groupedData;p(a||[],function(b,c){b&&(a[c]=b.destroy?b.destroy():null)}),this.groupedData=null},c.generatePoints=function(){w.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},e(m.prototype,"update",function(b){this.dataGroup?a.error(24):b.apply(this,[].slice.call(arguments,1))}),e(f.prototype,"tooltipFooterHeaderFormatter",function(b,c,e){var h,g=c.series,d=g.tooltipOptions,f=g.options.dataGrouping,l=d.xDateFormat,n=g.xAxis,k=a.dateFormat;return n&&"datetime"===n.options.type&&f&&q(c.key)?(b=g.currentDataGrouping,f=f.dateTimeLabelFormats,b?(n=f[b.unitName],1===b.count?l=n[0]:(l=n[1],h=n[2])):!l&&f&&(l=this.getXDateFormat(c,d,n)),l=k(l,c.key),h&&(l+=k(h,c.key+b.totalRange-1)),t(d[(e?"footer":"header")+"Format"],{point:x(c.point,{key:l}),series:g})):b.call(this,c,e)}),c.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;)a[b]&&a[b].destroy();l.apply(this)},e(c,"setOptions",function(a,b){a=a.call(this,b);var c=this.type,e=this.chart.options.plotOptions,d=r[c].dataGrouping;return H[c]&&(d||(d=z(D,H[c])),a.dataGrouping=z(d,e.series&&e.series.dataGrouping,e[c].dataGrouping,b.dataGrouping)),this.chart.options.isStock&&(this.requireSorting=!0),a}),e(G.prototype,"setScale",function(a){a.call(this),p(this.series,function(a){a.hasProcessed=!1})}),G.prototype.getGroupPixelWidth=function(){var c,f,a=this.series,b=a.length,e=0,d=!1;for(c=b;c--;)(f=a[c].options.dataGrouping)&&(e=Math.max(e,f.groupPixelWidth));for(c=b;c--;)(f=a[c].options.dataGrouping)&&a[c].hasProcessed&&(b=(a[c].processedXData||a[c].data).length,a[c].groupPixelWidth||b>this.chart.plotSizeX/e||b&&f.forced)&&(d=!0);return d?e:0},G.prototype.setDataGrouping=function(a,b){var c;if(b=k(b,!0),a||(a={forced:!1,units:null}),this instanceof G)for(c=this.series.length;c--;)this.series[c].update({dataGrouping:a},!1);else p(this.chart.options.series,function(b){b.dataGrouping=a},!1);b&&this.chart.redraw()}}(L),function(a){var F=a.each,E=a.Point,G=a.seriesType,r=a.seriesTypes;G("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(a,p){p=r.column.prototype.pointAttribs.call(this,a,p);var h=this.options;return delete p.fill,!a.options.color&&h.upColor&&a.open<a.close&&(p.stroke=h.upColor),p},translate:function(){var a=this,p=a.yAxis,x=!!a.modifyValue,t=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];r.column.prototype.translate.apply(a),F(a.points,function(h){F([h.open,h.high,h.low,h.close,h.low],function(q,k){null!==q&&(x&&(q=a.modifyValue(q)),h[t[k]]=p.toPixels(q,!0))}),h.tooltipPos[1]=h.plotHigh+p.pos-a.chart.plotTop})},drawPoints:function(){var a=this,p=a.chart;F(a.points,function(h){var t,q,r,k,f,m=h.graphic,e=!m;void 0!==h.plotY&&(m||(h.graphic=m=p.renderer.path().add(a.group)),m.attr(a.pointAttribs(h,h.selected&&"select")),q=m.strokeWidth()%2/2,f=Math.round(h.plotX)-q,r=Math.round(h.shapeArgs.width/2),k=["M",f,Math.round(h.yBottom),"L",f,Math.round(h.plotHigh)],null!==h.open&&(t=Math.round(h.plotOpen)+q,k.push("M",f,t,"L",f-r,t)),null!==h.close&&(t=Math.round(h.plotClose)+q,k.push("M",f,t,"L",f+r,t)),m[e?"attr":"animate"]({d:k}).addClass(h.getClassName(),!0))})},animate:null},{getClassName:function(){return E.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}(L),function(a){var F=a.defaultPlotOptions,E=a.each,G=a.merge,r=a.seriesType,h=a.seriesTypes;r("candlestick","ohlc",G(F.column,{states:{hover:{lineWidth:2}},tooltip:F.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(a,r){var p=h.column.prototype.pointAttribs.call(this,a,r),q=this.options,x=a.open<a.close,k=q.lineColor||this.color;return p["stroke-width"]=q.lineWidth,p.fill=a.options.color||(x?q.upColor||this.color:this.color),p.stroke=a.lineColor||(x?q.upLineColor||k:k),r&&(a=q.states[r],p.fill=a.color||p.fill,p.stroke=a.lineColor||p.stroke,p["stroke-width"]=a.lineWidth||p["stroke-width"]),p},drawPoints:function(){var a=this,h=a.chart;E(a.points,function(p){var r,k,m,f,e,c,b,t=p.graphic,w=!t;void 0!==p.plotY&&(t||(p.graphic=t=h.renderer.path().add(a.group)),t.attr(a.pointAttribs(p,p.selected&&"select")).shadow(a.options.shadow),e=t.strokeWidth()%2/2,c=Math.round(p.plotX)-e,r=p.plotOpen,k=p.plotClose,m=Math.min(r,k),r=Math.max(r,k),b=Math.round(p.shapeArgs.width/2),k=Math.round(m)!==Math.round(p.plotHigh),f=r!==p.yBottom,m=Math.round(m)+e,r=Math.round(r)+e,(e=[]).push("M",c-b,r,"L",c-b,m,"L",c+b,m,"L",c+b,r,"Z","M",c,m,"L",c,k?Math.round(p.plotHigh):m,"M",c,r,"L",c,f?Math.round(p.yBottom):r),t[w?"attr":"animate"]({d:e}).addClass(p.getClassName(),!0))})}})}(L),Z=function(a){var F=a.each,E=a.seriesTypes,G=a.stableSort;return{translate:function(){E.column.prototype.translate.apply(this);var t,q,a=this.options,h=this.chart,p=this.points,x=p.length-1;t=(z=a.onSeries)&&h.get(z);a=a.onKey||"y";var w,l,D,z=t&&t.options.step,k=t&&t.points,m=k&&k.length,f=this.xAxis,e=this.yAxis,c=f.getExtremes(),b=0;if(t&&t.visible&&m)for(b=(t.pointXOffset||0)+(t.barW||0)/2,t=t.currentDataGrouping,l=k[m-1].x+(t?t.totalRange:0),G(p,function(a,b){return a.x-b.x}),a="plot"+a[0].toUpperCase()+a.substr(1);m--&&p[x]&&(t=p[x],!((w=k[m]).x<=t.x&&void 0!==w[a]&&(t.x<=l&&(t.plotY=w[a],w.x<t.x&&!z&&(D=k[m+1])&&void 0!==D[a]&&(t.plotY+=(t.x-w.x)/(D.x-w.x)*(D[a]-w[a]))),x--,m++,0>x))););F(p,function(a,l){var k;void 0===a.plotY&&(a.x>=c.min&&a.x<=c.max?a.plotY=h.chartHeight-f.bottom-(f.opposite?f.height:0)+f.offset-e.top:a.shapeArgs={}),a.plotX+=b,(q=p[l-1])&&q.plotX===a.plotX&&(void 0===q.stackIndex&&(q.stackIndex=0),k=q.stackIndex+1),a.stackIndex=k})}}}(L),function(a,F){var E=a.addEvent,G=a.each,r=a.merge,h=a.noop,p=a.Renderer,x=a.seriesType,t=a.TrackerMixin,q=a.VMLRenderer,z=a.SVGRenderer.prototype.symbols;x("flags","column",{pointRange:0,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:a.Series.prototype.init,pointAttribs:function(a,h){var f=this.options,e=a&&a.color||this.color,c=f.lineColor,b=a&&a.lineWidth;return a=a&&a.fillColor||f.fillColor,h&&(a=f.states[h].fillColor,c=f.states[h].lineColor,b=f.states[h].lineWidth),{fill:a||e,stroke:c||e,"stroke-width":b||f.lineWidth||0}},translate:F.translate,drawPoints:function(){var e,c,l,t,q,x,z,g,h=this.points,m=this.chart,f=m.renderer,b=this.options,p=b.y,y=this.yAxis,J={},A=[];for(t=h.length;t--;)q=h[t],g=q.plotX>this.xAxis.len,e=q.plotX,x=q.stackIndex,l=q.options.shape||b.shape,void 0!==(c=q.plotY)&&(c=q.plotY+p-(void 0!==x&&x*b.stackDistance)),q.anchorX=x?void 0:q.plotX,z=x?void 0:q.plotY,x=q.graphic,void 0!==c&&0<=e&&!g?(x||(x=q.graphic=f.label("",null,null,l,null,null,b.useHTML).attr(this.pointAttribs(q)).css(r(b.style,q.style)).attr({align:"flag"===l?"left":"center",width:b.width,height:b.height,"text-align":b.textAlign}).addClass("highcharts-point").add(this.markerGroup),q.graphic.div&&(q.graphic.div.point=q),x.shadow(b.shadow),x.isNew=!0),0<e&&(e-=x.strokeWidth()%2),x.attr({text:q.options.title||b.title||"A"})[x.isNew?"attr":"animate"]({y:c,anchorY:z}),J[q.plotX]?J[q.plotX].size=Math.max(J[q.plotX].size,x.width):J[q.plotX]={align:0,size:x.width,target:e,anchorX:e},q.tooltipPos=m.inverted?[y.len+y.pos-m.plotLeft-c,this.xAxis.len-e]:[e,c+y.pos-m.plotTop]):x&&(q.graphic=x.destroy());a.objectEach(J,function(a){a.plotX=a.anchorX,A.push(a)}),a.distribute(A,this.xAxis.len),G(h,function(a){var b=a.graphic&&J[a.plotX];b&&(a.graphic[a.graphic.isNew?"attr":"animate"]({x:b.pos,anchorX:a.anchorX}),a.graphic.isNew=!1)}),b.useHTML&&a.wrap(this.markerGroup,"on",function(b){return a.SVGElement.prototype.on.apply(b.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var a=this.points;t.drawTrackerPoint.apply(this),G(a,function(h){var f=h.graphic;f&&E(f.element,"mouseover",function(){0<h.stackIndex&&!h.raised&&(h._y=f.y,f.attr({y:h._y-8}),h.raised=!0),G(a,function(a){a!==h&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)})})})},animate:h,buildKDTree:h,setClip:h}),z.flag=function(a,h,f,e,c){var b=c&&c.anchorX||a;return c=c&&c.anchorY||h,z.circle(b-1,c-1,2,2).concat(["M",b,c,"L",a,h+e,a,h,a+f,h,a+f,h+e,a,h+e,"Z"])},G(["circle","square"],function(a){z[a+"pin"]=function(h,f,e,c,b){var k=b&&b.anchorX;return b=b&&b.anchorY,"circle"===a&&c>e&&(h-=Math.round((c-e)/2),e=c),h=z[a](h,f,e,c),k&&b&&(h.push("M","circle"===a?h[1]-h[4]:h[1]+h[4]/2,f>b?f:f+c,"L",k,b),h=h.concat(z.circle(k-1,b-1,2,2))),h}}),p===q&&G(["flag","circlepin","squarepin"],function(a){q.prototype.symbols[a]=z[a]})}(L,Z),function(a){function F(a,b,c){this.init(a,b,c)}var b,E=a.addEvent,G=a.Axis,r=a.correctFloat,h=a.defaultOptions,p=a.defined,x=a.destroyObjectProperties,t=a.each,q=a.fireEvent,z=a.hasTouch,k=a.isTouchDevice,m=a.merge,f=a.pick,e=a.removeEvent,c=a.wrap,w={height:k?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:a.svg&&!k,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};h.scrollbar=m(!0,w,h.scrollbar),a.swapXY=b=function(a,b){var e,c=a.length;if(b)for(b=0;b<c;b+=3)e=a[b+1],a[b+1]=a[b+2],a[b+2]=e;return a},F.prototype={init:function(a,b,c){this.scrollbarButtons=[],this.renderer=a,this.userOptions=b,this.options=m(w,b),this.chart=c,this.size=f(this.options.size,this.options.height),b.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var f,a=this.renderer,c=this.options,e=this.size;this.group=f=a.g("scrollbar").attr({zIndex:c.zIndex,translateY:-99999}).add(),this.track=a.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:c.trackBorderRadius||0,height:e,width:e}).add(f),this.track.attr({fill:c.trackBackgroundColor,stroke:c.trackBorderColor,"stroke-width":c.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=a.g().add(f),this.scrollbar=a.rect().addClass("highcharts-scrollbar-thumb").attr({height:e,width:e,r:c.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=a.path(b(["M",-3,e/4,"L",-3,2*e/3,"M",0,e/4,"L",0,2*e/3,"M",3,e/4,"L",3,2*e/3],c.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),this.scrollbar.attr({fill:c.barBackgroundColor,stroke:c.barBorderColor,"stroke-width":c.barBorderWidth}),this.scrollbarRifles.attr({stroke:c.rifleColor,"stroke-width":1}),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(a,b,c,e){var f=this.options.vertical,g=0,h=this.rendered?"animate":"attr";this.x=a,this.y=b+this.trackBorderWidth,this.width=c,this.xOffset=this.height=e,this.yOffset=g,f?(this.width=this.yOffset=c=g=this.size,this.xOffset=b=0,this.barWidth=e-2*c,this.x=a+=this.options.margin):(this.height=this.xOffset=e=b=this.size,this.barWidth=c-2*e,this.y+=this.options.margin),this.group[h]({translateX:a,translateY:this.y}),this.track[h]({width:c,height:e}),this.scrollbarButtons[1][h]({translateX:f?0:c-b,translateY:f?e-g:0})},drawScrollbarButton:function(a){var g,c=this.renderer,e=this.scrollbarButtons,f=this.options,h=this.size;g=c.g().add(this.group),e.push(g),(g=c.rect().addClass("highcharts-scrollbar-button").add(g)).attr({stroke:f.buttonBorderColor,"stroke-width":f.buttonBorderWidth,fill:f.buttonBackgroundColor}),g.attr(g.crisp({x:-.5,y:-.5,width:h+1,height:h+1,r:f.buttonBorderRadius},g.strokeWidth())),(g=c.path(b(["M",h/2+(a?-1:1),h/2-3,"L",h/2+(a?-1:1),h/2+3,"L",h/2+(a?2:-2),h/2],f.vertical)).addClass("highcharts-scrollbar-arrow").add(e[a])).attr({fill:f.buttonArrowColor})},setRange:function(a,b){var h,l,c=this.options,e=c.vertical,f=c.minWidth,g=this.barWidth,k=this.rendered&&!this.hasDragged?"animate":"attr";p(g)&&(a=Math.max(a,0),h=Math.ceil(g*a),this.calculatedWidth=l=r(g*Math.min(b,1)-h),l<f&&(h=(g-f+l)*a,l=f),f=Math.floor(h+this.xOffset+this.yOffset),g=l/2-.5,this.from=a,this.to=b,e?(this.scrollbarGroup[k]({translateY:f}),this.scrollbar[k]({height:l}),this.scrollbarRifles[k]({translateY:g}),this.scrollbarTop=f,this.scrollbarLeft=0):(this.scrollbarGroup[k]({translateX:f}),this.scrollbar[k]({width:l}),this.scrollbarRifles[k]({translateX:g}),this.scrollbarLeft=f,this.scrollbarTop=0),12>=l?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===c.showFull&&(0>=a&&1<=b?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var a=this;a.mouseMoveHandler=function(b){var c=a.chart.pointer.normalize(b),e=a.options.vertical?"chartY":"chartX",f=a.initPositions;!a.grabbedCenter||b.touches&&0===b.touches[0][e]||(c=a.cursorToScrollbarPosition(c)[e],e=a[e],e=c-e,a.hasDragged=!0,a.updatePosition(f[0]+e,f[1]+e),a.hasDragged&&q(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:b.type,DOMEvent:b}))},a.mouseUpHandler=function(b){a.hasDragged&&q(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:b.type,DOMEvent:b}),a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null},a.mouseDownHandler=function(b){b=a.chart.pointer.normalize(b),b=a.cursorToScrollbarPosition(b),a.chartX=b.chartX,a.chartY=b.chartY,a.initPositions=[a.from,a.to],a.grabbedCenter=!0},a.buttonToMinClick=function(b){var c=r(a.to-a.from)*a.options.step;a.updatePosition(r(a.from-c),r(a.to-c)),q(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})},a.buttonToMaxClick=function(b){var c=(a.to-a.from)*a.options.step;a.updatePosition(a.from+c,a.to+c),q(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})},a.trackClick=function(b){var c=a.chart.pointer.normalize(b),e=a.to-a.from,f=a.y+a.scrollbarTop,g=a.x+a.scrollbarLeft;a.options.vertical&&c.chartY>f||!a.options.vertical&&c.chartX>g?a.updatePosition(a.from+e,a.to+e):a.updatePosition(a.from-e,a.to-e),q(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})}},cursorToScrollbarPosition:function(a){var b=(b=this.options).minWidth>this.calculatedWidth?b.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-b),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-b)}},updatePosition:function(a,b){1<b&&(a=r(1-r(b-a)),b=1),0>a&&(b=r(b-a),a=0),this.from=a,this.to=b},update:function(a){this.destroy(),this.init(this.chart.renderer,m(!0,this.options,a),this.chart)},addEvents:function(){var a=this.options.inverted?[1,0]:[0,1],b=this.scrollbarButtons,c=this.scrollbarGroup.element,e=this.mouseDownHandler,f=this.mouseMoveHandler,g=this.mouseUpHandler;a=[[b[a[0]].element,"click",this.buttonToMinClick],[b[a[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[c,"mousedown",e],[c.ownerDocument,"mousemove",f],[c.ownerDocument,"mouseup",g]];z&&a.push([c,"touchstart",e],[c.ownerDocument,"touchmove",f],[c.ownerDocument,"touchend",g]),t(a,function(a){E.apply(null,a)}),this._events=a},removeEvents:function(){t(this._events,function(a){e.apply(null,a)}),this._events.length=0},destroy:function(){var a=this.chart.scroller;this.removeEvents(),t(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(a){this[a]&&this[a].destroy&&(this[a]=this[a].destroy())},this),a&&this===a.scrollbar&&(a.scrollbar=null,x(a.scrollbarButtons))}},c(G.prototype,"init",function(a){var b=this;a.apply(b,Array.prototype.slice.call(arguments,1)),b.options.scrollbar&&b.options.scrollbar.enabled&&(b.options.scrollbar.vertical=!b.horiz,b.options.startOnTick=b.options.endOnTick=!1,b.scrollbar=new F(b.chart.renderer,b.options.scrollbar,b.chart),E(b.scrollbar,"changed",function(a){var g,c=Math.min(f(b.options.min,b.min),b.min,b.dataMin),e=Math.max(f(b.options.max,b.max),b.max,b.dataMax)-c;b.horiz&&!b.reversed||!b.horiz&&b.reversed?(g=c+e*this.to,c+=e*this.from):(g=c+e*(1-this.from),c+=e*(1-this.to)),b.setExtremes(c,g,!0,!1,a)}))}),c(G.prototype,"render",function(a){var b=Math.min(f(this.options.min,this.min),this.min,f(this.dataMin,this.min)),c=Math.max(f(this.options.max,this.max),this.max,f(this.dataMax,this.max)),e=this.scrollbar,h=this.titleOffset||0;a.apply(this,Array.prototype.slice.call(arguments,1)),e&&(this.horiz?(e.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:h+this.axisTitleMargin+this.offset),this.width,this.height),h=1):(e.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?h+this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),h=0),(!this.opposite&&!this.horiz||this.opposite&&this.horiz)&&(this.chart.scrollbarsOffsets[h]+=this.scrollbar.size+this.scrollbar.options.margin),isNaN(b)||isNaN(c)||!p(this.min)||!p(this.max)?e.setRange(0,0):(h=(this.min-b)/(c-b),b=(this.max-b)/(c-b),this.horiz&&!this.reversed||!this.horiz&&this.reversed?e.setRange(h,b):e.setRange(1-b,1-h)))}),c(G.prototype,"getOffset",function(a){var b=this.horiz?2:1,c=this.scrollbar;a.apply(this,Array.prototype.slice.call(arguments,1)),c&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[b]+=c.size+c.options.margin)}),c(G.prototype,"destroy",function(a){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy()),a.apply(this,Array.prototype.slice.call(arguments,1))}),a.Scrollbar=F}(L),function(a){function F(a){this.init(a)}var E=a.addEvent,G=a.Axis,r=a.Chart,h=a.color,p=a.defaultOptions,x=a.defined,t=a.destroyObjectProperties,q=a.each,z=a.erase,k=a.error,m=a.extend,f=a.grep,e=a.hasTouch,c=a.isArray,b=a.isNumber,w=a.isObject,l=a.merge,D=a.pick,H=a.removeEvent,C=a.Scrollbar,K=a.Series,g=a.seriesTypes,y=a.wrap,J=[].concat(a.defaultDataGroupingUnits),A=function(a){var d=f(arguments,b);if(d.length)return Math[a].apply(0,d)};J[4]=["day",[1,2,3,4]],J[5]=["week",[1,2,3]],g=void 0===g.areaspline?"line":"areaspline",m(p,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:h("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:g,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:J},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),a.Renderer.prototype.symbols["navigator-handle"]=function(a,b,c,e,g){return a=g.width/2,b=Math.round(a/3)+.5,g=g.height,["M",-a-1,.5,"L",a,.5,"L",a,g+.5,"L",-a-1,g+.5,"L",-a-1,.5,"M",-b,4,"L",-b,g-3,"M",b-1,4,"L",b-1,g-3]},F.prototype={drawHandle:function(a,b,c,e){var d=this.navigatorOptions.handles.height;this.handles[b][e](c?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(a,10)+.5-d)}:{translateX:Math.round(this.left+parseInt(a,10)),translateY:Math.round(this.top+this.height/2-d/2-1)})},drawOutline:function(a,b,c,e){var d=this.navigatorOptions.maskInside,f=(g=this.outline.strokeWidth())/2,g=g%2/2,h=this.outlineHeight,k=this.scrollbarHeight,l=this.size,m=this.left-k,v=this.top;c?(m-=f,c=v+b+g,b=v+a+g,a=["M",m+h,v-k-g,"L",m+h,c,"L",m,c,"L",m,b,"L",m+h,b,"L",m+h,v+l+k].concat(d?["M",m+h,c-f,"L",m+h,b+f]:[])):(a+=m+k-g,b+=m+k-g,v+=f,a=["M",m,v,"L",a,v,"L",a,v+h,"L",b,v+h,"L",b,v,"L",m+l+2*k,v].concat(d?["M",a-f,v,"L",b+f,v]:[])),this.outline[e]({d:a})},drawMasks:function(a,b,c,e){var h,k,l,m,d=this.left,g=this.top,f=this.height;c?(l=[d,d,d],m=[g,g+a,g+b],k=[f,f,f],h=[a,b-a,this.size-b]):(l=[d,d+a,d+b],m=[g,g,g],k=[a,b-a,this.size-b],h=[f,f,f]),q(this.shades,function(a,b){a[e]({x:l[b],y:m[b],width:k[b],height:h[b]})})},renderElements:function(){var h,a=this,b=a.navigatorOptions,c=b.maskInside,e=a.chart,g=e.inverted,f=e.renderer;a.navigatorGroup=h=f.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var k={cursor:g?"ns-resize":"ew-resize"};q([!c,c,!c],function(d,c){a.shades[c]=f.rect().addClass("highcharts-navigator-mask"+(1===c?"-inside":"-outside")).attr({fill:d?b.maskFill:"rgba(0,0,0,0)"}).css(1===c&&k).add(h)}),a.outline=f.path().addClass("highcharts-navigator-outline").attr({"stroke-width":b.outlineWidth,stroke:b.outlineColor}).add(h),b.handles.enabled&&q([0,1],function(d){b.handles.inverted=e.inverted,a.handles[d]=f.symbol(b.handles.symbols[d],-b.handles.width/2-1,0,b.handles.width,b.handles.height,b.handles),a.handles[d].attr({zIndex:7-d}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][d]).add(h);var c=b.handles;a.handles[d].attr({fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.lineWidth}).css(k)})},update:function(a){q(this.series||[],function(a){a.baseSeries&&delete a.baseSeries.navigatorSeries}),this.destroy(),l(!0,this.chart.options.navigator,this.options,a),this.init(this.chart)},render:function(d,c,e,g){var h,k,m,f=this.chart,l=this.scrollbarHeight,v=this.xAxis;h=v.fake?f.xAxis[0]:v;var u,p=this.navigatorEnabled,q=this.rendered;k=f.inverted;var t,r=f.xAxis[0].minRange,B=f.xAxis[0].options.maxRange;if(!this.hasDragged||x(e)){if(!b(d)||!b(c)){if(!q)return;e=0,g=D(v.width,h.width)}this.left=D(v.left,f.plotLeft+l+(k?f.plotWidth:0)),this.size=u=m=D(v.len,(k?f.plotHeight:f.plotWidth)-2*l),f=k?l:m+2*l,e=D(e,v.toPixels(d,!0)),g=D(g,v.toPixels(c,!0)),b(e)&&1/0!==Math.abs(e)||(e=0,g=f),d=v.toValue(e,!0),c=v.toValue(g,!0),(t=Math.abs(a.correctFloat(c-d)))<r?this.grabbedLeft?e=v.toPixels(c-r,!0):this.grabbedRight&&(g=v.toPixels(d+r,!0)):x(B)&&t>B&&(this.grabbedLeft?e=v.toPixels(c-B,!0):this.grabbedRight&&(g=v.toPixels(d+B,!0))),this.zoomedMax=Math.min(Math.max(e,g,0),u),this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(e,g),0),u),this.range=this.zoomedMax-this.zoomedMin,u=Math.round(this.zoomedMax),e=Math.round(this.zoomedMin),p&&(this.navigatorGroup.attr({visibility:"visible"}),q=q&&!this.hasDragged?"animate":"attr",this.drawMasks(e,u,k,q),this.drawOutline(e,u,k,q),this.navigatorOptions.handles.enabled&&(this.drawHandle(e,0,k,q),this.drawHandle(u,1,k,q))),this.scrollbar&&(k?(k=this.top-l,h=this.left-l+(p||!h.opposite?0:(h.titleOffset||0)+h.axisTitleMargin),l=m+2*l):(k=this.top+(p?this.height:-l),h=this.left-l),this.scrollbar.position(h,k,f,l),this.scrollbar.setRange(this.zoomedMin/m,this.zoomedMax/m)),this.rendered=!0}},addMouseEvents:function(){var f,h,a=this,b=a.chart,c=b.container,g=[];a.mouseMoveHandler=f=function(b){a.onMouseMove(b)},a.mouseUpHandler=h=function(b){a.onMouseUp(b)},(g=a.getPartsEvents("mousedown")).push(E(c,"mousemove",f),E(c.ownerDocument,"mouseup",h)),e&&(g.push(E(c,"touchmove",f),E(c.ownerDocument,"touchend",h)),g.concat(a.getPartsEvents("touchstart"))),a.eventsToUnbind=g,a.series&&a.series[0]&&g.push(E(a.series[0].xAxis,"foundExtremes",function(){b.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(a){var b=this,d=[];return q(["shades","handles"],function(c){q(b[c],function(e,g){d.push(E(e.element,a,function(a){b[c+"Mousedown"](a,g)}))})}),d},shadesMousedown:function(a,b){a=this.chart.pointer.normalize(a);var l,d=this.chart,c=this.xAxis,e=this.zoomedMin,g=this.left,f=this.size,h=this.range,k=a.chartX;d.inverted&&(k=a.chartY,g=this.top),1===b?(this.grabbedCenter=k,this.fixedWidth=h,this.dragOffset=k-e):(a=k-g-h/2,0===b?a=Math.max(0,a):2===b&&a+h>=f&&(a=f-h,l=this.getUnionExtremes().dataMax),a!==e&&(this.fixedWidth=h,b=c.toFixedRange(a,a+h,null,l),d.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(a,b){this.chart.pointer.normalize(a);var d=(a=this.chart).xAxis[0],c=a.inverted&&!d.reversed||!a.inverted&&d.reversed;0===b?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=c?d.min:d.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=c?d.max:d.min),a.fixedRange=null},onMouseMove:function(a){var b=this,d=b.chart,c=b.left,e=b.navigatorSize,g=b.range,f=b.dragOffset,h=d.inverted;a.touches&&0===a.touches[0].pageX||(a=d.pointer.normalize(a),d=a.chartX,h&&(c=b.top,d=a.chartY),b.grabbedLeft?(b.hasDragged=!0,b.render(0,0,d-c,b.otherHandlePos)):b.grabbedRight?(b.hasDragged=!0,b.render(0,0,b.otherHandlePos,d-c)):b.grabbedCenter&&(b.hasDragged=!0,d<f?d=f:d>e+f-g&&(d=e+f-g),b.render(0,0,d-f,d-f+g)),b.hasDragged&&b.scrollbar&&b.scrollbar.options.liveRedraw&&(a.DOMType=a.type,setTimeout(function(){b.onMouseUp(a)},0)))},onMouseUp:function(a){var e,g,b=this.chart,d=this.xAxis,c=this.scrollbar,f=a.DOMEvent||a;(!this.hasDragged||c&&c.hasDragged)&&"scrollbar"!==a.trigger||(this.zoomedMin===this.otherHandlePos?e=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(g=this.fixedExtreme),this.zoomedMax===this.size&&(g=this.getUnionExtremes().dataMax),d=d.toFixedRange(this.zoomedMin,this.zoomedMax,e,g),x(d.min)&&b.xAxis[0].setExtremes(Math.min(d.min,d.max),Math.max(d.min,d.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:f})),"mousemove"!==a.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(q(this.eventsToUnbind,function(a){a()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var a=this.baseSeries||[];this.navigatorEnabled&&a[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&q(a,function(a){H(a,"updatedData",this.updatedDataHandler)},this),a[0].xAxis&&H(a[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(a){var d=(b=a.options).navigator,c=d.enabled,g=(e=b.scrollbar).enabled,b=c?d.height:0,f=g?e.height:0;this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=b,this.scrollbarHeight=f,this.scrollbarEnabled=g,this.navigatorEnabled=c,this.navigatorOptions=d,this.scrollbarOptions=e,this.outlineHeight=b+f,this.opposite=D(d.opposite,!c&&a.inverted);var h=this,e=h.baseSeries,k=(g=a.xAxis.length,a.yAxis.length),m=e&&e[0]&&e[0].xAxis||a.xAxis[0];a.extraMargin={type:h.opposite?"plotTop":"marginBottom",value:(c||!a.inverted?h.outlineHeight:0)+d.margin},a.inverted&&(a.extraMargin.type=h.opposite?"marginRight":"plotLeft"),a.isDirtyBox=!0,h.navigatorEnabled?(h.xAxis=new G(a,l({breaks:m.options.breaks,ordinal:m.options.ordinal},d.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:g,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[f,0,-f,0],width:b}:{offsets:[0,-f,0,f],height:b})),h.yAxis=new G(a,l(d.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:k,zoomEnabled:!1},a.inverted?{width:b}:{height:b})),e||d.series.data?h.updateNavigatorSeries():0===a.series.length&&y(a,"redraw",function(b,d){0<a.series.length&&!h.series&&(h.setBaseSeries(),a.redraw=b),b.call(a,d)}),h.renderElements(),h.addMouseEvents()):h.xAxis={translate:function(b,d){var e=(c=a.xAxis[0]).getExtremes(),g=c.len-2*f,h=A("min",c.options.min,e.dataMin),c=A("max",c.options.max,e.dataMax)-h;return d?b*c/g+h:g*(b-h)/c},toPixels:function(a){return this.translate(a)},toValue:function(a){return this.translate(a,!0)},toFixedRange:G.prototype.toFixedRange,fake:!0},a.options.scrollbar.enabled&&(a.scrollbar=h.scrollbar=new C(a.renderer,l(a.options.scrollbar,{margin:h.navigatorEnabled?0:10,vertical:a.inverted}),a),E(h.scrollbar,"changed",function(b){var c=(d=h.size)*this.to,d=d*this.from;h.hasDragged=h.scrollbar.hasDragged,h.render(0,0,d,c),(a.options.scrollbar.liveRedraw||"mousemove"!==b.DOMType)&&setTimeout(function(){h.onMouseUp(b)})})),h.addBaseSeriesEvents(),h.addChartEvents()},getUnionExtremes:function(a){var g,b=this.chart.xAxis[0],d=this.xAxis,c=d.options,e=b.options;return a&&null===b.dataMin||(g={dataMin:D(c&&c.min,A("min",e.min,b.dataMin,d.dataMin,d.min)),dataMax:D(c&&c.max,A("max",e.max,b.dataMax,d.dataMax,d.max))}),g},setBaseSeries:function(a,b){var d=this.chart,c=this.baseSeries=[];a=a||d.options&&d.options.navigator.baseSeries||0,q(d.series||[],function(b,d){b.options.isInternal||!b.options.showInNavigator&&(d!==a&&b.options.id!==a||!1===b.options.showInNavigator)||c.push(b)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(b)},updateNavigatorSeries:function(b){var f,h,t,d=this,e=d.chart,g=d.baseSeries,k=d.navigatorOptions.series,r={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0},y=d.series=a.grep(d.series||[],function(b){var c=b.baseSeries;return!(0>a.inArray(c,g))||(c&&(H(c,"updatedData",d.updatedDataHandler),delete c.navigatorSeries),b.destroy(),!1)});g&&g.length&&q(g,function(a){var n=a.navigatorSeries,v=m({color:a.color},c(k)?p.navigator.series:k);n&&!1===d.navigatorOptions.adaptToUpdatedData||(r.name="Navigator "+g.length,f=a.options||{},t=f.navigatorOptions||{},h=l(f,r,v,t),v=t.data||v.data,d.hasNavigatorData=d.hasNavigatorData||!!v,h.data=v||f.data&&f.data.slice(0),n&&n.options?n.update(h,b):(a.navigatorSeries=e.initSeries(h),a.navigatorSeries.baseSeries=a,y.push(a.navigatorSeries)))}),(!k.data||g&&g.length)&&!c(k)||(d.hasNavigatorData=!1,k=a.splat(k),q(k,function(a,b){r.name="Navigator "+(y.length+1),(h=l(p.navigator.series,{color:e.series[b]&&!e.series[b].options.isInternal&&e.series[b].color||e.options.colors[b]||e.options.colors[0]},r,a)).data=a.data,h.data&&(d.hasNavigatorData=!0,y.push(e.initSeries(h)))})),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var a=this,b=a.baseSeries||[];b[0]&&b[0].xAxis&&E(b[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),q(b,function(b){E(b,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),E(b,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&b.xAxis&&E(b,"updatedData",this.updatedDataHandler),E(b,"remove",function(){this.navigatorSeries&&(z(a.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var b,a=this.xAxis;a.getExtremes&&(!(b=this.getUnionExtremes(!0))||b.dataMin===a.min&&b.dataMax===a.max||(a.min=b.dataMin,a.max=b.dataMax))},modifyBaseAxisExtremes:function(){var l,m,a=this.chart.navigator,e=(c=this.getExtremes()).dataMin,g=c.dataMax,c=c.max-c.min,f=a.stickToMin,h=a.stickToMax,k=this.options.overscroll,p=a.series&&a.series[0],q=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(f&&(m=e,l=m+c),h&&(l=g+k,f||(m=Math.max(l-c,p&&p.xData?p.xData[0]:-Number.MAX_VALUE))),q&&(f||h)&&b(m)&&(this.min=this.userMin=m,this.max=this.userMax=l)),a.stickToMin=a.stickToMax=null},updatedDataHandler:function(){var a=this.chart.navigator,c=this.navigatorSeries;a.stickToMax=Math.round(a.zoomedMax)>=Math.round(a.size),a.stickToMin=b(this.xAxis.min)&&this.xAxis.min<=this.xData[0]&&(!this.chart.fixedRange||!a.stickToMax),c&&!a.hasNavigatorData&&(c.options.pointStart=this.xData[0],c.setData(this.options.data,!1,null,!1))},addChartEvents:function(){E(this.chart,"redraw",function(){var a=this.navigator,b=a&&(a.baseSeries&&a.baseSeries[0]&&a.baseSeries[0].xAxis||a.scrollbar&&this.xAxis[0]);b&&a.render(b.min,b.max)})},destroy:function(){this.removeEvents(),this.xAxis&&(z(this.chart.xAxis,this.xAxis),z(this.chart.axes,this.xAxis)),this.yAxis&&(z(this.chart.yAxis,this.yAxis),z(this.chart.axes,this.yAxis)),q(this.series||[],function(a){a.destroy&&a.destroy()}),q("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),function(a){this[a]&&this[a].destroy&&this[a].destroy(),this[a]=null},this),q([this.handles],function(a){t(a)},this)}},a.Navigator=F,y(G.prototype,"zoom",function(a,b,c){var h,d=this.chart,g=(e=d.options).chart.zoomType,f=e.navigator,e=e.rangeSelector;return this.isXAxis&&(f&&f.enabled||e&&e.enabled)&&("x"===g?d.resetZoomButton="blocked":"y"===g?h=!1:"xy"===g&&this.options.range&&(d=this.previousZoom,x(b)?this.previousZoom=[this.min,this.max]:d&&(b=d[0],c=d[1],delete this.previousZoom))),void 0!==h?h:a.call(this,b,c)}),y(r.prototype,"init",function(a,b,c){E(this,"beforeRender",function(){var a=this.options;(a.navigator.enabled||a.scrollbar.enabled)&&(this.scroller=this.navigator=new F(this))}),a.call(this,b,c)}),y(r.prototype,"setChartSize",function(a){var c,e,g,f,b=this.legend,d=this.navigator;a.apply(this,[].slice.call(arguments,1)),d&&(e=b&&b.options,g=d.xAxis,f=d.yAxis,c=d.scrollbarHeight,this.inverted?(d.left=d.opposite?this.chartWidth-c-d.height:this.spacing[3]+c,d.top=this.plotTop+c):(d.left=this.plotLeft+c,d.top=d.navigatorOptions.top||this.chartHeight-d.height-c-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&e.enabled&&!e.floating?b.legendHeight+D(e.margin,10):0)),g&&f&&(this.inverted?g.options.left=f.options.left=d.left:g.options.top=f.options.top=d.top,g.setAxisSize(),f.setAxisSize()))}),y(K.prototype,"addPoint",function(a,b,c,e,g){var d=this.options.turboThreshold;d&&this.xData.length>d&&w(b,!0)&&this.chart.navigator&&k(20,!0),a.call(this,b,c,e,g)}),y(r.prototype,"addSeries",function(a,b,c,e){return a=a.call(this,b,!1,e),this.navigator&&this.navigator.setBaseSeries(null,!1),D(c,!0)&&this.redraw(),a}),y(K.prototype,"update",function(a,b,c){a.call(this,b,!1),this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1),D(c,!0)&&this.chart.redraw()}),r.prototype.callbacks.push(function(a){var b=a.navigator;b&&(a=a.xAxis[0].getExtremes(),b.render(a.min,a.max))})}(L),function(a){function F(a){this.init(a)}var E=a.addEvent,G=a.Axis,r=a.Chart,h=a.css,p=a.createElement,x=a.dateFormat,t=a.defaultOptions,q=t.global.useUTC,z=a.defined,k=a.destroyObjectProperties,m=a.discardElement,f=a.each,e=a.extend,c=a.fireEvent,b=a.Date,w=a.isNumber,l=a.merge,D=a.pick,H=a.pInt,C=a.splat,K=a.wrap;e(t,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),t.lang=l(t.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),F.prototype={clickButton:function(a,b){var l,t,r,y,x,c=this,e=c.chart,d=c.buttonOptions[a],g=e.xAxis[0],k=(h=e.scroller&&e.scroller.getUnionExtremes()||g||{}).dataMin,n=h.dataMax,m=g&&Math.round(Math.min(g.max,D(n,g.max))),p=d.type,h=d._range,z=d.dataGrouping;if(null!==k&&null!==n){if(e.fixedRange=h,z&&(this.forcedDataGrouping=!0,G.prototype.setDataGrouping.call(g||{chart:this.chart},z,!1)),"month"===p||"year"===p)g?(p={range:d,max:m,dataMin:k,dataMax:n},l=g.minFromRange.call(p),w(p.newMax)&&(m=p.newMax)):h=d;else if(h)l=Math.max(m-h,k),m=Math.min(l+h,n);else if("ytd"===p){if(!g)return void E(e,"beforeRender",function(){c.clickButton(a)});void 0===n&&(k=Number.MAX_VALUE,n=Number.MIN_VALUE,f(e.series,function(a){a=a.xData,k=Math.min(a[0],k),n=Math.max(a[a.length-1],n)}),b=!1),l=r=(m=c.getYTDExtremes(n,k,q)).min,m=m.max}else"all"===p&&g&&(l=k,m=n);l+=d._offsetMin,m+=d._offsetMax,c.setSelected(a),g?g.setExtremes(l,m,D(b,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:d}):(t=C(e.options.xAxis)[0],x=t.range,t.range=h,y=t.min,t.min=r,E(e,"load",function(){t.range=x,t.min=y}))}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var b=this,e=a.options.rangeSelector,g=e.buttons||[].concat(b.defaultButtons),d=e.selected,h=function(){var a=b.minInput,d=b.maxInput;a&&a.blur&&c(a,"blur"),d&&d.blur&&c(d,"blur")};b.chart=a,b.options=e,b.buttons=[],a.extraTopMargin=e.height,b.buttonOptions=g,this.unMouseDown=E(a.container,"mousedown",h),this.unResize=E(a,"resize",h),f(g,b.computeButtonRange),void 0!==d&&g[d]&&this.clickButton(d,!1),E(a,"load",function(){a.xAxis&&a.xAxis[0]&&E(a.xAxis[0],"setExtremes",function(d){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==d.trigger&&"updatedData"!==d.trigger&&b.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var a,b=(a=this.chart).xAxis[0],c=Math.round(b.max-b.min),e=!b.hasVisibleSeries,d=(a=a.scroller&&a.scroller.getUnionExtremes()||b).dataMin,h=a.dataMax,k=(a=this.getYTDExtremes(h,d,q)).min,l=a.max,n=this.selected,m=w(n),p=this.options.allButtonsEnabled,t=this.buttons;f(this.buttonOptions,function(a,g){var f=a._range,q=a.type,v=a.count||1,r=t[g],u=0;a=a._offsetMax-a._offsetMin,g=g===n;var y=f>h-d,A=f<b.minRange,w=!1,x=!1;f=f===c;("month"===q||"year"===q)&&c>=864e5*{month:28,year:365}[q]*v+a&&c<=864e5*{month:31,year:366}[q]*v+a?f=!0:"ytd"===q?(f=l-k+a===c,w=!g):"all"===q&&(f=b.max-b.min>=h-d,x=!g&&m&&f),q=!p&&(y||A||x||e),v=g&&f||f&&!m&&!w,q?u=3:v&&(m=!0,u=2),r.state!==u&&r.setState(u)})},computeButtonRange:function(a){var b=a.type,c=a.count||1,e={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};e[b]?a._range=e[b]*c:"month"!==b&&"year"!==b||(a._range=864e5*{month:30,year:365}[b]*c),a._offsetMin=D(a.offsetMin,0),a._offsetMax=D(a.offsetMax,0),a._range+=a._offsetMax-a._offsetMin},setInputValue:function(a,b){var c=this.chart.options.rangeSelector,e=this[a+"Input"];z(b)&&(e.previousValue=e.HCTime,e.HCTime=b),e.value=x(c.inputEditDateFormat||"%Y-%m-%d",e.HCTime),this[a+"DateBox"].attr({text:x(c.inputDateFormat||"%b %e, %Y",e.HCTime)})},showInput:function(a){var b=this.inputGroup,c=this[a+"DateBox"];h(this[a+"Input"],{left:b.translateX+c.x+"px",top:b.translateY+"px",width:c.width-2+"px",height:c.height-2+"px",border:"2px solid silver"})},hideInput:function(a){h(this[a+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(a)},drawInput:function(a){function b(){var a=r.value,b=(k.inputDateParser||Date.parse)(a),d=f.xAxis[0],g=(e=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:d).dataMin,e=e.dataMax;b!==r.previousValue&&(r.previousValue=b,w(b)||(b=a.split("-"),b=Date.UTC(H(b[0]),H(b[1])-1,H(b[2]))),w(b)&&(q||(b+=6e4*(new Date).getTimezoneOffset()),n?b>c.maxInput.HCTime?b=void 0:b<g&&(b=g):b<c.minInput.HCTime?b=void 0:b>e&&(b=e),void 0!==b&&d.setExtremes(n?b:d.min,n?d.max:b,void 0,void 0,{trigger:"rangeSelectorInput"})))}var r,x,c=this,f=c.chart,d=f.renderer.style||{},g=f.renderer,k=f.options.rangeSelector,m=c.div,n="min"===a,z=this.inputGroup;this[a+"Label"]=x=g.label(t.lang[n?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(z),z.offset+=x.width+5,this[a+"DateBox"]=g=g.label("",z.offset).addClass("highcharts-range-input").attr({padding:2,width:k.inputBoxWidth||90,height:k.inputBoxHeight||17,stroke:k.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){c.showInput(a),c[a+"Input"].focus()}).add(z),z.offset+=g.width+(n?10:0),this[a+"Input"]=r=p("input",{name:a,className:"highcharts-range-selector",type:"text"},{top:f.plotTop+"px"},m),x.css(l(d,k.labelStyle)),g.css(l({color:"#333333"},d,k.inputStyle)),h(r,e({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:d.fontSize,fontFamily:d.fontFamily,top:"-9999em"},k.inputStyle)),r.onfocus=function(){c.showInput(a)},r.onblur=function(){c.hideInput(a)},r.onchange=b,r.onkeypress=function(a){13===a.keyCode&&b()}},getPosition:function(){var a,b=(a=this.chart).options.rangeSelector;return{buttonTop:(a="top"===b.verticalAlign?a.plotTop-a.axisOffset[0]:0)+b.buttonPosition.y,inputTop:a+b.inputPosition.y-10}},getYTDExtremes:function(a,c,e){var f=new b(a),d=f[b.hcGetFullYear]();return e=e?b.UTC(d,0,1):+new b(d,0,1),c=Math.max(c||0,e),f=f.getTime(),{max:Math.min(a||f,f),min:c}},render:function(a,b){var E,G,c=this,e=c.chart,d=e.renderer,g=e.container,k=(h=e.options).exporting&&!1!==h.exporting.enabled&&h.navigation&&h.navigation.buttonOptions,n=t.lang,l=c.div,m=h.rangeSelector,h=m.floating,q=c.buttons,r=(l=c.inputGroup,m.buttonTheme),w=m.buttonPosition,x=m.inputPosition,y=m.inputEnabled,z=r&&r.states,C=e.plotLeft,F=c.buttonGroup;G=c.rendered;var V,H=c.options.verticalAlign,K=e.legend,L=K&&K.options,Y=w.y,X=x.y,Q=G||!1,T=0,U=0;!1!==m.enabled&&(G||(c.group=G=d.g("range-selector-group").attr({zIndex:7}).add(),c.buttonGroup=F=d.g("range-selector-buttons").add(G),c.zoomText=d.text(n.rangeSelectorZoom,D(C+w.x,C),15).css(m.labelStyle).add(F),E=D(C+w.x,C)+c.zoomText.getBBox().width+5,f(c.buttonOptions,function(a,b){q[b]=d.button(a.text,E,0,function(){var e,d=a.events&&a.events.click;d&&(e=d.call(a)),!1!==e&&c.clickButton(b),c.isActive=!0},r,z&&z.hover,z&&z.select,z&&z.disabled).attr({"text-align":"center"}).add(F),E+=q[b].width+D(m.buttonSpacing,5)}),!1!==y&&(c.div=l=p("div",null,{position:"relative",height:0,zIndex:1}),g.parentNode.insertBefore(l,g),c.inputGroup=l=d.g("input-group").add(G),l.offset=0,c.drawInput("min"),c.drawInput("max"))),C=e.plotLeft-e.spacing[3],c.updateButtonStates(),k&&this.titleCollision(e)&&"top"===H&&"right"===w.align&&w.y+F.getBBox().height-12<(k.y||0)+k.height&&(T=-40),"left"===w.align?V=w.x-e.spacing[3]:"right"===w.align&&(V=w.x+T-e.spacing[1]),F.align({y:w.y,width:F.getBBox().width,align:w.align,x:V},!0,e.spacingBox),c.group.placed=Q,c.buttonGroup.placed=Q,!1!==y&&(T=k&&this.titleCollision(e)&&"top"===H&&"right"===x.align&&x.y-l.getBBox().height-12<(k.y||0)+k.height+e.spacing[0]?-40:0,"left"===x.align?V=C:"right"===x.align&&(V=-Math.max(e.axisOffset[1],-T)),l.align({y:x.y,width:l.getBBox().width,align:x.align,x:x.x+V-2},!0,e.spacingBox),g=l.alignAttr.translateX+l.alignOptions.x-T+l.getBBox().x+2,k=l.alignOptions.width,n=F.alignAttr.translateX+F.getBBox().x,V=F.getBBox().width+20,(x.align===w.align||n+V>g&&g+k>n&&Y<X+l.getBBox().height)&&l.attr({translateX:l.alignAttr.translateX+(e.axisOffset[1]>=-T?0:-T),translateY:l.alignAttr.translateY+F.getBBox().height+10}),c.setInputValue("min",a),c.setInputValue("max",b),c.inputGroup.placed=Q),c.group.align({verticalAlign:H},!0,e.spacingBox),a=c.group.getBBox().height+20,b=c.group.alignAttr.translateY,"bottom"===H&&(K=L&&"bottom"===L.verticalAlign&&L.enabled&&!L.floating?K.legendHeight+D(L.margin,10):0,a=a+K-20,U=b-a-(h?0:m.y)-10),"top"===H?(h&&(U=0),e.titleOffset&&(U=e.titleOffset+e.options.title.margin),U+=e.margin[0]-e.spacing[0]||0):"middle"===H&&(X===Y?U=0>X?b+void 0:b:(X||Y)&&(U=0>X||0>Y?U-Math.min(X,Y):b-a+NaN)),c.group.translate(m.x,m.y+Math.floor(U)),!1!==y&&(c.minInput.style.marginTop=c.group.translateY+"px",c.maxInput.style.marginTop=c.group.translateY+"px"),c.rendered=!0)},getHeight:function(){var a=this.options,b=this.group,c=a.y,e=a.buttonPosition.y;a=a.inputPosition.y,b=b?b.getBBox(!0).height+13+c:0,c=Math.min(a,e);return(0>a&&0>e||0<a&&0<e)&&(b+=Math.abs(c)),b},titleCollision:function(a){return!(a.options.title.text||a.options.subtitle.text)},update:function(a){var b=this.chart;l(!0,b.options.rangeSelector,a),this.destroy(),this.init(b),b.rangeSelector.render()},destroy:function(){var b=this,c=b.minInput,e=b.maxInput;b.unMouseDown(),b.unResize(),k(b.buttons),c&&(c.onfocus=c.onblur=c.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),a.objectEach(b,function(a,c){a&&"chart"!==c&&(a.destroy?a.destroy():a.nodeType&&m(this[c])),a!==F.prototype[c]&&(b[c]=null)},this)}},G.prototype.toFixedRange=function(a,b,c,e){var d=this.chart&&this.chart.fixedRange;return a=D(c,this.translate(a,!0,!this.horiz)),b=D(e,this.translate(b,!0,!this.horiz)),.7<(c=d&&(b-a)/d)&&1.3>c&&(e?a=b-d:b=a+d),w(a)||(a=b=void 0),{min:a,max:b}},G.prototype.minFromRange=function(){var c,d,f,a=this.range,b={month:"Month",year:"FullYear"}[a.type],e=this.max,h=function(a,c){var d=new Date(a),e=d["get"+b]();return d["set"+b](e+c),e===d["get"+b]()&&d.setDate(0),d.getTime()-a};return w(a)?(c=e-a,f=a):(c=e+h(e,-a.count),this.chart&&(this.chart.fixedRange=e-c)),d=D(this.dataMin,Number.MIN_VALUE),w(c)||(c=d),c<=d&&(c=d,void 0===f&&(f=h(c,a.count)),this.newMax=Math.min(c+f,this.dataMax)),w(e)||(c=void 0),c},K(r.prototype,"init",function(a,b,c){E(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new F(this))}),a.call(this,b,c)}),K(r.prototype,"render",function(a,b,c){var e=this.axes,d=this.rangeSelector;d&&(f(e,function(a){a.updateNames(),a.setScale()}),this.getAxisMargins(),d.render(),e=d.options.verticalAlign,d.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))),a.call(this,b,c)}),K(r.prototype,"update",function(b,c,e,f){var g,d=this.rangeSelector;this.extraTopMargin=this.extraBottomMargin=!1,d&&(d.render(),g=c.rangeSelector&&c.rangeSelector.verticalAlign||d.options&&d.options.verticalAlign,d.options.floating||("bottom"===g?this.extraBottomMargin=!0:"middle"!==g&&(this.extraTopMargin=!0))),b.call(this,a.merge(!0,c,{chart:{marginBottom:D(c.chart&&c.chart.marginBottom,this.margin.bottom),spacingBottom:D(c.chart&&c.chart.spacingBottom,this.spacing.bottom)}}),e,f)}),K(r.prototype,"redraw",function(a,b,c){var e=this.rangeSelector;e&&!e.options.floating&&(e.render(),"bottom"===(e=e.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),a.call(this,b,c)}),r.prototype.adjustPlotArea=function(){var a=this.rangeSelector;this.rangeSelector&&(a=a.getHeight(),this.extraTopMargin&&(this.plotTop+=a),this.extraBottomMargin&&(this.marginBottom+=a))},r.prototype.callbacks.push(function(a){function b(){c=a.xAxis[0].getExtremes(),w(c.min)&&e.render(c.min,c.max)}var c,d,f,e=a.rangeSelector;e&&(f=E(a.xAxis[0],"afterSetExtremes",function(a){e.render(a.min,a.max)}),d=E(a,"redraw",b),b()),E(a,"destroy",function(){e&&(d(),f())})}),a.RangeSelector=F}(L),function(a){var F=a.arrayMax,E=a.arrayMin,G=a.Axis,r=a.Chart,h=a.defined,p=a.each,x=a.extend,t=a.format,q=a.grep,z=a.inArray,k=a.isNumber,m=a.isString,f=a.map,e=a.merge,c=a.pick,b=a.Point,w=a.Renderer,l=a.Series,D=a.splat,H=a.SVGRenderer,C=a.VMLRenderer,K=a.wrap,g=l.prototype,y=g.init,J=g.processData,A=b.prototype.tooltipFormatter;a.StockChart=a.stockChart=function(b,g,h){var q,d=m(b)||b.nodeName,k=arguments[d?1:0],l=k.series,p=a.getOptions(),t=c(k.navigator&&k.navigator.enabled,p.navigator.enabled,!0),v=t?{startOnTick:!1,endOnTick:!1}:null,w={marker:{enabled:!1,radius:2}},x={shadow:!1,borderWidth:0};return k.xAxis=f(D(k.xAxis||{}),function(a){return e({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},p.xAxis,a,{type:"datetime",categories:null},v)}),k.yAxis=f(D(k.yAxis||{}),function(a){return q=c(a.opposite,!0),e({labels:{y:-2},opposite:q,showLastLabel:!1,title:{text:null}},p.yAxis,a)}),k.series=null,k=e({chart:{panning:!0,pinchType:"x"},navigator:{enabled:t},scrollbar:{enabled:c(p.scrollbar.enabled,!0)},rangeSelector:{enabled:c(p.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:w,spline:w,area:w,areaspline:w,arearange:w,areasplinerange:w,column:x,columnrange:x,candlestick:x,ohlc:x}},k,{isStock:!0}),k.series=l,d?new r(b,k,h):new r(k,g)},K(G.prototype,"autoLabelAlign",function(a){var b=this.chart,c=this.options,d=(b=b._labelPanes=b._labelPanes||{},this.options.labels);return this.chart.options.isStock&&"yAxis"===this.coll&&(c=c.top+","+c.height,!b[c]&&d.enabled)?(15===d.x&&(d.x=0),void 0===d.align&&(d.align="right"),b[c]=this,"right"):a.apply(this,[].slice.call(arguments,1))}),K(G.prototype,"destroy",function(a){var b=this.chart,c=this.options&&this.options.top+","+this.options.height;return c&&b._labelPanes&&b._labelPanes[c]===this&&delete b._labelPanes[c],a.apply(this,Array.prototype.slice.call(arguments,1))}),K(G.prototype,"getPlotLinePath",function(b,e,g,l,n,q){var x,y,A,B,E,F,d=this,t=this.isLinked&&!this.series?this.linkedParent.series:this.series,r=d.chart,u=r.renderer,v=d.left,w=d.top,C=[],D=[];return"xAxis"!==d.coll&&"yAxis"!==d.coll?b.apply(this,[].slice.call(arguments,1)):(D=function(a){var b="xAxis"===a?"yAxis":"xAxis";return a=d.options[b],k(a)?[r[b][a]]:m(a)?[r.get(a)]:f(t,function(a){return a[b]})}(d.coll),p(d.isXAxis?r.yAxis:r.xAxis,function(a){if(!h(a.options.id)||-1===a.options.id.indexOf("navigator")){var b=a.isXAxis?"yAxis":"xAxis";b=h(a.options[b])?r[b][a.options[b]]:r[b][0];d===b&&D.push(a)}}),E=D.length?[]:[d.isXAxis?r.yAxis[0]:r.xAxis[0]],p(D,function(b){-1!==z(b,E)||a.find(E,function(a){return a.pos===b.pos&&a.len&&b.len})||E.push(b)}),F=c(q,d.translate(e,null,null,l)),k(F)&&(d.horiz?p(E,function(a){var b;y=a.pos,B=y+a.len,((x=A=Math.round(F+d.transB))<v||x>v+d.width)&&(n?x=A=Math.min(Math.max(v,x),v+d.width):b=!0),b||C.push("M",x,y,"L",A,B)}):p(E,function(a){var b;x=a.pos,A=x+a.len,((y=B=Math.round(w+d.height-F))<w||y>w+d.height)&&(n?y=B=Math.min(Math.max(w,y),d.top+d.height):b=!0),b||C.push("M",x,y,"L",A,B)})),0<C.length?u.crispPolyLine(C,g||1):null)}),H.prototype.crispPolyLine=function(a,b){var c;for(c=0;c<a.length;c+=6)a[c+1]===a[c+4]&&(a[c+1]=a[c+4]=Math.round(a[c+1])-b%2/2),a[c+2]===a[c+5]&&(a[c+2]=a[c+5]=Math.round(a[c+2])+b%2/2);return a},w===C&&(C.prototype.crispPolyLine=H.prototype.crispPolyLine),K(G.prototype,"hideCrosshair",function(a,b){a.call(this,b),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),K(G.prototype,"drawCrosshair",function(a,b,e){var d,f;if(a.call(this,b,e),h(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){a=this.chart;var g=this.options.crosshair.label,k=this.horiz;d=this.opposite,f=this.left;var p,l=this.top,m=this.crossLabel,q=g.format,r="",v="inside"===this.options.tickPosition,w=!1!==this.crosshair.snap,y=0;b||(b=this.cross&&this.cross.e),p=k?"center":d?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",m||(m=this.crossLabel=a.renderer.label(null,null,null,g.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:g.align||p,padding:c(g.padding,8),r:c(g.borderRadius,3),zIndex:2}).add(this.labelGroup)).attr({fill:g.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:g.borderColor||"","stroke-width":g.borderWidth||0}).css(x({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},g.style)),k?(p=w?e.plotX+f:b.chartX,l+=d?0:this.height):(p=d?this.width+f:0,l=w?e.plotY+l:b.chartY),q||g.formatter||(this.isDatetimeAxis&&(r="%b %d, %Y"),q="{value"+(r?":"+r:"")+"}"),b=w?e[this.isXAxis?"x":"y"]:this.toValue(k?b.chartX:b.chartY),m.attr({text:q?t(q,{value:b}):g.formatter.call(this,b),x:p,y:l,visibility:"visible"}),b=m.getBBox(),k?(v&&!d||!v&&d)&&(l=m.y-b.height):l=m.y-b.height/2,k?(d=f-b.x,f=f+this.width-b.x):(d="left"===this.labelAlign?f:0,f="right"===this.labelAlign?f+this.width:a.chartWidth),m.translateX<d&&(y=d-m.translateX),m.translateX+b.width>=f&&(y=-(m.translateX+b.width-f)),m.attr({x:p+y,y:l,anchorX:k?p:this.opposite?0:a.chartWidth,anchorY:k?this.opposite?a.chartHeight:0:l+b.height/2})}}),g.init=function(){y.apply(this,arguments),this.setCompare(this.options.compare)},g.setCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,c){var d=this.compareValue;if(void 0!==b&&void 0!==d)return b="value"===a?b-d:b/d*100-(100===this.options.compareBase?0:100),c&&(c.change=b),b}:null,this.userOptions.compare=a,this.chart.hasRendered&&(this.isDirty=!0)},g.processData=function(){var a,c,e,g,h,b=-1,f=!0===this.options.compareStart?0:1;if(J.apply(this,arguments),this.xAxis&&this.processedYData)for(c=this.processedXData,e=this.processedYData,g=e.length,this.pointArrayMap&&-1===(b=z("close",this.pointArrayMap))&&(b=z(this.pointValKey||"y",this.pointArrayMap)),a=0;a<g-f;a++)if(h=e[a]&&-1<b?e[a][b]:e[a],k(h)&&c[a+f]>=this.xAxis.min&&0!==h){this.compareValue=h;break}},K(g,"getExtremes",function(a){var b;a.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(b=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=E(b),this.dataMax=F(b))}),G.prototype.setCompare=function(a,b){this.isXAxis||(p(this.series,function(b){b.setCompare(a)}),c(b,!0)&&this.chart.redraw())},b.prototype.tooltipFormatter=function(b){return b=b.replace("{point.change}",(0<this.change?"+":"")+a.numberFormat(this.change,c(this.series.tooltipOptions.changeDecimals,2))),A.apply(this,[b])},K(l.prototype,"render",function(a){this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=e(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len)),a.call(this)}),K(r.prototype,"getSelectedPoints",function(a){var b=a.call(this);return p(this.series,function(a){a.hasGroupedData&&(b=b.concat(q(a.points||[],function(a){return a.selected})))}),b}),K(r.prototype,"update",function(a,b){return"scrollbar"in b&&this.navigator&&(e(!0,this.options.scrollbar,b.scrollbar),this.navigator.update({},!1),delete b.scrollbar),a.apply(this,Array.prototype.slice.call(arguments,1))})}(L),L}),function(C){"object"==typeof module&&module.exports?module.exports=C:C(Highcharts)}(function(C){!function(c){var q=c.deg2rad,u=c.pick;c.perspective=function(p,y,B){var v=y.options.chart.options3d,h=!!B&&y.inverted,z=y.plotWidth/2,r=y.plotHeight/2,A=v.depth/2,e=u(v.depth,1)*u(v.viewDistance,0),b=y.scale3d||1,f=q*v.beta*(h?-1:1),k=(v=q*v.alpha*(h?-1:1),Math.cos(v)),d=Math.cos(-f),a=Math.sin(v),m=Math.sin(-f);return B||(z+=y.plotLeft,r+=y.plotTop),c.map(p,function(c){var f,l;l=(h?c.y:c.x)-z;var t=(h?c.x:c.y)-r,x=(c.z||0)-A;return f=d*l-m*x,c=-a*m*l+k*t-d*a*x,l=k*m*l+a*t+k*d*x,t=0<e&&e<Number.POSITIVE_INFINITY?e/(l+A+e):1,f=f*t*b+z,c=c*t*b+r,{x:h?c:f,y:h?f:c,z:l*b+A}})},c.pointCameraDistance=function(c,y){var p=y.options.chart.options3d,v=y.plotWidth/2;return y=y.plotHeight/2,p=u(p.depth,1)*u(p.viewDistance,0)+p.depth,Math.sqrt(Math.pow(v-c.plotX,2)+Math.pow(y-c.plotY,2)+Math.pow(p-c.plotZ,2))},c.shapeArea=function(c){var p,v,y=0;for(p=0;p<c.length;p++)v=(p+1)%c.length,y+=c[p].x*c[v].y-c[v].x*c[p].y;return y/2},c.shapeArea3d=function(p,y,u){return c.shapeArea(c.perspective(p,y,u))}}(C),function(c){function q(b,d,a,c,e,f,l,m){var g=[],t=f-e;return f>e&&f-e>Math.PI/2+1e-4?(g=g.concat(q(b,d,a,c,e,e+Math.PI/2,l,m)),g=g.concat(q(b,d,a,c,e+Math.PI/2,f,l,m))):f<e&&e-f>Math.PI/2+1e-4?(g=g.concat(q(b,d,a,c,e,e-Math.PI/2,l,m)),g=g.concat(q(b,d,a,c,e-Math.PI/2,f,l,m))):["C",b+a*Math.cos(e)-a*w*t*Math.sin(e)+l,d+c*Math.sin(e)+c*w*t*Math.cos(e)+m,b+a*Math.cos(f)+a*w*t*Math.sin(f)+l,d+c*Math.sin(f)-c*w*t*Math.cos(f)+m,b+a*Math.cos(f)+l,d+c*Math.sin(f)+m]}var u=Math.cos,p=Math.PI,y=Math.sin,B=c.animObject,v=c.charts,h=c.color,z=c.defined,r=c.deg2rad,A=c.each,e=c.extend,b=c.inArray,f=c.map,k=c.merge,d=c.perspective,a=c.pick,m=c.SVGElement,l=c.SVGRenderer,n=c.wrap,w=4*(Math.sqrt(2)-1)/3/(p/2);l.prototype.toLinePath=function(b,d){var a=[];return A(b,function(b){a.push("L",b.x,b.y)}),b.length&&(a[0]="M",d&&a.push("Z")),a},l.prototype.toLineSegments=function(b){var d=[],a=!0;return A(b,function(b){d.push(a?"M":"L",b.x,b.y),a=!a}),d},l.prototype.face3d=function(b){var e=this,g=this.createElement("path");return g.vertexes=[],g.insidePlotArea=!1,g.enabled=!0,n(g,"attr",function(b,g){if("object"==typeof g&&(z(g.enabled)||z(g.vertexes)||z(g.insidePlotArea))){this.enabled=a(g.enabled,this.enabled),this.vertexes=a(g.vertexes,this.vertexes),this.insidePlotArea=a(g.insidePlotArea,this.insidePlotArea),delete g.enabled,delete g.vertexes,delete g.insidePlotArea;var f=d(this.vertexes,v[e.chartIndex],this.insidePlotArea),l=e.toLinePath(f,!0);f=c.shapeArea(f),f=this.enabled&&0<f?"visible":"hidden";g.d=l,g.visibility=f}return b.apply(this,[].slice.call(arguments,1))}),n(g,"animate",function(b,g){if("object"==typeof g&&(z(g.enabled)||z(g.vertexes)||z(g.insidePlotArea))){this.enabled=a(g.enabled,this.enabled),this.vertexes=a(g.vertexes,this.vertexes),this.insidePlotArea=a(g.insidePlotArea,this.insidePlotArea),delete g.enabled,delete g.vertexes,delete g.insidePlotArea;var f=d(this.vertexes,v[e.chartIndex],this.insidePlotArea),l=e.toLinePath(f,!0);f=c.shapeArea(f),f=this.enabled&&0<f?"visible":"hidden";g.d=l,this.attr("visibility",f)}return b.apply(this,[].slice.call(arguments,1))}),g.attr(b)},l.prototype.polyhedron=function(b){var d=this,a=this.g(),e=a.destroy;return a.attr({"stroke-linejoin":"round"}),a.faces=[],a.destroy=function(){for(var b=0;b<a.faces.length;b++)a.faces[b].destroy();return e.call(this)},n(a,"attr",function(b,g,e,c,f){if("object"==typeof g&&z(g.faces)){for(;a.faces.length>g.faces.length;)a.faces.pop().destroy();for(;a.faces.length<g.faces.length;)a.faces.push(d.face3d().add(a));for(var l=0;l<g.faces.length;l++)a.faces[l].attr(g.faces[l],null,c,f);delete g.faces}return b.apply(this,[].slice.call(arguments,1))}),n(a,"animate",function(b,g,e,c){if(g&&g.faces){for(;a.faces.length>g.faces.length;)a.faces.pop().destroy();for(;a.faces.length<g.faces.length;)a.faces.push(d.face3d().add(a));for(var f=0;f<g.faces.length;f++)a.faces[f].animate(g.faces[f],e,c);delete g.faces}return b.apply(this,[].slice.call(arguments,1))}),a.attr(b)},l.prototype.cuboid=function(b){var a=this.g(),d=a.destroy;return b=this.cuboidPath(b),a.attr({"stroke-linejoin":"round"}),a.front=this.path(b[0]).attr({class:"highcharts-3d-front"}).add(a),a.top=this.path(b[1]).attr({class:"highcharts-3d-top"}).add(a),a.side=this.path(b[2]).attr({class:"highcharts-3d-side"}).add(a),a.fillSetter=function(b){return this.front.attr({fill:b}),this.top.attr({fill:h(b).brighten(.1).get()}),this.side.attr({fill:h(b).brighten(-.1).get()}),this.color=b,a.fill=b,this},a.opacitySetter=function(a){return this.front.attr({opacity:a}),this.top.attr({opacity:a}),this.side.attr({opacity:a}),this},a.attr=function(a,b,d,g){if("string"==typeof a&&void 0!==b){var e=a;(a={})[e]=b}return a.shapeArgs||z(a.x)?(a=this.renderer.cuboidPath(a.shapeArgs||a),this.front.attr({d:a[0]}),this.top.attr({d:a[1]}),this.side.attr({d:a[2]}),this):m.prototype.attr.call(this,a,void 0,d,g)},a.animate=function(a,b,d){return z(a.x)&&z(a.y)?(a=this.renderer.cuboidPath(a),this.front.animate({d:a[0]},b,d),this.top.animate({d:a[1]},b,d),this.side.animate({d:a[2]},b,d),this.attr({zIndex:-a[3]})):a.opacity?(this.front.animate(a,b,d),this.top.animate(a,b,d),this.side.animate(a,b,d)):m.prototype.animate.call(this,a,b,d),this},a.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),d.call(this)},a.attr({zIndex:-b[3]}),a},c.SVGRenderer.prototype.cuboidPath=function(a){function b(a){return p[a]}var n,r,g=a.x,e=a.y,l=a.z,m=a.height,k=a.width,t=a.depth,A=v[this.chartIndex],w=A.options.chart.options3d.alpha,h=0,p=d(p=[{x:g,y:e,z:l},{x:g+k,y:e,z:l},{x:g+k,y:e+m,z:l},{x:g,y:e+m,z:l},{x:g,y:e+m,z:l+t},{x:g+k,y:e+m,z:l+t},{x:g+k,y:e,z:l+t},{x:g,y:e,z:l+t}],A,a.insidePlotArea);return r=function(a,d){var g=[[],-1];return a=f(a,b),d=f(d,b),0>c.shapeArea(a)?g=[a,0]:0>c.shapeArea(d)&&(g=[d,1]),g},n=r([3,2,1,0],[7,6,5,4]),a=n[0],k=n[1],n=r([1,6,7,0],[4,5,2,3]),m=n[0],t=n[1],n=r([1,2,5,6],[0,7,4,3]),r=n[0],1===(n=n[1])?h+=1e4*(1e3-g):n||(h+=1e4*g),h+=10*(!t||0<=w&&180>=w||360>w&&357.5<w?A.plotHeight-e:10+e),1===k?h+=100*l:k||(h+=100*(1e3-l)),h=-Math.round(h),[this.toLinePath(a,!0),this.toLinePath(m,!0),this.toLinePath(r,!0),h]},c.SVGRenderer.prototype.arc3d=function(d){function c(a){var d=!1,g={};a=k(a);for(var e in a)-1!==b(e,l)&&(g[e]=a[e],delete a[e],d=!0);return!!d&&g}var g=this.g(),f=g.renderer,l="x y r innerR start end".split(" ");return d=k(d),d.alpha*=r,d.beta*=r,g.top=f.path(),g.side1=f.path(),g.side2=f.path(),g.inn=f.path(),g.out=f.path(),g.onAdd=function(){var a=g.parentGroup,b=g.attr("class");g.top.add(g),A(["out","inn","side1","side2"],function(d){g[d].attr({class:b+" highcharts-3d-side"}).add(a)})},A(["addClass","removeClass"],function(a){g[a]=function(){var b=arguments;A(["top","out","inn","side1","side2"],function(d){g[d][a].apply(g[d],b)})}}),g.setPaths=function(a){var b=g.renderer.arc3dPath(a),d=100*b.zTop;g.attribs=a,g.top.attr({d:b.top,zIndex:b.zTop}),g.inn.attr({d:b.inn,zIndex:b.zInn}),g.out.attr({d:b.out,zIndex:b.zOut}),g.side1.attr({d:b.side1,zIndex:b.zSide1}),g.side2.attr({d:b.side2,zIndex:b.zSide2}),g.zIndex=d,g.attr({zIndex:d}),a.center&&(g.top.setRadialReference(a.center),delete a.center)},g.setPaths(d),g.fillSetter=function(a){var b=h(a).brighten(-.1).get();return this.fill=a,this.side1.attr({fill:b}),this.side2.attr({fill:b}),this.inn.attr({fill:b}),this.out.attr({fill:b}),this.top.attr({fill:a}),this},A(["opacity","translateX","translateY","visibility"],function(a){g[a+"Setter"]=function(a,b){g[b]=a,A(["out","inn","side1","side2","top"],function(d){g[d].attr(b,a)})}}),n(g,"attr",function(a,b){var d;return"object"==typeof b&&(d=c(b))&&(e(g.attribs,d),g.setPaths(g.attribs)),a.apply(this,[].slice.call(arguments,1))}),n(g,"animate",function(b,d,g,e){var f,m,l=this.attribs;return delete d.center,delete d.z,delete d.depth,delete d.alpha,delete d.beta,(m=B(a(g,this.renderer.globalAnimation))).duration&&(f=c(d),d.dummy=1,f&&(m.step=function(b,d){function g(b){return l[b]+(a(f[b],l[b])-l[b])*d.pos}"dummy"===d.prop&&d.elem.setPaths(k(l,{x:g("x"),y:g("y"),r:g("r"),innerR:g("innerR"),start:g("start"),end:g("end")}))}),g=m),b.call(this,d,g,e)}),g.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),m.prototype.destroy.call(this)},g.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},g.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},g},l.prototype.arc3dPath=function(a){function b(a){return(a%=2*Math.PI)>Math.PI&&(a=2*Math.PI-a),a}var d=a.x,e=a.y,c=a.start,f=a.end-1e-5,l=a.r,m=a.innerR,k=a.depth,n=a.alpha,r=a.beta,A=Math.cos(c),w=Math.sin(c);a=Math.cos(f);var t=Math.sin(f),h=l*Math.cos(r),v=(l=l*Math.cos(n),m*Math.cos(r)),z=m*Math.cos(n),B=(m=k*Math.sin(r),k*Math.sin(n)),C=(k=(k=(k=(k=(k=["M",d+h*A,e+l*w]).concat(q(d,e,h,l,c,f,0,0))).concat(["L",d+v*a,e+z*t])).concat(q(d,e,v,z,f,c,0,0))).concat(["Z"]),0<r?Math.PI/2:0),D=(r=0<n?0:Math.PI/2,C=c>-C?c:f>-C?-C:c,f<p-r?f:c<p-r?p-r:f),E=2*p-r;n=(n=["M",d+h*u(C),e+l*y(C)]).concat(q(d,e,h,l,C,D,0,0));return f>E&&c<E?(n=n.concat(["L",d+h*u(D)+m,e+l*y(D)+B]),n=n.concat(q(d,e,h,l,D,E,m,B)),n=n.concat(["L",d+h*u(E),e+l*y(E)]),n=n.concat(q(d,e,h,l,E,f,0,0)),n=n.concat(["L",d+h*u(f)+m,e+l*y(f)+B]),n=n.concat(q(d,e,h,l,f,E,m,B)),n=n.concat(["L",d+h*u(E),e+l*y(E)]),n=n.concat(q(d,e,h,l,E,D,0,0))):f>p-r&&c<p-r&&(n=n.concat(["L",d+h*Math.cos(D)+m,e+l*Math.sin(D)+B]),n=n.concat(q(d,e,h,l,D,f,m,B)),n=n.concat(["L",d+h*Math.cos(f),e+l*Math.sin(f)]),n=n.concat(q(d,e,h,l,f,D,0,0))),n=n.concat(["L",d+h*Math.cos(D)+m,e+l*Math.sin(D)+B]),n=n.concat(q(d,e,h,l,D,C,m,B)),n=n.concat(["Z"]),r=["M",d+v*A,e+z*w],r=r.concat(q(d,e,v,z,c,f,0,0)),r=r.concat(["L",d+v*Math.cos(f)+m,e+z*Math.sin(f)+B]),r=r.concat(q(d,e,v,z,f,c,m,B)),r=r.concat(["Z"]),A=["M",d+h*A,e+l*w,"L",d+h*A+m,e+l*w+B,"L",d+v*A+m,e+z*w+B,"L",d+v*A,e+z*w,"Z"],d=["M",d+h*a,e+l*t,"L",d+h*a+m,e+l*t+B,"L",d+v*a+m,e+z*t+B,"L",d+v*a,e+z*t,"Z"],t=Math.atan2(B,-m),e=Math.abs(f+t),a=Math.abs(c+t),c=Math.abs((c+f)/2+t),e=b(e),a=b(a),c=b(c),c*=1e5,f=1e5*a,e*=1e5,{top:k,zTop:1e5*Math.PI+1,out:n,zOut:Math.max(c,f,e),inn:r,zInn:Math.max(c,f,e),side1:A,zSide1:.99*e,side2:d,zSide2:.99*f}}}(C),function(c){var u=c.Chart,p=c.each,y=c.merge,B=c.perspective,v=c.pick,h=c.wrap;u.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},u.prototype.propsRequireDirtyBox.push("chart.options3d"),u.prototype.propsRequireUpdateSeries.push("chart.options3d"),h(u.prototype,"initSeries",function(c,h){var e=h.type||this.options.chart.type||this.options.chart.defaultSeriesType;return this.is3d()&&"scatter"===e&&(h.type="scatter3d"),c.call(this,h)}),c.wrap(c.Chart.prototype,"isInsidePlot",function(c){return this.is3d()||c.apply(this,[].slice.call(arguments,1))});y(!0,c.getOptions(),{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:"default",frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}}),h(u.prototype,"setClassName",function(c){c.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}),c.wrap(c.Chart.prototype,"setChartSize",function(c){var h=this.options.chart.options3d;if(c.apply(this,[].slice.call(arguments,1)),this.is3d()){var e=this.inverted,b=this.clipBox,f=this.margin;b[e?"y":"x"]=-(f[3]||0),b[e?"x":"y"]=-(f[0]||0),b[e?"height":"width"]=this.chartWidth+(f[3]||0)+(f[1]||0),b[e?"width":"height"]=this.chartHeight+(f[0]||0)+(f[2]||0),this.scale3d=1,!0===h.fitToPlot&&(this.scale3d=function(c,A){var h,e=c.plotLeft,b=c.plotWidth+e,f=c.plotTop,k=c.plotHeight+f,d=e+c.plotWidth/2,a=f+c.plotHeight/2,m=Number.MAX_VALUE,l=-Number.MAX_VALUE,n=Number.MAX_VALUE,r=-Number.MAX_VALUE,x=1;return h=[{x:e,y:f,z:0},{x:e,y:f,z:A}],p([0,1],function(a){h.push({x:b,y:h[a].y,z:h[a].z})}),p([0,1,2,3],function(a){h.push({x:h[a].x,y:k,z:h[a].z})}),h=B(h,c,!1),p(h,function(a){m=Math.min(m,a.x),l=Math.max(l,a.x),n=Math.min(n,a.y),r=Math.max(r,a.y)}),e>m&&(x=Math.min(x,1-Math.abs((e+d)/(m+d))%1)),b<l&&(x=Math.min(x,(b-d)/(l-d))),f>n&&(x=0>n?Math.min(x,(f+a)/(-n+f+a)):Math.min(x,1-(f+a)/(n+a)%1)),k<r&&(x=Math.min(x,Math.abs((k-a)/(r-a)))),x}(this,h.depth))}}),h(u.prototype,"redraw",function(c){this.is3d()&&(this.isDirtyBox=!0,this.frame3d=this.get3dFrame()),c.apply(this,[].slice.call(arguments,1))}),h(u.prototype,"render",function(c){this.is3d()&&(this.frame3d=this.get3dFrame()),c.apply(this,[].slice.call(arguments,1))}),h(u.prototype,"renderSeries",function(c){var h=this.series.length;if(this.is3d())for(;h--;)(c=this.series[h]).translate(),c.render();else c.call(this)}),h(u.prototype,"drawChartBox",function(h){if(this.is3d()){var r=this.renderer,e=this.options.chart.options3d,b=this.get3dFrame(),f=this.plotLeft,k=this.plotLeft+this.plotWidth,d=this.plotTop,a=this.plotTop+this.plotHeight,m=(e=e.depth,f-(b.left.visible?b.left.size:0)),l=k+(b.right.visible?b.right.size:0),n=d-(b.top.visible?b.top.size:0),w=a+(b.bottom.visible?b.bottom.size:0),t=0-(b.front.visible?b.front.size:0),x=e+(b.back.visible?b.back.size:0),g=this.hasRendered?"animate":"attr";this.frame3d=b,this.frameShapes||(this.frameShapes={bottom:r.polyhedron().add(),top:r.polyhedron().add(),left:r.polyhedron().add(),right:r.polyhedron().add(),back:r.polyhedron().add(),front:r.polyhedron().add()}),this.frameShapes.bottom[g]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:b.bottom.frontFacing?-1e3:1e3,faces:[{fill:c.color(b.bottom.color).brighten(.1).get(),vertexes:[{x:m,y:w,z:t},{x:l,y:w,z:t},{x:l,y:w,z:x},{x:m,y:w,z:x}],enabled:b.bottom.visible},{fill:c.color(b.bottom.color).brighten(.1).get(),vertexes:[{x:f,y:a,z:e},{x:k,y:a,z:e},{x:k,y:a,z:0},{x:f,y:a,z:0}],enabled:b.bottom.visible},{fill:c.color(b.bottom.color).brighten(-.1).get(),vertexes:[{x:m,y:w,z:t},{x:m,y:w,z:x},{x:f,y:a,z:e},{x:f,y:a,z:0}],enabled:b.bottom.visible&&!b.left.visible},{fill:c.color(b.bottom.color).brighten(-.1).get(),vertexes:[{x:l,y:w,z:x},{x:l,y:w,z:t},{x:k,y:a,z:0},{x:k,y:a,z:e}],enabled:b.bottom.visible&&!b.right.visible},{fill:c.color(b.bottom.color).get(),vertexes:[{x:l,y:w,z:t},{x:m,y:w,z:t},{x:f,y:a,z:0},{x:k,y:a,z:0}],enabled:b.bottom.visible&&!b.front.visible},{fill:c.color(b.bottom.color).get(),vertexes:[{x:m,y:w,z:x},{x:l,y:w,z:x},{x:k,y:a,z:e},{x:f,y:a,z:e}],enabled:b.bottom.visible&&!b.back.visible}]}),this.frameShapes.top[g]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:b.top.frontFacing?-1e3:1e3,faces:[{fill:c.color(b.top.color).brighten(.1).get(),vertexes:[{x:m,y:n,z:x},{x:l,y:n,z:x},{x:l,y:n,z:t},{x:m,y:n,z:t}],enabled:b.top.visible},{fill:c.color(b.top.color).brighten(.1).get(),vertexes:[{x:f,y:d,z:0},{x:k,y:d,z:0},{x:k,y:d,z:e},{x:f,y:d,z:e}],enabled:b.top.visible},{fill:c.color(b.top.color).brighten(-.1).get(),vertexes:[{x:m,y:n,z:x},{x:m,y:n,z:t},{x:f,y:d,z:0},{x:f,y:d,z:e}],enabled:b.top.visible&&!b.left.visible},{fill:c.color(b.top.color).brighten(-.1).get(),vertexes:[{x:l,y:n,z:t},{x:l,y:n,z:x},{x:k,y:d,z:e},{x:k,y:d,z:0}],enabled:b.top.visible&&!b.right.visible},{fill:c.color(b.top.color).get(),vertexes:[{x:m,y:n,z:t},{x:l,y:n,z:t},{x:k,y:d,z:0},{x:f,y:d,z:0}],enabled:b.top.visible&&!b.front.visible},{fill:c.color(b.top.color).get(),vertexes:[{x:l,y:n,z:x},{x:m,y:n,z:x},{x:f,y:d,z:e},{x:k,y:d,z:e}],enabled:b.top.visible&&!b.back.visible}]}),this.frameShapes.left[g]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:b.left.frontFacing?-1e3:1e3,faces:[{fill:c.color(b.left.color).brighten(.1).get(),vertexes:[{x:m,y:w,z:t},{x:f,y:a,z:0},{x:f,y:a,z:e},{x:m,y:w,z:x}],enabled:b.left.visible&&!b.bottom.visible},{fill:c.color(b.left.color).brighten(.1).get(),vertexes:[{x:m,y:n,z:x},{x:f,y:d,z:e},{x:f,y:d,z:0},{x:m,y:n,z:t}],enabled:b.left.visible&&!b.top.visible},{fill:c.color(b.left.color).brighten(-.1).get(),vertexes:[{x:m,y:w,z:x},{x:m,y:n,z:x},{x:m,y:n,z:t},{x:m,y:w,z:t}],enabled:b.left.visible},{fill:c.color(b.left.color).brighten(-.1).get(),vertexes:[{x:f,y:d,z:e},{x:f,y:a,z:e},{x:f,y:a,z:0},{x:f,y:d,z:0}],enabled:b.left.visible},{fill:c.color(b.left.color).get(),vertexes:[{x:m,y:w,z:t},{x:m,y:n,z:t},{x:f,y:d,z:0},{x:f,y:a,z:0}],enabled:b.left.visible&&!b.front.visible},{fill:c.color(b.left.color).get(),vertexes:[{x:m,y:n,z:x},{x:m,y:w,z:x},{x:f,y:a,z:e},{x:f,y:d,z:e}],enabled:b.left.visible&&!b.back.visible}]}),this.frameShapes.right[g]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:b.right.frontFacing?-1e3:1e3,faces:[{fill:c.color(b.right.color).brighten(.1).get(),vertexes:[{x:l,y:w,z:x},{x:k,y:a,z:e},{x:k,y:a,z:0},{x:l,y:w,z:t}],enabled:b.right.visible&&!b.bottom.visible},{fill:c.color(b.right.color).brighten(.1).get(),vertexes:[{x:l,y:n,z:t},{x:k,y:d,z:0},{x:k,y:d,z:e},{x:l,y:n,z:x}],enabled:b.right.visible&&!b.top.visible},{fill:c.color(b.right.color).brighten(-.1).get(),vertexes:[{x:k,y:d,z:0},{x:k,y:a,z:0},{x:k,y:a,z:e},{x:k,y:d,z:e}],enabled:b.right.visible},{fill:c.color(b.right.color).brighten(-.1).get(),vertexes:[{x:l,y:w,z:t},{x:l,y:n,z:t},{x:l,y:n,z:x},{x:l,y:w,z:x}],enabled:b.right.visible},{fill:c.color(b.right.color).get(),vertexes:[{x:l,y:n,z:t},{x:l,y:w,z:t},{x:k,y:a,z:0},{x:k,y:d,z:0}],enabled:b.right.visible&&!b.front.visible},{fill:c.color(b.right.color).get(),vertexes:[{x:l,y:w,z:x},{x:l,y:n,z:x},{x:k,y:d,z:e},{x:k,y:a,z:e}],enabled:b.right.visible&&!b.back.visible}]}),this.frameShapes.back[g]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:b.back.frontFacing?-1e3:1e3,faces:[{fill:c.color(b.back.color).brighten(.1).get(),vertexes:[{x:l,y:w,z:x},{x:m,y:w,z:x},{x:f,y:a,z:e},{x:k,y:a,z:e}],enabled:b.back.visible&&!b.bottom.visible},{fill:c.color(b.back.color).brighten(.1).get(),vertexes:[{x:m,y:n,z:x},{x:l,y:n,z:x},{x:k,y:d,z:e},{x:f,y:d,z:e}],enabled:b.back.visible&&!b.top.visible},{fill:c.color(b.back.color).brighten(-.1).get(),vertexes:[{x:m,y:w,z:x},{x:m,y:n,z:x},{x:f,y:d,z:e},{x:f,y:a,z:e}],enabled:b.back.visible&&!b.left.visible},{fill:c.color(b.back.color).brighten(-.1).get(),vertexes:[{x:l,y:n,z:x},{x:l,y:w,z:x},{x:k,y:a,z:e},{x:k,y:d,z:e}],enabled:b.back.visible&&!b.right.visible},{fill:c.color(b.back.color).get(),vertexes:[{x:f,y:d,z:e},{x:k,y:d,z:e},{x:k,y:a,z:e},{x:f,y:a,z:e}],enabled:b.back.visible},{fill:c.color(b.back.color).get(),vertexes:[{x:m,y:w,z:x},{x:l,y:w,z:x},{x:l,y:n,z:x},{x:m,y:n,z:x}],enabled:b.back.visible}]}),this.frameShapes.front[g]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:b.front.frontFacing?-1e3:1e3,faces:[{fill:c.color(b.front.color).brighten(.1).get(),vertexes:[{x:m,y:w,z:t},{x:l,y:w,z:t},{x:k,y:a,z:0},{x:f,y:a,z:0}],enabled:b.front.visible&&!b.bottom.visible},{fill:c.color(b.front.color).brighten(.1).get(),vertexes:[{x:l,y:n,z:t},{x:m,y:n,z:t},{x:f,y:d,z:0},{x:k,y:d,z:0}],enabled:b.front.visible&&!b.top.visible},{fill:c.color(b.front.color).brighten(-.1).get(),vertexes:[{x:m,y:n,z:t},{x:m,y:w,z:t},{x:f,y:a,z:0},{x:f,y:d,z:0}],enabled:b.front.visible&&!b.left.visible},{fill:c.color(b.front.color).brighten(-.1).get(),vertexes:[{x:l,y:w,z:t},{x:l,y:n,z:t},{x:k,y:d,z:0},{x:k,y:a,z:0}],enabled:b.front.visible&&!b.right.visible},{fill:c.color(b.front.color).get(),vertexes:[{x:k,y:d,z:0},{x:f,y:d,z:0},{x:f,y:a,z:0},{x:k,y:a,z:0}],enabled:b.front.visible},{fill:c.color(b.front.color).get(),vertexes:[{x:l,y:w,z:t},{x:m,y:w,z:t},{x:m,y:n,z:t},{x:l,y:n,z:t}],enabled:b.front.visible}]})}return h.apply(this,[].slice.call(arguments,1))}),u.prototype.retrieveStacks=function(c){var b,h=this.series,e={},f=1;return p(this.series,function(k){b=v(k.options.stack,c?0:h.length-1-k.index),e[b]?e[b].series.push(k):(e[b]={series:[k],position:f},f++)}),e.totalStacks=f+1,e},u.prototype.get3dFrame=function(){var h=this,A=h.options.chart.options3d,e=A.frame,b=h.plotLeft,f=h.plotLeft+h.plotWidth,k=h.plotTop,d=h.plotTop+h.plotHeight,a=A.depth,l=(m=function(a){return.5<(a=c.shapeArea3d(a,h))?1:-.5>a?-1:0})([{x:b,y:d,z:a},{x:f,y:d,z:a},{x:f,y:d,z:0},{x:b,y:d,z:0}]),n=m([{x:b,y:k,z:0},{x:f,y:k,z:0},{x:f,y:k,z:a},{x:b,y:k,z:a}]),w=m([{x:b,y:k,z:0},{x:b,y:k,z:a},{x:b,y:d,z:a},{x:b,y:d,z:0}]),t=m([{x:f,y:k,z:a},{x:f,y:k,z:0},{x:f,y:d,z:0},{x:f,y:d,z:a}]),x=m([{x:b,y:d,z:0},{x:f,y:d,z:0},{x:f,y:k,z:0},{x:b,y:k,z:0}]),m=m([{x:b,y:k,z:a},{x:f,y:k,z:a},{x:f,y:d,z:a},{x:b,y:d,z:a}]),g=!1,z=!1,y=!1,u=!1;p([].concat(h.xAxis,h.yAxis,h.zAxis),function(a){a&&(a.horiz?a.opposite?z=!0:g=!0:a.opposite?u=!0:y=!0)});var q=function(a,d,b){for(var e=["size","color","visible"],c={},f=0;f<e.length;f++)for(var l=e[f],g=0;g<a.length;g++)if("object"==typeof a[g]){var m=a[g][l];if(void 0!==m&&null!==m){c[l]=m;break}}return a=b,!0===c.visible||!1===c.visible?a=c.visible:"auto"===c.visible&&(a=0<d),{size:v(c.size,1),color:v(c.color,"none"),frontFacing:0<d,visible:a}};e={bottom:q([e.bottom,e.top,e],l,g),top:q([e.top,e.bottom,e],n,z),left:q([e.left,e.right,e.side,e],w,y),right:q([e.right,e.left,e.side,e],t,u),back:q([e.back,e.front,e],m,!0),front:q([e.front,e.back,e],x,!1)};return"auto"===A.axisLabelPosition?(t=function(a,d){return a.visible!==d.visible||a.visible&&d.visible&&a.frontFacing!==d.frontFacing},A=[],t(e.left,e.front)&&A.push({y:(k+d)/2,x:b,z:0,xDir:{x:1,y:0,z:0}}),t(e.left,e.back)&&A.push({y:(k+d)/2,x:b,z:a,xDir:{x:0,y:0,z:-1}}),t(e.right,e.front)&&A.push({y:(k+d)/2,x:f,z:0,xDir:{x:0,y:0,z:1}}),t(e.right,e.back)&&A.push({y:(k+d)/2,x:f,z:a,xDir:{x:-1,y:0,z:0}}),l=[],t(e.bottom,e.front)&&l.push({x:(b+f)/2,y:d,z:0,xDir:{x:1,y:0,z:0}}),t(e.bottom,e.back)&&l.push({x:(b+f)/2,y:d,z:a,xDir:{x:-1,y:0,z:0}}),n=[],t(e.top,e.front)&&n.push({x:(b+f)/2,y:k,z:0,xDir:{x:1,y:0,z:0}}),t(e.top,e.back)&&n.push({x:(b+f)/2,y:k,z:a,xDir:{x:-1,y:0,z:0}}),w=[],t(e.bottom,e.left)&&w.push({z:(0+a)/2,y:d,x:b,xDir:{x:0,y:0,z:-1}}),t(e.bottom,e.right)&&w.push({z:(0+a)/2,y:d,x:f,xDir:{x:0,y:0,z:1}}),d=[],t(e.top,e.left)&&d.push({z:(0+a)/2,y:k,x:b,xDir:{x:0,y:0,z:-1}}),t(e.top,e.right)&&d.push({z:(0+a)/2,y:k,x:f,xDir:{x:0,y:0,z:1}}),b=function(a,d,b){if(0===a.length)return null;if(1===a.length)return a[0];for(var e=0,c=B(a,h,!1),f=1;f<c.length;f++)b*c[f][d]>b*c[e][d]?e=f:b*c[f][d]==b*c[e][d]&&c[f].z<c[e].z&&(e=f);return a[e]},e.axes={y:{left:b(A,"x",-1),right:b(A,"x",1)},x:{top:b(n,"y",-1),bottom:b(l,"y",1)},z:{top:b(d,"y",-1),bottom:b(w,"y",1)}}):e.axes={y:{left:{x:b,z:0,xDir:{x:1,y:0,z:0}},right:{x:f,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:k,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:d,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:y?f:b,y:k,xDir:y?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:y?f:b,y:d,xDir:y?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}},e},c.Fx.prototype.matrixSetter=function(){var h;if(1>this.pos&&(c.isArray(this.start)||c.isArray(this.end))){var A=this.start||[1,0,0,1,0,0],e=this.end||[1,0,0,1,0,0];h=[];for(var b=0;6>b;b++)h.push(this.pos*e[b]+(1-this.pos)*A[b])}else h=this.end;this.elem.attr(this.prop,h,null,!0)}}(C),function(c){function q(d,a,b){if(!d.chart.is3d()||"colorAxis"===d.coll)return a;var c=d.chart,f=B*c.options.chart.options3d.alpha,m=B*c.options.chart.options3d.beta,h=A(b&&d.options.title.position3d,d.options.labels.position3d);b=A(b&&d.options.title.skew3d,d.options.labels.skew3d);var k=c.frame3d,g=c.plotLeft,v=c.plotWidth+g,p=c.plotTop,y=c.plotHeight+p,z=(c=!1,0),u=0,q={x:0,y:1,z:0};if(a=d.swapZ({x:a.x,y:a.y,z:0}),d.isZAxis)if(d.opposite){if(null===k.axes.z.top)return{};u=a.y-p,a.x=k.axes.z.top.x,a.y=k.axes.z.top.y,g=k.axes.z.top.xDir,c=!k.top.frontFacing}else{if(null===k.axes.z.bottom)return{};u=a.y-y,a.x=k.axes.z.bottom.x,a.y=k.axes.z.bottom.y,g=k.axes.z.bottom.xDir,c=!k.bottom.frontFacing}else if(d.horiz)if(d.opposite){if(null===k.axes.x.top)return{};u=a.y-p,a.y=k.axes.x.top.y,a.z=k.axes.x.top.z,g=k.axes.x.top.xDir,c=!k.top.frontFacing}else{if(null===k.axes.x.bottom)return{};u=a.y-y,a.y=k.axes.x.bottom.y,a.z=k.axes.x.bottom.z,g=k.axes.x.bottom.xDir,c=!k.bottom.frontFacing}else if(d.opposite){if(null===k.axes.y.right)return{};z=a.x-v,a.x=k.axes.y.right.x,a.z=k.axes.y.right.z,g={x:(g=k.axes.y.right.xDir).z,y:g.y,z:-g.x}}else{if(null===k.axes.y.left)return{};z=a.x-g,a.x=k.axes.y.left.x,a.z=k.axes.y.left.z,g=k.axes.y.left.xDir}return"chart"!==h&&("flap"===h?d.horiz?(m=Math.sin(f),f=Math.cos(f),d.opposite&&(m=-m),c&&(m=-m),q={x:g.z*m,y:f,z:-g.x*m}):g={x:Math.cos(m),y:0,z:Math.sin(m)}:"ortho"===h?d.horiz?(q=Math.cos(f),h=Math.sin(m)*q,f=-Math.sin(f),m=-q*Math.cos(m),q={x:g.y*m-g.z*f,y:g.z*h-g.x*m,z:g.x*f-g.y*h},f=1/Math.sqrt(q.x*q.x+q.y*q.y+q.z*q.z),c&&(f=-f),q={x:f*q.x,y:f*q.y,z:f*q.z}):g={x:Math.cos(m),y:0,z:Math.sin(m)}:d.horiz?q={x:Math.sin(m)*Math.sin(f),y:Math.cos(f),z:-Math.cos(m)*Math.sin(f)}:g={x:Math.cos(m),y:0,z:Math.sin(m)}),a.x+=z*g.x+u*q.x,a.y+=z*g.y+u*q.y,a.z+=z*g.z+u*q.z,c=r([a],d.chart)[0],b?(0>e(r([a,{x:a.x+g.x,y:a.y+g.y,z:a.z+g.z},{x:a.x+q.x,y:a.y+q.y,z:a.z+q.z}],d.chart))&&(g={x:-g.x,y:-g.y,z:-g.z}),d=r([{x:a.x,y:a.y,z:a.z},{x:a.x+g.x,y:a.y+g.y,z:a.z+g.z},{x:a.x+q.x,y:a.y+q.y,z:a.z+q.z}],d.chart),c.matrix=[d[1].x-d[0].x,d[1].y-d[0].y,d[2].x-d[0].x,d[2].y-d[0].y,c.x,c.y],c.matrix[4]-=c.x*c.matrix[0]+c.y*c.matrix[2],c.matrix[5]-=c.x*c.matrix[1]+c.y*c.matrix[3]):c.matrix=null,c}var u,p=c.Axis,y=c.Chart,B=c.deg2rad,v=c.each,h=c.extend,z=c.merge,r=c.perspective,A=c.pick,e=c.shapeArea,b=c.splat,f=c.Tick,k=c.wrap;z(!0,p.prototype.defaultOptions,{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}),k(p.prototype,"setOptions",function(d,a){d.call(this,a),this.chart.is3d&&this.chart.is3d()&&"colorAxis"!==this.coll&&(d=this.options,d.tickWidth=A(d.tickWidth,0),d.gridLineWidth=A(d.gridLineWidth,1))}),k(p.prototype,"getPlotLinePath",function(d){var a=d.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||"colorAxis"===this.coll||null===a)return a;var c=(b=this.chart).options.chart.options3d,b=(c=this.isZAxis?b.plotWidth:c.depth,b.frame3d);a=[this.swapZ({x:a[1],y:a[2],z:0}),this.swapZ({x:a[1],y:a[2],z:c}),this.swapZ({x:a[4],y:a[5],z:0}),this.swapZ({x:a[4],y:a[5],z:c})],c=[];return this.horiz?(this.isZAxis?(b.left.visible&&c.push(a[0],a[2]),b.right.visible&&c.push(a[1],a[3])):(b.front.visible&&c.push(a[0],a[2]),b.back.visible&&c.push(a[1],a[3])),b.top.visible&&c.push(a[0],a[1]),b.bottom.visible&&c.push(a[2],a[3])):(b.front.visible&&c.push(a[0],a[2]),b.back.visible&&c.push(a[1],a[3]),b.left.visible&&c.push(a[0],a[1]),b.right.visible&&c.push(a[2],a[3])),c=r(c,this.chart,!1),this.chart.renderer.toLineSegments(c)}),k(p.prototype,"getLinePath",function(b){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:b.apply(this,[].slice.call(arguments,1))}),k(p.prototype,"getPlotBandPath",function(b){if(!this.chart.is3d()||"colorAxis"===this.coll)return b.apply(this,[].slice.call(arguments,1));var d=(a=arguments)[2],c=[],a=this.getPlotLinePath(a[1]);d=this.getPlotLinePath(d);if(a&&d)for(var e=0;e<a.length;e+=6)c.push("M",a[e+1],a[e+2],"L",a[e+4],a[e+5],"L",d[e+4],d[e+5],"L",d[e+1],d[e+2],"Z");return c}),k(f.prototype,"getMarkPath",function(b){var a=b.apply(this,[].slice.call(arguments,1));a=[q(this.axis,{x:a[1],y:a[2],z:0}),q(this.axis,{x:a[4],y:a[5],z:0})];return this.axis.chart.renderer.toLineSegments(a)}),k(f.prototype,"getLabelPosition",function(b){var a=b.apply(this,[].slice.call(arguments,1));return q(this.axis,a)}),k(p.prototype,"getTitlePosition",function(b){return q(this,b.apply(this,[].slice.call(arguments,1)),!0)}),k(p.prototype,"drawCrosshair",function(b){var a=arguments;this.chart.is3d()&&"colorAxis"!==this.coll&&a[2]&&(a[2]={plotX:a[2].plotXold||a[2].plotX,plotY:a[2].plotYold||a[2].plotY}),b.apply(this,[].slice.call(a,1))}),k(p.prototype,"destroy",function(b){v(["backFrame","bottomFrame","sideFrame"],function(a){this[a]&&(this[a]=this[a].destroy())},this),b.apply(this,[].slice.call(arguments,1))}),p.prototype.swapZ=function(b,a){return this.isZAxis?(a=a?0:this.chart.plotLeft,{x:a+b.z,y:b.y,z:b.x-a}):b},h((u=c.ZAxis=function(){this.init.apply(this,arguments)}).prototype,p.prototype),h(u.prototype,{isZAxis:!0,setOptions:function(b){b=z({offset:0,lineWidth:0},b),p.prototype.setOptions.call(this,b),this.coll="zAxis"},setAxisSize:function(){p.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var b=this,a=b.chart;b.hasVisibleSeries=!1,b.dataMin=b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=null,b.buildStacks&&b.buildStacks(),v(b.series,function(d){!d.visible&&a.options.chart.ignoreHiddenSeries||(b.hasVisibleSeries=!0,(d=d.zData).length&&(b.dataMin=Math.min(A(b.dataMin,d[0]),Math.min.apply(null,d)),b.dataMax=Math.max(A(b.dataMax,d[0]),Math.max.apply(null,d))))})}}),k(y.prototype,"getAxes",function(d){var a=this,c=(c=this.options).zAxis=b(c.zAxis||{});d.call(this),a.is3d()&&(this.zAxis=[],v(c,function(b,d){b.index=d,b.isX=!0,new u(a,b).setScale()}))})}(C),function(c){var q=c.perspective,u=c.pick;(0,c.wrap)(c.Series.prototype,"translate",function(c){c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dPoints()}),c.Series.prototype.translate3dPoints=function(){var h,z,r,c=this.chart,p=u(this.zAxis,c.options.zAxis[0]),v=[];for(r=0;r<this.data.length;r++)h=this.data[r],p&&p.translate&&(z=p.isLog&&p.val2lin?p.val2lin(h.z):h.z,h.plotZ=p.translate(z),h.isInside=!!h.isInside&&(z>=p.min&&z<=p.max)),v.push({x:u(h.plotXold,h.plotX),y:u(h.plotYold,h.plotY),z:u(h.plotZold,h.plotZ)});for(c=q(v,c,!0),r=0;r<this.data.length;r++)h=this.data[r],p=c[r],h.plotXold=h.plotX,h.plotYold=h.plotY,h.plotZold=h.plotZ,h.plotX=p.x,h.plotY=p.y,h.plotZ=p.z}}(C),function(c){function q(c){var e=c.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=y(this.options.edgeWidth,1)),e}var u=c.each,p=c.perspective,y=c.pick,B=c.Series,v=c.seriesTypes,h=c.inArray,z=c.svg,r=c.wrap;r(v.column.prototype,"translate",function(c){c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),v.column.prototype.translate3dPoints=function(){},v.column.prototype.translate3dShapes=function(){var c=this,e=c.chart,b=c.options,f=b.depth||25,k=(b.stacking?b.stack||0:c.index)*(f+(b.groupZPadding||1)),d=c.borderWidth%2?.5:0;e.inverted&&!c.yAxis.reversed&&(d*=-1),!1!==b.grouping&&(k=0),k+=b.groupZPadding||1,u(c.data,function(a){if(null!==a.y){var n,b=a.shapeArgs,h=a.tooltipPos;u([["x","width"],["y","height"]],function(a){if(0>(n=b[a[0]]-d)&&(b[a[1]]+=b[a[0]]+d,b[a[0]]=-d,n=0),n+b[a[1]]>c[a[0]+"Axis"].len&&0!==b[a[1]]&&(b[a[1]]=c[a[0]+"Axis"].len-b[a[0]]),0!==b[a[1]]&&(b[a[0]]>=c[a[0]+"Axis"].len||b[a[0]]+b[a[1]]<=d))for(var e in b)b[e]=0}),a.shapeType="cuboid",b.z=k,b.depth=f,b.insidePlotArea=!0,h=p([{x:h[0],y:h[1],z:k}],e,!0)[0],a.tooltipPos=[h.x,h.y]}}),c.z=k},r(v.column.prototype,"animate",function(c){if(this.chart.is3d()){var e=arguments[1],b=this.yAxis,f=this,k=this.yAxis.reversed;z&&(e?u(f.data,function(c){null!==c.y&&(c.height=c.shapeArgs.height,c.shapey=c.shapeArgs.y,c.shapeArgs.height=1,k||(c.shapeArgs.y=c.stackY?c.plotY+b.translate(c.stackY):c.plotY+(c.negative?-c.height:c.height)))}):(u(f.data,function(b){null!==b.y&&(b.shapeArgs.height=b.height,b.shapeArgs.y=b.shapey,b.graphic&&b.graphic.animate(b.shapeArgs,f.options.animation))}),this.drawDataLabels(),f.animate=null))}else c.apply(this,[].slice.call(arguments,1))}),r(v.column.prototype,"plotGroup",function(c,e,b,f,k,d){return this.chart.is3d()&&d&&!this[e]&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(d)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0),c.apply(this,Array.prototype.slice.call(arguments,1))}),r(v.column.prototype,"setVisible",function(c,e){var f,b=this;b.chart.is3d()&&u(b.data,function(c){f=(c.visible=c.options.visible=e=void 0===e?!c.visible:e)?"visible":"hidden",b.options.data[h(c,b.data)]=c.options,c.graphic&&c.graphic.attr({visibility:f})}),c.apply(this,Array.prototype.slice.call(arguments,1))}),r(v.column.prototype,"init",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var e=this.options,b=e.grouping,f=e.stacking,h=y(this.yAxis.options.reversedStacks,!0),d=0;if(void 0===b||b){for(b=this.chart.retrieveStacks(f),d=e.stack||0,f=0;f<b[d].series.length&&b[d].series[f]!==this;f++);d=10*(b.totalStacks-b[d].position)+(h?f:-f),this.xAxis.reversed||(d=10*b.totalStacks-d)}e.zIndex=d}}),r(v.column.prototype,"pointAttribs",q),v.columnrange&&(r(v.columnrange.prototype,"pointAttribs",q),v.columnrange.prototype.plotGroup=v.column.prototype.plotGroup,v.columnrange.prototype.setVisible=v.column.prototype.setVisible),r(B.prototype,"alignDataLabel",function(c){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var e=arguments[4],b={x:e.x,y:e.y,z:this.z};b=p([b],this.chart,!0)[0];e.x=b.x,e.y=b.y}c.apply(this,[].slice.call(arguments,1))}),r(c.StackItem.prototype,"getStackBox",function(h,e){var b=h.apply(this,[].slice.call(arguments,1));if(e.is3d()){var f={x:b.x,y:b.y,z:0};f=c.perspective([f],e,!0)[0];b.x=f.x,b.y=f.y}return b})}(C),function(c){var q=c.deg2rad,u=c.each,p=c.pick,y=c.seriesTypes,B=c.svg;(c=c.wrap)(y.pie.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var h=this,p=h.options,r=p.depth||0,v=h.chart.options.chart.options3d,e=v.alpha,b=v.beta,f=(f=p.stacking?(p.stack||0)*r:h._i*r)+r/2;!1!==p.grouping&&(f=0),u(h.data,function(c){var d=c.shapeArgs;c.shapeType="arc3d",d.z=f,d.depth=.75*r,d.alpha=e,d.beta=b,d.center=h.center,d=(d.end+d.start)/2,c.slicedTranslation={translateX:Math.round(Math.cos(d)*p.slicedOffset*Math.cos(e*q)),translateY:Math.round(Math.sin(d)*p.slicedOffset*Math.cos(e*q))}})}}),c(y.pie.prototype.pointClass.prototype,"haloPath",function(c){var h=arguments;return this.series.chart.is3d()?[]:c.call(this,h[1])}),c(y.pie.prototype,"pointAttribs",function(c,h,q){return c=c.call(this,h,q),q=this.options,this.chart.is3d()&&(c.stroke=q.edgeColor||h.color||this.color,c["stroke-width"]=p(q.edgeWidth,1)),c}),c(y.pie.prototype,"drawPoints",function(c){c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&u(this.points,function(c){var h=c.graphic;h&&h[c.y&&c.visible?"show":"hide"]()})}),c(y.pie.prototype,"drawDataLabels",function(c){if(this.chart.is3d()){var h=this.chart.options.chart.options3d;u(this.data,function(c){var p=c.shapeArgs,v=p.r,e=(p.start+p.end)/2,b=c.labelPos,f=-v*(1-Math.cos((p.alpha||h.alpha)*q))*Math.sin(e),k=v*(Math.cos((p.beta||h.beta)*q)-1)*Math.cos(e);u([0,2,4],function(c){b[c]+=k,b[c+1]+=f})})}c.apply(this,[].slice.call(arguments,1))}),c(y.pie.prototype,"addPoint",function(c){c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),c(y.pie.prototype,"animate",function(c){if(this.chart.is3d()){var h=arguments[1],p=this.options.animation,r=this.center,q=this.group,e=this.markerGroup;B&&(!0===p&&(p={}),h?(q.oldtranslateX=q.translateX,q.oldtranslateY=q.translateY,h={translateX:r[0],translateY:r[1],scaleX:.001,scaleY:.001},q.attr(h),e&&(e.attrSetters=q.attrSetters,e.attr(h))):(h={translateX:q.oldtranslateX,translateY:q.oldtranslateY,scaleX:1,scaleY:1},q.animate(h,p),e&&e.animate(h,p),this.animate=null))}else c.apply(this,[].slice.call(arguments,1))})}(C),function(c){var q=c.Point,u=c.seriesType,p=c.seriesTypes;u("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(q){var u=p.scatter.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&q&&(u.zIndex=c.pointCameraDistance(q,this.chart)),u},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){return q.prototype.applyOptions.apply(this,arguments),void 0===this.z&&(this.z=0),this}})}(C),function(c){var q=c.Axis,u=c.SVGRenderer,p=c.VMLRenderer;p&&(c.setOptions({animate:!1}),p.prototype.face3d=u.prototype.face3d,p.prototype.polyhedron=u.prototype.polyhedron,p.prototype.cuboid=u.prototype.cuboid,p.prototype.cuboidPath=u.prototype.cuboidPath,p.prototype.toLinePath=u.prototype.toLinePath,p.prototype.toLineSegments=u.prototype.toLineSegments,p.prototype.createElement3D=u.prototype.createElement3D,p.prototype.arc3d=function(c){return(c=u.prototype.arc3d.call(this,c)).css({zIndex:c.zIndex}),c},c.VMLRenderer.prototype.arc3dPath=c.SVGRenderer.prototype.arc3dPath,c.wrap(q.prototype,"render",function(c){c.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))}(C)}),function(x){"object"==typeof module&&module.exports?module.exports=x:x(Highcharts)}(function(x){!function(a){var t=a.deg2rad,v=a.isNumber,w=a.pick,n=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var g,d,a=this.options,e=this.chart,k=2*(a.slicedOffset||0),b=e.plotWidth-2*k,c=(e=e.plotHeight-2*k,a.center),l=(c=[w(c[0],"50%"),w(c[1],"50%"),a.size||"100%",a.innerSize||0],Math.min(b,e));for(g=0;4>g;++g)d=c[g],a=2>g||2===g&&/%$/.test(d),c[g]=n(d,[b,e,l,c[2]][g])+(a?k:0);return c[3]>c[2]&&(c[3]=c[2]),c},getStartAndEndRadians:function(a,e){return a=v(a)?a:0,e=v(e)&&e>a&&360>e-a?e:a+360,{start:t*(a+-90),end:t*(e+-90)}}}}(x),function(a){function t(a,b){this.init(a,b)}var v=a.CenteredSeriesMixin,w=a.each,n=a.extend,m=a.merge,e=a.splat;n(t.prototype,{coll:"pane",init:function(a,b){this.chart=b,this.background=[],b.pane.push(this),this.setOptions(a)},setOptions:function(a){this.options=m(this.defaultOptions,this.chart.angular?{background:{}}:void 0,a)},render:function(){var a=this.options,b=this.options.background,c=this.chart.renderer;if(this.group||(this.group=c.g("pane-group").attr({zIndex:a.zIndex||0}).add()),this.updateCenter(),b)for(b=e(b),a=Math.max(b.length,this.background.length||0),c=0;c<a;c++)b[c]&&this.axis?this.renderBackground(m(this.defaultBackgroundOptions,b[c]),c):this.background[c]&&(this.background[c]=this.background[c].destroy(),this.background.splice(c,1))},renderBackground:function(a,b){var c="animate";this.background[b]||(this.background[b]=this.chart.renderer.path().add(this.group),c="attr"),this.background[b][c]({d:this.axis.getPlotBandPath(a.from,a.to,a)}).attr({fill:a.backgroundColor,stroke:a.borderColor,"stroke-width":a.borderWidth,class:"highcharts-pane "+(a.className||"")})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(a){this.center=(a||this.axis||{}).center=v.getCenter.call(this)},update:function(a,b){m(!0,this.options,a),this.setOptions(this.options),this.render(),w(this.chart.axes,function(c){c.pane===this&&(c.pane=null,c.update({},b))},this)}}),a.Pane=t}(x),function(a){var c,l,t=a.each,v=a.extend,w=a.map,n=a.merge,m=a.noop,e=a.pick,k=a.pInt,b=a.wrap,g=a.Axis.prototype;a=a.Tick.prototype,c={getOffset:m,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:m,setCategories:m,setTitle:m},l={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(b){(b=this.options=n(this.defaultOptions,this.defaultRadialOptions,b)).plotBands||(b.plotBands=[])},getOffset:function(){g.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(b,c){b=this.center;var d=this.chart,f=e(c,b[2]/2-this.offset);return this.isCircular||void 0!==c?(c=this.chart.renderer.symbols.arc(this.left+b[0],this.top+b[1],f,f,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),c.xBounds=[this.left+b[0]],c.yBounds=[this.top+b[1]-f]):(c=this.postTranslate(this.angleRad,f),c=["M",b[0]+d.plotLeft,b[1]+d.plotTop,"L",c.x,c.y]),c},setAxisTranslation:function(){g.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===e(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad==2*Math.PI)&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){g.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*e(this.sector,1)/2)},getPosition:function(b,c){return this.postTranslate(this.isCircular?this.translate(b):this.angleRad,e(this.isCircular?c:this.translate(b),this.center[2]/2)-this.offset)},postTranslate:function(b,c){var d=this.chart,f=this.center;return b=this.startAngleRad+b,{x:d.plotLeft+f[0]+Math.cos(b)*c,y:d.plotTop+f[1]+Math.sin(b)*c}},getPlotBandPath:function(b,c,a){var m,d=this.center,f=this.startAngleRad,l=d[2]/2,h=[e(a.outerRadius,"100%"),a.innerRadius,e(a.thickness,10)],g=Math.min(this.offset,0),u=/%$/,n=this.isCircular;return"polygon"===this.options.gridLineInterpolation?d=this.getPlotLinePath(b).concat(this.getPlotLinePath(c,!0)):(b=Math.max(b,this.min),c=Math.min(c,this.max),n||(h[0]=this.translate(b),h[1]=this.translate(c)),h=w(h,function(b){return u.test(b)&&(b=k(b,10)*l/100),b}),"circle"!==a.shape&&n?(b=f+this.translate(b),c=f+this.translate(c)):(b=-Math.PI/2,c=1.5*Math.PI,m=!0),h[0]-=g,h[2]-=g,d=this.chart.renderer.symbols.arc(this.left+d[0],this.top+d[1],h[0],h[0],{start:Math.min(b,c),end:Math.max(b,c),innerR:e(h[1],h[0]-h[2]),open:m})),d},getPlotLinePath:function(b,c){var g,e,u,d=this,f=d.center,a=d.chart,l=d.getPosition(b);return d.isCircular?u=["M",f[0]+a.plotLeft,f[1]+a.plotTop,"L",l.x,l.y]:"circle"===d.options.gridLineInterpolation?(b=d.translate(b))&&(u=d.getLinePath(0,b)):(t(a.xAxis,function(b){b.pane===d.pane&&(g=b)}),u=[],b=d.translate(b),f=g.tickPositions,g.autoConnect&&(f=f.concat([f[0]])),c&&(f=[].concat(f).reverse()),t(f,function(c,d){e=g.getPosition(c,b),u.push(d?"L":"M",e.x,e.y)})),u},getTitlePosition:function(){var b=this.center,c=this.chart,a=this.options.title;return{x:c.plotLeft+b[0]+(a.x||0),y:c.plotTop+b[1]-{high:.5,middle:.25,low:0}[a.align]*b[2]+(a.y||0)}}},b(g,"init",function(b,f,a){var m,d=f.angular,h=f.polar,g=a.isX,y=d&&g,u=f.options,k=a.pane||0,t=this.pane=f.pane&&f.pane[k];k=t&&t.options;d?(v(this,y?c:l),(m=!g)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):h&&(v(this,l),this.defaultRadialOptions=(m=g)?this.defaultRadialXOptions:n(this.defaultYAxisOptions,this.defaultRadialYOptions)),d||h?(this.isRadial=!0,f.inverted=!1,u.chart.zoomType=null):this.isRadial=!1,t&&m&&(t.axis=this),b.call(this,f,a),!y&&t&&(d||h)&&(b=this.options,this.angleRad=(b.angle||0)*Math.PI/180,this.startAngleRad=(k.startAngle-90)*Math.PI/180,this.endAngleRad=(e(k.endAngle,k.startAngle+360)-90)*Math.PI/180,this.offset=b.offset||0,this.isCircular=m)}),b(g,"autoLabelAlign",function(b){if(!this.isRadial)return b.apply(this,[].slice.call(arguments,1))}),b(a,"getPosition",function(b,c,a,l,g){var d=this.axis;return d.getPosition?d.getPosition(a):b.call(this,c,a,l,g)}),b(a,"getLabelPosition",function(b,c,a,l,g,r,y,m,u){var d=this.axis,f=r.y,h=20,p=r.align,q=(d.translate(this.pos)+d.startAngleRad+Math.PI/2)/Math.PI*180%360;return d.isRadial?(b=d.getPosition(this.pos,d.center[2]/2+e(r.distance,-25)),"auto"===r.rotation?l.attr({rotation:q}):null===f&&(f=d.chart.renderer.fontMetrics(l.styles.fontSize).b-l.getBBox().height/2),null===p&&(d.isCircular?(this.label.getBBox().width>d.len*d.tickInterval/(d.max-d.min)&&(h=0),p=q>h&&q<180-h?"left":q>180+h&&q<360-h?"right":"center"):p="center",l.attr({align:p})),b.x+=r.x,b.y+=f):b=b.call(this,c,a,l,g,r,y,m,u),b}),b(a,"getMarkPath",function(b,c,a,l,g,r,e){var d=this.axis;return d.isRadial?(b=d.getPosition(this.pos,d.center[2]/2+l),c=["M",c,a,"L",b.x,b.y]):c=b.call(this,c,a,l,g,r,e),c})}(x),function(a){var t=a.each,v=a.pick,w=a.defined,n=a.seriesType,m=a.seriesTypes,e=a.Series.prototype,k=a.Point.prototype;n("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(b){return[b.low,b.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(b){var c=this.chart,a=this.xAxis.postTranslate(b.rectPlotX,this.yAxis.len-b.plotHigh);b.plotHighX=a.x-c.plotLeft,b.plotHigh=a.y-c.plotTop,b.plotLowX=b.plotX},translate:function(){var b=this,c=b.yAxis,a=!!b.modifyValue;m.area.prototype.translate.apply(b),t(b.points,function(l){var d=l.low,f=l.high,h=l.plotY;null===f||null===d?(l.isNull=!0,l.plotY=null):(l.plotLow=h,l.plotHigh=c.translate(a?b.modifyValue(f,l):f,0,1,0,1),a&&(l.yBottom=l.plotHigh))}),this.chart.polar&&t(this.points,function(c){b.highToXY(c),c.tooltipPos=[(c.plotHighX+c.plotLowX)/2,(c.plotHigh+c.plotLow)/2]})},getGraphPath:function(b){var g,f,h,q,c=[],a=[],d=m.area.prototype.getGraphPath;q=this.options;var p=this.chart.polar&&!1!==q.connectEnds,r=q.connectNulls,e=q.step;for(g=(b=b||this.points).length;g--;)(f=b[g]).isNull||p||r||b[g+1]&&!b[g+1].isNull||a.push({plotX:f.plotX,plotY:f.plotY,doCurve:!1}),h={polarPlotY:f.polarPlotY,rectPlotX:f.rectPlotX,yBottom:f.yBottom,plotX:v(f.plotHighX,f.plotX),plotY:f.plotHigh,isNull:f.isNull},a.push(h),c.push(h),f.isNull||p||r||b[g-1]&&!b[g-1].isNull||a.push({plotX:f.plotX,plotY:f.plotY,doCurve:!1});return b=d.call(this,b),e&&(!0===e&&(e="left"),q.step={left:"right",center:"center",right:"left"}[e]),c=d.call(this,c),a=d.call(this,a),q.step=e,q=[].concat(b,c),this.chart.polar||"M"!==a[0]||(a[0]="L"),this.graphPath=q,this.areaPath=b.concat(a),q.isArea=!0,q.xMap=b.xMap,this.areaPath.xMap=b.xMap,q},drawDataLabels:function(){var a,p,r,b=this.data,c=b.length,g=[],d=this.options.dataLabels,f=d.align,h=d.verticalAlign,q=d.inside,y=this.chart.inverted;if(d.enabled||this._hasPointLabels){for(a=c;a--;)(p=b[a])&&(r=q?p.plotHigh<p.plotLow:p.plotHigh>p.plotLow,p.y=p.high,p._plotY=p.plotY,p.plotY=p.plotHigh,g[a]=p.dataLabel,p.dataLabel=p.dataLabelUpper,p.below=r,y?f||(d.align=r?"right":"left"):h||(d.verticalAlign=r?"top":"bottom"),d.x=d.xHigh,d.y=d.yHigh);for(e.drawDataLabels&&e.drawDataLabels.apply(this,arguments),a=c;a--;)(p=b[a])&&(r=q?p.plotHigh<p.plotLow:p.plotHigh>p.plotLow,p.dataLabelUpper=p.dataLabel,p.dataLabel=g[a],p.y=p.low,p.plotY=p._plotY,p.below=!r,y?f||(d.align=r?"left":"right"):h||(d.verticalAlign=r?"bottom":"top"),d.x=d.xLow,d.y=d.yLow);e.drawDataLabels&&e.drawDataLabels.apply(this,arguments)}d.align=f,d.verticalAlign=h},alignDataLabel:function(){m.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var c,a,b=this.points.length;for(e.drawPoints.apply(this,arguments),a=0;a<b;)c=this.points[a],c.lowerGraphic=c.graphic,c.graphic=c.upperGraphic,c._plotY=c.plotY,c._plotX=c.plotX,c.plotY=c.plotHigh,w(c.plotHighX)&&(c.plotX=c.plotHighX),a++;for(e.drawPoints.apply(this,arguments),a=0;a<b;)c=this.points[a],c.upperGraphic=c.graphic,c.graphic=c.lowerGraphic,c.plotY=c._plotY,c.plotX=c._plotX,a++},setStackedPoints:a.noop},{setState:function(){var b=this.state,c=this.series,a=c.chart.polar;w(this.plotHigh)||(this.plotHigh=c.yAxis.toPixels(this.high,!0)),w(this.plotLow)||(this.plotLow=this.plotY=c.yAxis.toPixels(this.low,!0)),k.setState.apply(this,arguments),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,a&&(this.plotX=this.plotHighX),this.state=b,c.stateMarkerGraphic&&(c.lowerStateMarkerGraphic=c.stateMarkerGraphic,c.stateMarkerGraphic=c.upperStateMarkerGraphic),k.setState.apply(this,arguments),this.plotY=this.plotLow,this.graphic=this.lowerGraphic,a&&(this.plotX=this.plotLowX),c.stateMarkerGraphic&&(c.upperStateMarkerGraphic=c.stateMarkerGraphic,c.stateMarkerGraphic=c.lowerStateMarkerGraphic,c.lowerStateMarkerGraphic=void 0)},haloPath:function(){var c,b=this.series.chart.polar;return this.plotY=this.plotLow,b&&(this.plotX=this.plotLowX),c=k.haloPath.apply(this,arguments),this.plotY=this.plotHigh,b&&(this.plotX=this.plotHighX),c=c.concat(k.haloPath.apply(this,arguments))},destroy:function(){return this.upperGraphic&&(this.upperGraphic=this.upperGraphic.destroy()),k.destroy.apply(this,arguments)}})}(x),function(a){(0,a.seriesType)("areasplinerange","arearange",null,{getPointSpline:a.seriesTypes.spline.prototype.getPointSpline})}(x),function(a){var t=a.defaultPlotOptions,v=a.each,w=a.merge,n=a.noop,m=a.pick,e=a.seriesType,k=a.seriesTypes.column.prototype;e("columnrange","arearange",w(t.column,t.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var d,p,b=this,c=b.yAxis,a=b.xAxis,g=a.startAngleRad,f=b.chart,h=b.xAxis.isRadial,q=Math.max(f.chartWidth,f.chartHeight)+999;k.translate.apply(b),v(b.points,function(l){var u,k,r=l.shapeArgs,e=b.options.minPointLength;l.plotHigh=p=Math.min(Math.max(-q,c.translate(l.high,0,1,0,1)),q),l.plotLow=Math.min(Math.max(-q,l.plotY),q),k=p,u=m(l.rectPlotY,l.plotY)-p,Math.abs(u)<e?(e-=u,u+=e,k-=e/2):0>u&&(u*=-1,k-=u),h?(d=l.barX+g,l.shapeType="path",l.shapeArgs={d:b.polarArc(k+u,k,d,d+l.pointWidth)}):(r.height=u,r.y=k,l.tooltipPos=f.inverted?[c.len+c.pos-f.plotLeft-k-u/2,a.len+a.pos-f.plotTop-r.x-r.width/2,u]:[a.left-f.plotLeft+r.x+r.width/2,c.pos-f.plotTop+k+u/2,u])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:n,getSymbol:n,crispCol:k.crispCol,drawPoints:k.drawPoints,drawTracker:k.drawTracker,getColumnMetrics:k.getColumnMetrics,pointAttribs:k.pointAttribs,animate:function(){return k.animate.apply(this,arguments)},polarArc:function(){return k.polarArc.apply(this,arguments)},translate3dPoints:function(){return k.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return k.translate3dShapes.apply(this,arguments)}},{setState:k.pointClass.prototype.setState})}(x),function(a){var t=a.each,v=a.isNumber,w=a.merge,n=a.pick,m=a.pInt,e=a.Series,k=a.seriesType,b=a.TrackerMixin;k("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:a.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var b=this.yAxis,a=this.options,g=b.center;this.generatePoints(),t(this.points,function(c){var d=w(a.dial,c.dial),l=m(n(d.radius,80))*g[2]/200,q=m(n(d.baseLength,70))*l/100,p=m(n(d.rearLength,10))*l/100,r=d.baseWidth||3,e=d.topWidth||1,k=a.overshoot,u=b.startAngleRad+b.translate(c.y,null,null,null,!0);v(k)?(k=k/180*Math.PI,u=Math.max(b.startAngleRad-k,Math.min(b.endAngleRad+k,u))):!1===a.wrap&&(u=Math.max(b.startAngleRad,Math.min(b.endAngleRad,u))),u=180*u/Math.PI,c.shapeType="path",c.shapeArgs={d:d.path||["M",-p,-r/2,"L",q,-r/2,l,-e/2,l,e/2,q,r/2,-p,r/2,"z"],translateX:g[0],translateY:g[1],rotation:u},c.plotX=g[0],c.plotY=g[1]})},drawPoints:function(){var b=this,a=b.yAxis.center,g=b.pivot,d=b.options,f=d.pivot,h=b.chart.renderer;t(b.points,function(c){var a=c.graphic,f=c.shapeArgs,l=f.d,g=w(d.dial,c.dial);a?(a.animate(f),f.d=l):(c.graphic=h[c.shapeType](f).attr({rotation:f.rotation,zIndex:1}).addClass("highcharts-dial").add(b.group),c.graphic.attr({stroke:g.borderColor||"none","stroke-width":g.borderWidth||0,fill:g.backgroundColor||"#000000"}))}),g?g.animate({translateX:a[0],translateY:a[1]}):(b.pivot=h.circle(0,0,n(f.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(a[0],a[1]).add(b.group),b.pivot.attr({"stroke-width":f.borderWidth||0,stroke:f.borderColor||"#cccccc",fill:f.backgroundColor||"#000000"}))},animate:function(b){var c=this;b||(t(c.points,function(b){var a=b.graphic;a&&(a.attr({rotation:180*c.yAxis.startAngleRad/Math.PI}),a.animate({rotation:b.shapeArgs.rotation},c.options.animation))}),c.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),e.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(b,a){e.prototype.setData.call(this,b,!1),this.processData(),this.generatePoints(),n(a,!0)&&this.chart.redraw()},drawTracker:b&&b.drawTrackerPoint},{setState:function(b){this.state=b}})}(x),function(a){var t=a.each,v=a.noop,w=a.pick,n=a.seriesType,m=a.seriesTypes;n("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(a){return[a.low,a.q1,a.median,a.q3,a.high]},pointValKey:"high",pointAttribs:function(a){var e=this.options,b=a&&a.color||this.color;return{fill:a.fillColor||e.fillColor||b,stroke:e.lineColor||b,"stroke-width":e.lineWidth||0}},drawDataLabels:v,translate:function(){var a=this.yAxis,k=this.pointArrayMap;m.column.prototype.translate.apply(this),t(this.points,function(b){t(k,function(c){null!==b[c]&&(b[c+"Plot"]=a.translate(b[c],0,1,0,1))})})},drawPoints:function(){var c,l,g,d,f,h,p,r,m,n,v,a=this,k=a.options,b=a.chart.renderer,q=0,u=!1!==a.doQuartiles,A=a.options.whiskerLength;t(a.points,function(e){var y=e.graphic,t=y?"animate":"attr",J=e.shapeArgs,x={},C={},H={},I=e.color||a.color;void 0!==e.plotY&&(p=J.width,r=Math.floor(J.x),m=r+p,n=Math.round(p/2),c=Math.floor(u?e.q1Plot:e.lowPlot),l=Math.floor(u?e.q3Plot:e.lowPlot),g=Math.floor(e.highPlot),d=Math.floor(e.lowPlot),y||(e.graphic=y=b.g("point").add(a.group),e.stem=b.path().addClass("highcharts-boxplot-stem").add(y),A&&(e.whiskers=b.path().addClass("highcharts-boxplot-whisker").add(y)),u&&(e.box=b.path(void 0).addClass("highcharts-boxplot-box").add(y)),e.medianShape=b.path(void 0).addClass("highcharts-boxplot-median").add(y)),x.stroke=e.stemColor||k.stemColor||I,x["stroke-width"]=w(e.stemWidth,k.stemWidth,k.lineWidth),x.dashstyle=e.stemDashStyle||k.stemDashStyle,e.stem.attr(x),A&&(C.stroke=e.whiskerColor||k.whiskerColor||I,C["stroke-width"]=w(e.whiskerWidth,k.whiskerWidth,k.lineWidth),e.whiskers.attr(C)),u&&(y=a.pointAttribs(e),e.box.attr(y)),H.stroke=e.medianColor||k.medianColor||I,H["stroke-width"]=w(e.medianWidth,k.medianWidth,k.lineWidth),e.medianShape.attr(H),h=e.stem.strokeWidth()%2/2,q=r+n+h,e.stem[t]({d:["M",q,l,"L",q,g,"M",q,c,"L",q,d]}),u&&(h=e.box.strokeWidth()%2/2,c=Math.floor(c)+h,l=Math.floor(l)+h,r+=h,m+=h,e.box[t]({d:["M",r,l,"L",r,c,"L",m,c,"L",m,l,"L",r,l,"z"]})),A&&(h=e.whiskers.strokeWidth()%2/2,g+=h,d+=h,v=/%$/.test(A)?n*parseFloat(A)/100:A/2,e.whiskers[t]({d:["M",q-v,g,"L",q+v,g,"M",q-v,d,"L",q+v,d]})),f=Math.round(e.medianPlot),h=e.medianShape.strokeWidth()%2/2,f+=h,e.medianShape[t]({d:["M",r,f,"L",m,f]}))})},setStackedPoints:v})}(x),function(a){var t=a.each,v=a.noop,w=a.seriesType,n=a.seriesTypes;w("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(a){return[a.low,a.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:n.arearange?function(){var a=this.pointValKey;n.arearange.prototype.drawDataLabels.call(this),t(this.data,function(e){e.y=e[a]})}:v,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||n.column.prototype.getColumnMetrics.call(this)}})}(x),function(a){var t=a.correctFloat,v=a.isNumber,w=a.pick,n=a.Point,m=a.Series,e=a.seriesType,k=a.seriesTypes;e("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var a,g,d,f,h,e,p,r,m,n,z,b=this.options,c=this.yAxis,u=w(b.minPointLength,5),v=u/2,x=b.threshold,D=b.stacking;for(k.column.prototype.translate.apply(this),r=m=x,a=0,b=(g=this.points).length;a<b;a++)d=g[a],p=this.processedYData[a],f=d.shapeArgs,h=D&&c.stacks[(this.negStacks&&p<x?"-":"")+this.stackKey],z=this.getStackIndicator(z,d.x,this.index),n=h?h[d.x].points[z.key]:[0,p],d.isSum?d.y=t(p):d.isIntermediateSum&&(d.y=t(p-m)),e=Math.max(r,r+d.y)+n[0],f.y=c.translate(e,0,1,0,1),d.isSum?(f.y=c.translate(n[1],0,1,0,1),f.height=Math.min(c.translate(n[0],0,1,0,1),c.len)-f.y):d.isIntermediateSum?(f.y=c.translate(n[1],0,1,0,1),f.height=Math.min(c.translate(m,0,1,0,1),c.len)-f.y,m=n[1]):(f.height=0<p?c.translate(r,0,1,0,1)-f.y:c.translate(r,0,1,0,1)-c.translate(r-p,0,1,0,1),r+=h&&h[d.x]?h[d.x].total:p),0>f.height&&(f.y+=f.height,f.height*=-1),d.plotY=f.y=Math.round(f.y)-this.borderWidth%2/2,f.height=Math.max(Math.round(f.height),.001),d.yBottom=f.y+f.height,f.height<=u&&!d.isNull?(f.height=u,f.y-=v,d.plotY=f.y,d.minPointLengthOffset=0>d.y?-v:v):d.minPointLengthOffset=0,f=d.plotY+(d.negative?f.height:0),this.chart.inverted?d.tooltipPos[0]=c.len-f:d.tooltipPos[1]=f},processData:function(b){var e,f,h,q,p,r,k,c=this.yData,a=this.options.data,d=c.length;for(h=f=q=p=this.options.threshold||0,k=0;k<d;k++)r=c[k],e=a&&a[k]?a[k]:{},"sum"===r||e.isSum?c[k]=t(h):"intermediateSum"===r||e.isIntermediateSum?c[k]=t(f):(h+=r,f+=r),q=Math.min(h,q),p=Math.max(h,p);m.prototype.processData.call(this,b),this.options.stacking||(this.dataMin=q,this.dataMax=p)},toYData:function(b){return b.isSum?0===b.x?null:"sum":b.isIntermediateSum?0===b.x?null:"intermediateSum":b.y},pointAttribs:function(b,a){var c=this.options.upColor;return c&&!b.options.color&&(b.color=0<b.y?c:null),b=k.column.prototype.pointAttribs.call(this,b,a),delete b.dashstyle,b},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var f,h,q,b=this.data,a=b.length,e=this.graph.strokeWidth()+this.borderWidth,g=(e=Math.round(e)%2/2,this.yAxis.reversed),d=[];for(q=1;q<a;q++)h=b[q].shapeArgs,h=["M",(f=b[q-1].shapeArgs).x+f.width,f.y+b[q-1].minPointLengthOffset+e,"L",h.x,f.y+b[q-1].minPointLengthOffset+e],(0>b[q-1].y&&!g||0<b[q-1].y&&g)&&(h[2]+=f.height,h[5]+=f.height),d=d.concat(h);return d},drawGraph:function(){m.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){var a,e,b=this.options;for(m.prototype.setStackedPoints.apply(this,arguments),a=this.stackedYData?this.stackedYData.length:0,e=1;e<a;e++)b.data[e].isSum||b.data[e].isIntermediateSum||(this.stackedYData[e]+=this.stackedYData[e-1])},getExtremes:function(){if(this.options.stacking)return m.prototype.getExtremes.apply(this,arguments)}},{getClassName:function(){var b=n.prototype.getClassName.call(this);return this.isSum?b+=" highcharts-sum":this.isIntermediateSum&&(b+=" highcharts-intermediate-sum"),b},isValid:function(){return v(this.y,!0)||this.isSum||this.isIntermediateSum}})}(x),function(a){var t=a.Series,v=a.seriesType,w=a.seriesTypes;v("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var a=t.prototype.getGraphPath.call(this),m=a.length+1;m--;)(m===a.length||"M"===a[m])&&0<m&&a.splice(m,0,"z");return this.areaPath=a},drawGraph:function(){this.options.fillColor=this.color,w.area.prototype.drawGraph.call(this)},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawTracker:t.prototype.drawTracker,setStackedPoints:a.noop})}(x),function(a){var t=a.arrayMax,v=a.arrayMin,w=a.Axis,n=a.color,m=a.each,e=a.isNumber,k=a.noop,b=a.pick,c=a.pInt,l=a.Point,g=a.Series,d=a.seriesType,f=a.seriesTypes;d("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,pointAttribs:function(a,c){var d=b(this.options.marker.fillOpacity,.5);return a=g.prototype.pointAttribs.call(this,a,c),1!==d&&(a.fill=n(a.fill).setOpacity(d).get("rgba")),a},getRadii:function(b,a,c,d){var f,e,h,g=this.zData,l=[],p=this.options,r="width"!==p.sizeBy,q=p.zThreshold,k=a-b;for(e=0,f=g.length;e<f;e++)h=g[e],p.sizeByAbsoluteValue&&null!==h&&(h=Math.abs(h-q),a=Math.max(a-q,Math.abs(b-q)),b=0),null===h?h=null:h<b?h=c/2-1:(h=0<k?(h-b)/k:.5,r&&0<=h&&(h=Math.sqrt(h)),h=Math.ceil(c+h*(d-c))/2),l.push(h);this.radii=l},animate:function(b){var a=this.options.animation;b||(m(this.points,function(b){var d,c=b.graphic;c&&c.width&&(d={x:c.x,y:c.y,width:c.width,height:c.height},c.attr({x:b.plotX,y:b.plotY,width:1,height:1}),c.animate(d,a))}),this.animate=null)},translate:function(){var b,d,g,c=this.data,l=this.radii;for(f.scatter.prototype.translate.call(this),b=c.length;b--;)d=c[b],g=l?l[b]:0,e(g)&&g>=this.minPxSize/2?(d.marker=a.extend(d.marker,{radius:g,width:2*g,height:2*g}),d.dlBox={x:d.plotX-g,y:d.plotY-g,width:2*g,height:2*g}):d.shapeArgs=d.plotY=d.dlBox=void 0},alignDataLabel:f.column.prototype.alignDataLabel,buildKDTree:k,applyZones:k},{haloPath:function(b){return l.prototype.haloPath.call(this,0===b?0:(this.marker?this.marker.radius||0:0)+b)},ttBelow:!1}),w.prototype.beforePadding=function(){var a=this,d=this.len,f=this.chart,g=0,l=d,k=this.isXAxis,n=k?"xData":"yData",w=this.min,x={},D=Math.min(f.plotWidth,f.plotHeight),z=Number.MAX_VALUE,E=-Number.MAX_VALUE,F=this.max-w,B=d/F,G=[];m(this.series,function(d){var e=d.options;!d.bubblePadding||!d.visible&&f.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,G.push(d),k&&(m(["minSize","maxSize"],function(b){var a=e[b],d=/%$/.test(a);a=c(a);x[b]=d?D*a/100:a}),d.minPxSize=x.minSize,d.maxPxSize=Math.max(x.maxSize,x.minSize),(d=d.zData).length&&(z=b(e.zMin,Math.min(z,Math.max(v(d),!1===e.displayNegative?e.zThreshold:-Number.MAX_VALUE))),E=b(e.zMax,Math.max(E,t(d))))))}),m(G,function(b){var f,c=b[n],d=c.length;if(k&&b.getRadii(z,E,b.minPxSize,b.maxPxSize),0<F)for(;d--;)e(c[d])&&a.dataMin<=c[d]&&c[d]<=a.dataMax&&(f=b.radii[d],g=Math.min((c[d]-w)*B-f,g),l=Math.max((c[d]-w)*B+f,l))}),G.length&&0<F&&!this.isLog&&(l-=d,B*=(d+g-l)/d,m([["min","userMin",g],["max","userMax",l]],function(c){void 0===b(a.options[c[0]],a[c[1]])&&(a[c[0]]+=c[2]/B)}))}}(x),function(a){function t(b,a){var c=this.chart,e=this.options.animation,d=this.group,f=this.markerGroup,h=this.xAxis.center,k=c.plotLeft,p=c.plotTop;c.polar?c.renderer.isSVG&&(!0===e&&(e={}),a?(b={translateX:h[0]+k,translateY:h[1]+p,scaleX:.001,scaleY:.001},d.attr(b),f&&f.attr(b)):(b={translateX:k,translateY:p,scaleX:1,scaleY:1},d.animate(b,e),f&&f.animate(b,e),this.animate=null)):b.call(this,a)}var v=a.each,w=a.pick,n=a.seriesTypes,m=a.wrap,e=a.Series.prototype,k=a.Pointer.prototype;e.searchPointByAngle=function(b){var a=this.chart,e=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(b.chartX-e[0]-a.plotLeft,b.chartY-e[1]-a.plotTop)})},e.getConnectors=function(b,a,e,g){var c,f,h,l,k,m,n,t;return f=g?1:0,c=0<=a&&a<=b.length-1?a:0>a?b.length-1+a:0,a=0>c-1?b.length-(1+f):c-1,f=c+1>b.length-1?f:c+1,h=b[a],f=b[f],l=h.plotX,h=h.plotY,k=f.plotX,m=f.plotY,f=b[c].plotX,c=b[c].plotY,l=(1.5*f+l)/2.5,h=(1.5*c+h)/2.5,k=(1.5*f+k)/2.5,n=(1.5*c+m)/2.5,m=Math.sqrt(Math.pow(l-f,2)+Math.pow(h-c,2)),t=Math.sqrt(Math.pow(k-f,2)+Math.pow(n-c,2)),l=Math.atan2(h-c,l-f),n=Math.PI/2+(l+Math.atan2(n-c,k-f))/2,Math.abs(l-n)>Math.PI/2&&(n-=Math.PI),l=f+Math.cos(n)*m,h=c+Math.sin(n)*m,k=f+Math.cos(Math.PI+n)*t,n=c+Math.sin(Math.PI+n)*t,f={rightContX:k,rightContY:n,leftContX:l,leftContY:h,plotX:f,plotY:c},e&&(f.prevPointCont=this.getConnectors(b,a,!1,g)),f},m(e,"buildKDTree",function(b){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy"),b.apply(this)}),e.toXY=function(b){var a,e=this.chart,g=b.plotX;a=b.plotY,b.rectPlotX=g,b.rectPlotY=a,a=this.xAxis.postTranslate(b.plotX,this.yAxis.len-a),b.plotX=b.polarPlotX=a.x-e.plotLeft,b.plotY=b.polarPlotY=a.y-e.plotTop,this.kdByAngle?(0>(e=(g/Math.PI*180+this.xAxis.pane.options.startAngle)%360)&&(e+=360),b.clientX=e):b.clientX=b.plotX},n.spline&&(m(n.spline.prototype,"getPointSpline",function(b,a,e,g){return this.chart.polar?g?(b=this.getConnectors(a,g,!0,this.connectEnds),b=["C",b.prevPointCont.rightContX,b.prevPointCont.rightContY,b.leftContX,b.leftContY,b.plotX,b.plotY]):b=["M",e.plotX,e.plotY]:b=b.call(this,a,e,g),b}),n.areasplinerange&&(n.areasplinerange.prototype.getPointSpline=n.spline.prototype.getPointSpline)),m(e,"translate",function(b){var a=this.chart;if(b.call(this),a.polar&&(this.kdByAngle=a.tooltip&&a.tooltip.shared,!this.preventPostTranslate))for(b=this.points,a=b.length;a--;)this.toXY(b[a])}),m(e,"getGraphPath",function(b,a){var e,d,f,c=this;if(this.chart.polar){for(a=a||this.points,e=0;e<a.length;e++)if(!a[e].isNull){d=e;break}!1!==this.options.connectEnds&&void 0!==d&&(this.connectEnds=!0,a.splice(a.length,0,a[d]),f=!0),v(a,function(b){void 0===b.polarPlotY&&c.toXY(b)})}return e=b.apply(this,[].slice.call(arguments,1)),f&&a.pop(),e}),m(e,"animate",t),n.column&&(n=n.column.prototype,n.polarArc=function(b,a,e,g){var c=this.xAxis.center,f=this.yAxis.len;return this.chart.renderer.symbols.arc(c[0],c[1],f-a,null,{start:e,end:g,innerR:f-w(b,f)})},m(n,"animate",t),m(n,"translate",function(b){var g,d,f,a=this.xAxis,e=a.startAngleRad;if(this.preventPostTranslate=!0,b.call(this),a.isRadial)for(g=this.points,f=g.length;f--;)d=g[f],b=d.barX+e,d.shapeType="path",d.shapeArgs={d:this.polarArc(d.yBottom,d.plotY,b,b+d.pointWidth)},this.toXY(d),d.tooltipPos=[d.plotX,d.plotY],d.ttBelow=d.plotY>a.center[1]}),m(n,"alignDataLabel",function(a,c,l,g,d,f){this.chart.polar?(a=c.rectPlotX/Math.PI*180,null===g.align&&(g.align=20<a&&160>a?"left":200<a&&340>a?"right":"center"),null===g.verticalAlign&&(g.verticalAlign=45>a||315<a?"bottom":135<a&&225>a?"top":"middle"),e.alignDataLabel.call(this,c,l,g,d,f)):a.call(this,c,l,g,d,f)})),m(k,"getCoordinates",function(a,c){var b=this.chart,e={xAxis:[],yAxis:[]};return b.polar?v(b.axes,function(a){var d=a.isXAxis,g=a.center,k=c.chartX-g[0]-b.plotLeft;g=c.chartY-g[1]-b.plotTop;e[d?"xAxis":"yAxis"].push({axis:a,value:a.translate(d?Math.PI-Math.atan2(k,g):Math.sqrt(Math.pow(k,2)+Math.pow(g,2)),!0)})}):e=a.call(this,c),e}),m(a.Chart.prototype,"getAxes",function(b){this.pane||(this.pane=[]),v(a.splat(this.options.pane),function(b){new a.Pane(b,this)},this),b.call(this)}),m(a.Chart.prototype,"drawChartBox",function(a){a.call(this),v(this.pane,function(a){a.render()})}),m(a.Chart.prototype,"get",function(b,c){return a.find(this.pane,function(a){return a.options.id===c})||b.call(this,c)})}(x)}),function(w){"object"==typeof module&&module.exports?module.exports=w:w(Highcharts)}(function(w){!function(a){var h=a.Axis,q=a.each,g=a.pick;(a=a.wrap)(h.prototype,"getSeriesExtremes",function(a){var x,r,e,f=this.isXAxis,u=[];f&&q(this.series,function(a,b){a.useMapGeometry&&(u[b]=a.xData,a.xData=[])}),a.call(this),f&&(x=g(this.dataMin,Number.MAX_VALUE),r=g(this.dataMax,-Number.MAX_VALUE),q(this.series,function(a,b){a.useMapGeometry&&(x=Math.min(x,g(a.minX,x)),r=Math.max(r,g(a.maxX,r)),a.xData=u[b],e=!0)}),e&&(this.dataMin=x,this.dataMax=r))}),a(h.prototype,"setAxisTranslation",function(a){var g,f=(k=this.chart).plotWidth/k.plotHeight,k=k.xAxis[0];a.call(this),"yAxis"===this.coll&&void 0!==k.transA&&q(this.series,function(a){a.preserveAspectRatio&&(g=!0)}),g&&(this.transA=k.transA=Math.min(this.transA,k.transA),a=f/((k.max-k.min)/(this.max-this.min)),a=1>a?this:k,f=(a.max-a.min)*a.transA,a.pixelPadding=a.len-f,a.minPixelPadding=a.pixelPadding/2,f=a.fixTo)&&(f=f[1]-a.toValue(f[0],!0),f*=a.transA,(Math.abs(f)>a.minPixelPadding||a.min===a.dataMin&&a.max===a.dataMax)&&(f=0),a.minPixelPadding-=f)}),a(h.prototype,"render",function(a){a.call(this),this.fixTo=null})}(w),function(a){var f,h=a.Axis,q=a.Chart,g=a.color,k=a.each,x=a.extend,r=a.isNumber,u=a.Legend,e=a.LegendSymbolMixin,c=a.noop,b=a.merge,m=a.pick,t=a.wrap;a.ColorAxis||(f=a.ColorAxis=function(){this.init.apply(this,arguments)},x(f.prototype,h.prototype),x(f.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(h.prototype.keepProps),init:function(a,l){var n,d="vertical"!==a.options.legend.layout;this.coll="colorAxis",n=b(this.defaultColorAxisOptions,{side:d?2:1,reversed:!d},l,{opposite:!d,showEmpty:!1,title:null}),h.prototype.init.call(this,a,n),l.dataClasses&&this.initDataClasses(l),this.initStops(),this.horiz=d,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(a){var d,n=this.chart,p=0,v=n.options.chart.colorCount,c=this.options,e=a.dataClasses.length;this.dataClasses=d=[],this.legendItems=[],k(a.dataClasses,function(a,l){a=b(a),d.push(a),a.color||("category"===c.dataClassColor?(l=n.options.colors,v=l.length,a.color=l[p],a.colorIndex=p,++p===v&&(p=0)):a.color=g(c.minColor).tweenTo(g(c.maxColor),2>e?.5:l/(e-1)))})},setTickPositions:function(){if(!this.dataClasses)return h.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],k(this.stops,function(a){a.color=g(a[1])})},setOptions:function(a){h.prototype.setOptions.call(this,a),this.options.crosshair=this.options.marker},setAxisSize:function(){var p,b,a=this.legendSymbol,l=this.chart,d=l.options.legend||{};a?(this.left=d=a.attr("x"),this.top=p=a.attr("y"),this.width=b=a.attr("width"),this.height=a=a.attr("height"),this.right=l.chartWidth-d-b,this.bottom=l.chartHeight-p-a,this.len=this.horiz?b:a,this.pos=this.horiz?d:p):this.len=(this.horiz?d.symbolWidth:d.symbolHeight)||this.defaultLegendLength},normalizedValue:function(a){return this.isLog&&(a=this.val2lin(a)),1-(this.max-a)/(this.max-this.min||1)},toColor:function(a,l){var p,n,c,e,d=this.stops,b=this.dataClasses;if(b){for(e=b.length;e--;)if(c=b[e],p=c.from,d=c.to,(void 0===p||a>=p)&&(void 0===d||a<=d)){n=c.color,l&&(l.dataClass=e,l.colorIndex=c.colorIndex);break}}else{for(a=this.normalizedValue(a),e=d.length;e--&&!(a>d[e][0]););p=d[e]||d[e+1],a=1-((d=d[e+1]||p)[0]-a)/(d[0]-p[0]||1),n=p.color.tweenTo(d.color,a)}return n},getOffset:function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];a&&(this.axisParent=a,h.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=b)},setLegendColor:function(){var a,b=this.reversed;a=b?1:0,b=b?0:1,a=this.horiz?[a,0,b,0]:[0,b,0,a],this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:this.stops}},drawLegendSymbol:function(a,b){var d=a.padding,p=a.options,c=this.horiz,n=m(p.symbolWidth,c?this.defaultLegendLength:12),l=m(p.symbolHeight,c?12:this.defaultLegendLength),e=m(p.labelPadding,c?16:30);p=m(p.itemDistance,10);this.setLegendColor(),b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,n,l).attr({zIndex:1}).add(b.legendGroup),this.legendItemWidth=n+d+(c?p:e),this.legendItemHeight=l+d+(c?e:0)},setState:c,visible:!0,setVisible:c,getSeriesExtremes:function(){var a=this.series,b=a.length;for(this.dataMin=1/0,this.dataMax=-1/0;b--;)void 0!==a[b].valueMin&&(this.dataMin=Math.min(this.dataMin,a[b].valueMin),this.dataMax=Math.max(this.dataMax,a[b].valueMax))},drawCrosshair:function(a,b){var c,d=b&&b.plotX,p=b&&b.plotY,n=this.pos,e=this.len;b&&((c=this.toPixels(b[b.series.colorKey]))<n?c=n-2:c>n+e&&(c=n+e+2),b.plotX=c,b.plotY=this.len-c,h.prototype.drawCrosshair.call(this,a,b),b.plotX=d,b.plotY=p,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(a,b,d,p,c){return r(c)?this.horiz?["M",c-4,this.top-6,"L",c+4,this.top-6,c,this.top,"Z"]:["M",this.left,c,"L",this.left-6,c+6,this.left-6,c-6,"Z"]:h.prototype.getPlotLinePath.call(this,a,b,d,p)},update:function(a,c){var d=this.chart,p=d.legend;k(this.series,function(a){a.isDirtyData=!0}),a.dataClasses&&p.allItems&&(k(p.allItems,function(a){a.isDataClass&&a.legendGroup&&a.legendGroup.destroy()}),d.isDirtyLegend=!0),d.options[this.coll]=b(this.userOptions,a),h.prototype.update.call(this,a,c),this.legendItem&&(this.setLegendColor(),p.colorizeItem(this,!0))},remove:function(){this.legendItem&&this.chart.legend.destroyItem(this),h.prototype.remove.call(this)},getDataClassLegendSymbols:function(){var t,b=this,l=this.chart,d=this.legendItems,p=l.options.legend,v=p.valueDecimals,m=p.valueSuffix||"";return d.length||k(this.dataClasses,function(p,n){var f=!0,y=p.from,g=p.to;t="",void 0===y?t="< ":void 0===g&&(t="> "),void 0!==y&&(t+=a.numberFormat(y,v)+m),void 0!==y&&void 0!==g&&(t+=" - "),void 0!==g&&(t+=a.numberFormat(g,v)+m),d.push(x({chart:l,name:t,options:{},drawLegendSymbol:e.drawRectangle,visible:!0,setState:c,isDataClass:!0,setVisible:function(){f=this.visible=!f,k(b.series,function(a){k(a.points,function(a){a.dataClass===n&&a.setVisible(f)})}),l.legend.colorizeItem(this,f)}},p))}),d},name:""}),k(["fill","stroke"],function(b){a.Fx.prototype[b+"Setter"]=function(){this.elem.attr(b,g(this.start).tweenTo(g(this.end),this.pos),null,!0)}}),t(q.prototype,"getAxes",function(a){var b=this.options.colorAxis;a.call(this),this.colorAxis=[],b&&new f(this,b)}),t(u.prototype,"getAllItems",function(a){var b=[],d=this.chart.colorAxis[0];return d&&d.options&&(d.options.showInLegend&&(d.options.dataClasses?b=b.concat(d.getDataClassLegendSymbols()):b.push(d)),k(d.series,function(a){a.options.showInLegend=!1})),b.concat(a.call(this))}),t(u.prototype,"colorizeItem",function(a,b,d){a.call(this,b,d),d&&b.legendColor&&b.legendSymbol.attr({fill:b.legendColor})}),t(u.prototype,"update",function(a){a.apply(this,[].slice.call(arguments,1)),this.chart.colorAxis[0]&&this.chart.colorAxis[0].update({},arguments[2])}))}(w),function(a){var h=a.defined,q=a.each,g=a.noop,f=a.seriesTypes;a.colorPointMixin={isValid:function(){return null!==this.value},setVisible:function(a){var f=this,k=a?"show":"hide";q(["graphic","dataLabel"],function(a){f[a]&&f[a][k]()})},setState:function(f){a.Point.prototype.setState.call(this,f),this.graphic&&this.graphic.attr({zIndex:"hover"===f?1:0})}},a.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:g,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:f.column.prototype.pointAttribs,translateColors:function(){var a=this,f=this.options.nullColor,g=this.colorAxis,h=this.colorKey;q(this.data,function(e){var c=e[h];(c=e.options.color||(e.isNull?f:g&&void 0!==c?g.toColor(c,e):e.color||a.color))&&(e.color=c)})},colorAttribs:function(a){var f={};return h(a.color)&&(f[this.colorProp||"fill"]=a.color),f}}}(w),function(a){function h(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function q(a){this.init(a)}var g=a.addEvent,f=a.Chart,k=a.doc,x=a.each,r=a.extend,u=a.merge,e=a.pick,c=a.wrap;q.prototype.init=function(a){this.chart=a,a.mapNavButtons=[]},q.prototype.update=function(b){var n,l,d,p,v,c=this.chart,f=c.options.mapNavigation,k=function(a){this.handler.call(c,a),h(a)},y=c.mapNavButtons;for(b&&(f=c.options.mapNavigation=u(c.options.mapNavigation,b));y.length;)y.pop().destroy();e(f.enableButtons,f.enabled)&&!c.renderer.forExport&&a.objectEach(f.buttons,function(a,b){n=u(f.buttonOptions,a),(l=n.theme).style=u(n.theme.style,n.style),p=(d=l.states)&&d.hover,v=d&&d.select,(a=c.renderer.button(n.text,0,0,k,l,p,v,0,"zoomIn"===b?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:n.width,height:n.height,title:c.options.lang[b],padding:n.padding,zIndex:5}).add()).handler=n.onclick,a.align(r(n,{width:a.width,height:2*a.height}),null,n.alignTo),g(a.element,"dblclick",h),y.push(a)}),this.updateEvents(f)},q.prototype.updateEvents=function(a){var b=this.chart;e(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||g(b.container,"dblclick",function(a){b.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),e(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||g(b.container,void 0===k.onmousewheel?"DOMMouseScroll":"mousewheel",function(a){return b.pointer.onContainerMouseWheel(a),h(a),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},r(f.prototype,{fitToBox:function(a,c){return x([["x","width"],["y","height"]],function(b){var e=b[0];b=b[1],a[e]+a[b]>c[e]+c[b]&&(a[b]>c[b]?(a[b]=c[b],a[e]=c[e]):a[e]=c[e]+c[b]-a[b]),a[b]>c[b]&&(a[b]=c[b]),a[e]<c[e]&&(a[e]=c[e])}),a},mapZoom:function(a,c,f,n,l){var d=this.xAxis[0],b=d.max-d.min,v=e(c,d.min+b/2),k=b*a,g=(b=this.yAxis[0]).max-b.min,m=e(f,b.min+g/2);g*=a,k=(v=this.fitToBox({x:v-k*(n?(n-d.pos)/d.len:.5),y:m-g*(l?(l-b.pos)/b.len:.5),width:k,height:g},{x:d.dataMin,y:b.dataMin,width:d.dataMax-d.dataMin,height:b.dataMax-b.dataMin})).x<=d.dataMin&&v.width>=d.dataMax-d.dataMin&&v.y<=b.dataMin&&v.height>=b.dataMax-b.dataMin;n&&(d.fixTo=[n-d.pos,c]),l&&(b.fixTo=[l-b.pos,f]),void 0===a||k?(d.setExtremes(void 0,void 0,!1),b.setExtremes(void 0,void 0,!1)):(d.setExtremes(v.x,v.x+v.width,!1),b.setExtremes(v.y,v.y+v.height,!1)),this.redraw()}}),c(f.prototype,"render",function(a){this.mapNavigation=new q(this),this.mapNavigation.update(),a.call(this)})}(w),function(a){var h=a.extend,q=a.pick,g=a.Pointer;a=a.wrap,h(g.prototype,{onContainerDblClick:function(a){var f=this.chart;a=this.normalize(a),f.options.mapNavigation.enableDoubleClickZoomTo?f.pointer.inClass(a.target,"highcharts-tracker")&&f.hoverPoint&&f.hoverPoint.zoomTo():f.isInsidePlot(a.chartX-f.plotLeft,a.chartY-f.plotTop)&&f.mapZoom(.5,f.xAxis[0].toValue(a.chartX),f.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)},onContainerMouseWheel:function(a){var g,f=this.chart;g=(a=this.normalize(a)).detail||-a.wheelDelta/120,f.isInsidePlot(a.chartX-f.plotLeft,a.chartY-f.plotTop)&&f.mapZoom(Math.pow(f.options.mapNavigation.mouseWheelSensitivity,g),f.xAxis[0].toValue(a.chartX),f.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)}}),a(g.prototype,"zoomOption",function(a){var f=this.chart.options.mapNavigation;q(f.enableTouchZoom,f.enabled)&&(this.chart.options.chart.pinchType="xy"),a.apply(this,[].slice.call(arguments,1))}),a(g.prototype,"pinchTranslate",function(a,g,q,h,u,e,c){a.call(this,g,q,h,u,e,c),"map"===this.chart.options.chart.type&&this.hasZoom&&(a=h.scaleX>h.scaleY,this.pinchTranslateDirection(!a,g,q,h,u,e,c,a?h.scaleX:h.scaleY))})}(w),function(a){var h=a.colorPointMixin,q=a.each,g=a.extend,f=a.isNumber,k=a.map,x=a.merge,r=a.noop,u=a.pick,e=a.isArray,c=a.Point,b=a.Series,m=a.seriesType,t=a.seriesTypes,n=a.splat,l=void 0!==a.doc.documentElement.style.vectorEffect;m("map","scatter",{allAreas:!0,animation:!1,nullColor:"#f7f7f7",borderColor:"#cccccc",borderWidth:1,marker:null,stickyTracking:!1,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:null,brightness:.2},select:{color:"#cccccc"}}},x(a.colorSeriesMixin,{type:"map",getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:r,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],getBox:function(d){var t,b=Number.MAX_VALUE,c=-b,e=b,n=-b,l=b,g=b,m=this.xAxis,k=this.yAxis;q(d||[],function(d){if(d.path){"string"==typeof d.path&&(d.path=a.splitPath(d.path));var p=d.path||[],v=p.length,m=!1,k=-b,y=b,h=-b,q=b,A=d.properties;if(!d._foundBox){for(;v--;)f(p[v])&&(m?(k=Math.max(k,p[v]),y=Math.min(y,p[v])):(h=Math.max(h,p[v]),q=Math.min(q,p[v])),m=!m);d._midX=y+(k-y)*u(d.middleX,A&&A["hc-middle-x"],.5),d._midY=q+(h-q)*u(d.middleY,A&&A["hc-middle-y"],.5),d._maxX=k,d._minX=y,d._maxY=h,d._minY=q,d.labelrank=u(d.labelrank,(k-y)*(h-q)),d._foundBox=!0}c=Math.max(c,d._maxX),e=Math.min(e,d._minX),n=Math.max(n,d._maxY),l=Math.min(l,d._minY),g=Math.min(d._maxX-d._minX,d._maxY-d._minY,g),t=!0}}),t&&(this.minY=Math.min(l,u(this.minY,b)),this.maxY=Math.max(n,u(this.maxY,-b)),this.minX=Math.min(e,u(this.minX,b)),this.maxX=Math.max(c,u(this.maxX,-b)),m&&void 0===m.options.minRange&&(m.minRange=Math.min(5*g,(this.maxX-this.minX)/5,m.minRange||b)),k&&void 0===k.options.minRange&&(k.minRange=Math.min(5*g,(this.maxY-this.minY)/5,k.minRange||b)))},getExtremes:function(){b.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(a){var m,d=!1,b=this.xAxis,c=this.yAxis,e=b.min,n=b.transA,l=(b=b.minPixelPadding,c.min),g=c.transA,k=(c=c.minPixelPadding,[]);if(a)for(m=a.length;m--;)f(a[m])?(k[m]=d?(a[m]-e)*n+b:(a[m]-l)*g+c,d=!d):k[m]=a[m];return k},setData:function(d,c,l,g){var p=this.options,v=this.chart.options.chart,m=v&&v.map,t=p.mapData,h=p.joinBy,u=null===h,B=p.keys||this.pointArrayMap,r=[],w={},z=this.chart.mapTransforms;if(!t&&m&&(t="string"==typeof m?a.maps[m]:m),u&&(h="_i"),(h=this.joinBy=n(h))[1]||(h[1]=h[0]),d&&q(d,function(a,b){var c=0;if(f(a))d[b]={value:a};else if(e(a)){d[b]={},!p.keys&&a.length>B.length&&"string"==typeof a[0]&&(d[b]["hc-key"]=a[0],++c);for(var n=0;n<B.length;++n,++c)B[n]&&(d[b][B[n]]=a[c])}u&&(d[b]._i=b)}),this.getBox(d),(this.chart.mapTransforms=z=v&&v.mapTransforms||t&&t["hc-transform"]||z)&&a.objectEach(z,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))}),t){for("FeatureCollection"===t.type&&(this.mapTitle=t.title,t=a.geojson(t,this.type,this)),this.mapData=t,this.mapMap={},z=0;z<t.length;z++)v=t[z],m=v.properties,v._i=z,h[0]&&m&&m[h[0]]&&(v[h[0]]=m[h[0]]),w[v[h[0]]]=v;this.mapMap=w,d&&h[1]&&q(d,function(a){w[a[h[1]]]&&r.push(w[a[h[1]]])}),p.allAreas?(this.getBox(t),d=d||[],h[1]&&q(d,function(a){r.push(a[h[1]])}),r="|"+k(r,function(a){return a&&a[h[0]]}).join("|")+"|",q(t,function(a){h[0]&&-1!==r.indexOf("|"+a[h[0]]+"|")||(d.push(x(a,{value:null})),g=!1)})):this.getBox(r)}b.prototype.setData.call(this,d,c,l,g)},drawGraph:r,drawDataLabels:r,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var a=this,b=a.xAxis,c=a.yAxis,e=a.doFullTranslate();a.generatePoints(),q(a.data,function(d){d.plotX=b.toPixels(d._midX,!0),d.plotY=c.toPixels(d._midY,!0),e&&(d.shapeType="path",d.shapeArgs={d:a.translatePath(d.path)})}),a.translateColors()},pointAttribs:function(a,b){return a=t.column.prototype.pointAttribs.call(this,a,b),l?a["vector-effect"]="non-scaling-stroke":a["stroke-width"]="inherit",a},drawPoints:function(){var m,g,h,k,r,x,z,w,G,a=this,b=a.xAxis,c=a.yAxis,e=a.group,n=a.chart,f=n.renderer,u=this.baseTrans;a.transformGroup||(a.transformGroup=f.g().attr({scaleX:1,scaleY:1}).add(e),a.transformGroup.survive=!0),a.doFullTranslate()?(n.hasRendered&&q(a.points,function(b){b.shapeArgs&&(b.shapeArgs.fill=a.pointAttribs(b,b.state).fill)}),a.group=a.transformGroup,t.column.prototype.drawPoints.apply(a),a.group=e,q(a.points,function(a){a.graphic&&(a.name&&a.graphic.addClass("highcharts-name-"+a.name.replace(/ /g,"-").toLowerCase()),a.properties&&a.properties["hc-key"]&&a.graphic.addClass("highcharts-key-"+a.properties["hc-key"].toLowerCase()))}),this.baseTrans={originX:b.min-b.minPixelPadding/b.transA,originY:c.min-c.minPixelPadding/c.transA+(c.reversed?0:c.len/c.transA),transAX:b.transA,transAY:c.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(m=b.transA/u.transAX,g=c.transA/u.transAY,h=b.toPixels(u.originX,!0),k=c.toPixels(u.originY,!0),.99<m&&1.01>m&&.99<g&&1.01>g&&(g=m=1,h=Math.round(h),k=Math.round(k)),r=this.transformGroup,n.renderer.globalAnimation?(x=r.attr("translateX"),z=r.attr("translateY"),w=r.attr("scaleX"),G=r.attr("scaleY"),r.attr({animator:0}).animate({animator:1},{step:function(a,b){r.attr({translateX:x+(h-x)*b.pos,translateY:z+(k-z)*b.pos,scaleX:w+(m-w)*b.pos,scaleY:G+(g-G)*b.pos})}})):r.attr({translateX:h,translateY:k,scaleX:m,scaleY:g})),l||a.group.element.setAttribute("stroke-width",a.options[a.pointAttrToOptions&&a.pointAttrToOptions["stroke-width"]||"borderWidth"]/(m||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){b.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var a=this,c=b.prototype.render;a.chart.renderer.isVML&&3e3<a.data.length?setTimeout(function(){c.call(a)}):c.call(a)},animate:function(a){var b=this.options.animation,d=this.group,c=this.xAxis,e=this.yAxis,n=c.pos,l=e.pos;this.chart.renderer.isSVG&&(!0===b&&(b={duration:1e3}),a?d.attr({translateX:n+c.len/2,translateY:l+e.len/2,scaleX:.001,scaleY:.001}):(d.animate({translateX:n,translateY:l,scaleX:1,scaleY:1},b),this.animate=null))},animateDrilldown:function(a){var b=this.chart.plotBox,d=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],c=d.bBox,e=this.chart.options.drilldown.animation;a||(a=Math.min(c.width/b.width,c.height/b.height),d.shapeArgs={scaleX:a,scaleY:a,translateX:c.x,translateY:c.y},q(this.points,function(a){a.graphic&&a.graphic.attr(d.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},e)}),this.animate=null)},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,animateDrillupFrom:function(a){t.column.prototype.animateDrillupFrom.call(this,a)},animateDrillupTo:function(a){t.column.prototype.animateDrillupTo.call(this,a)}}),g({applyOptions:function(a,b){a=c.prototype.applyOptions.call(this,a,b);var d=(b=this.series).joinBy;return b.mapData&&((d=void 0!==a[d[1]]&&b.mapMap[a[d[1]]])?(b.xyFromShape&&(a.x=d._midX,a.y=d._midY),g(a,d)):a.value=a.value||null),a},onMouseOver:function(a){clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?c.prototype.onMouseOver.call(this,a):this.series.onMouseOut(a)},zoomTo:function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1),a.yAxis.setExtremes(this._minY,this._maxY,!1),a.chart.redraw()}},h))}(w),function(a){var h=a.seriesType,q=a.seriesTypes;h("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(a,f){return a=q.map.prototype.pointAttribs.call(this,a,f),a.fill=this.options.fillColor,a},drawLegendSymbol:q.line.prototype.drawLegendSymbol})}(w),function(a){var h=a.merge,q=a.Point;(a=a.seriesType)("mappoint","scatter",{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0},{applyOptions:function(a,f){return a=void 0!==a.lat&&void 0!==a.lon?h(a,this.series.chart.fromLatLonToPoint(a)):a,q.prototype.applyOptions.call(this,a,f)}})}(w),function(a){var h=a.arrayMax,q=a.arrayMin,g=a.Axis,f=a.color,k=a.each,x=a.isNumber,r=a.noop,u=a.pick,e=a.pInt,c=a.Point,b=a.Series,m=a.seriesType,t=a.seriesTypes;m("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,pointAttribs:function(a,c){var d=u(this.options.marker.fillOpacity,.5);return a=b.prototype.pointAttribs.call(this,a,c),1!==d&&(a.fill=f(a.fill).setOpacity(d).get("rgba")),a},getRadii:function(a,b,c,e){var d,n,l,p=this.zData,m=[],f=this.options,h="width"!==f.sizeBy,g=f.zThreshold,k=b-a;for(n=0,d=p.length;n<d;n++)l=p[n],f.sizeByAbsoluteValue&&null!==l&&(l=Math.abs(l-g),b=Math.max(b-g,Math.abs(a-g)),a=0),null===l?l=null:l<a?l=c/2-1:(l=0<k?(l-a)/k:.5,h&&0<=l&&(l=Math.sqrt(l)),l=Math.ceil(c+l*(e-c))/2),m.push(l);this.radii=m},animate:function(a){var b=this.options.animation;a||(k(this.points,function(a){var d,c=a.graphic;c&&c.width&&(d={x:c.x,y:c.y,width:c.width,height:c.height},c.attr({x:a.plotX,y:a.plotY,width:1,height:1}),c.animate(d,b))}),this.animate=null)},translate:function(){var b,d,e,c=this.data,f=this.radii;for(t.scatter.prototype.translate.call(this),b=c.length;b--;)d=c[b],e=f?f[b]:0,x(e)&&e>=this.minPxSize/2?(d.marker=a.extend(d.marker,{radius:e,width:2*e,height:2*e}),d.dlBox={x:d.plotX-e,y:d.plotY-e,width:2*e,height:2*e}):d.shapeArgs=d.plotY=d.dlBox=void 0},alignDataLabel:t.column.prototype.alignDataLabel,buildKDTree:r,applyZones:r},{haloPath:function(a){return c.prototype.haloPath.call(this,0===a?0:(this.marker?this.marker.radius||0:0)+a)},ttBelow:!1}),g.prototype.beforePadding=function(){var a=this,b=this.len,c=this.chart,f=0,m=b,g=this.isXAxis,t=g?"xData":"yData",r=this.min,w={},H=Math.min(c.plotWidth,c.plotHeight),A=Number.MAX_VALUE,D=-Number.MAX_VALUE,E=this.max-r,C=b/E,F=[];k(this.series,function(b){var d=b.options;!b.bubblePadding||!b.visible&&c.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,F.push(b),g&&(k(["minSize","maxSize"],function(a){var b=d[a],c=/%$/.test(b);b=e(b);w[a]=c?H*b/100:b}),b.minPxSize=w.minSize,b.maxPxSize=Math.max(w.maxSize,w.minSize),(b=b.zData).length&&(A=u(d.zMin,Math.min(A,Math.max(q(b),!1===d.displayNegative?d.zThreshold:-Number.MAX_VALUE))),D=u(d.zMax,Math.max(D,h(b))))))}),k(F,function(b){var e,c=b[t],d=c.length;if(g&&b.getRadii(A,D,b.minPxSize,b.maxPxSize),0<E)for(;d--;)x(c[d])&&a.dataMin<=c[d]&&c[d]<=a.dataMax&&(e=b.radii[d],f=Math.min((c[d]-r)*C-e,f),m=Math.max((c[d]-r)*C+e,m))}),F.length&&0<E&&!this.isLog&&(m-=b,C*=(b+f-m)/b,k([["min","userMin",f],["max","userMax",m]],function(b){void 0===u(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/C)}))}}(w),function(a){var h=a.merge,q=a.Point,g=a.seriesType,f=a.seriesTypes;f.bubble&&g("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:f.map.prototype.getMapData,getBox:f.map.prototype.getBox,setData:f.map.prototype.setData},{applyOptions:function(a,g){return a&&void 0!==a.lat&&void 0!==a.lon?q.prototype.applyOptions.call(this,h(a,this.series.chart.fromLatLonToPoint(a)),g):f.map.prototype.pointClass.prototype.applyOptions.call(this,a,g)},isValid:function(){return"number"==typeof this.z},ttBelow:!1})}(w),function(a){var h=a.colorPointMixin,q=a.each,g=a.merge,f=a.noop,k=a.pick,w=a.Series,r=a.seriesType,u=a.seriesTypes;r("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}},g(a.colorSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var a;u.scatter.prototype.init.apply(this,arguments),(a=this.options).pointRange=k(a.pointRange,a.colsize||1),this.yAxis.axisPointRange=a.rowsize||1},translate:function(){var a=this.options,c=this.xAxis,b=this.yAxis,f=a.pointPadding||0,g=function(a,b,c){return Math.min(Math.max(b,a),c)};this.generatePoints(),q(this.points,function(e){var m=(a.colsize||1)/2,d=(a.rowsize||1)/2,n=g(Math.round(c.len-c.translate(e.x-m,0,1,0,1)),-c.len,2*c.len),h=(m=g(Math.round(c.len-c.translate(e.x+m,0,1,0,1)),-c.len,2*c.len),g(Math.round(b.translate(e.y-d,0,1,0,1)),-b.len,2*b.len)),t=(d=g(Math.round(b.translate(e.y+d,0,1,0,1)),-b.len,2*b.len),k(e.pointPadding,f));e.plotX=e.clientX=(n+m)/2,e.plotY=(h+d)/2,e.shapeType="rect",e.shapeArgs={x:Math.min(n,m)+t,y:Math.min(h,d)+t,width:Math.abs(m-n)-2*t,height:Math.abs(d-h)-2*t}}),this.translateColors()},drawPoints:function(){u.column.prototype.drawPoints.call(this),q(this.points,function(a){a.graphic.attr(this.colorAttribs(a))},this)},animate:f,getBox:f,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,alignDataLabel:u.column.prototype.alignDataLabel,getExtremes:function(){w.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,w.prototype.getExtremes.call(this)}}),a.extend({haloPath:function(a){if(!a)return[];var c=this.shapeArgs;return["M",c.x-a,c.y-a,"L",c.x-a,c.y+c.height+a,c.x+c.width+a,c.y+c.height+a,c.x+c.width+a,c.y-a,"Z"]}},h))}(w),function(a){function h(a,c){var b,e,f,g=!1,l=a.x,d=a.y;for(a=0,b=c.length-1;a<c.length;b=a++)e=c[a][1]>d,f=c[b][1]>d,e!==f&&l<(c[b][0]-c[a][0])*(d-c[a][1])/(c[b][1]-c[a][1])+c[a][0]&&(g=!g);return g}var q=a.Chart,g=a.each,f=a.extend,k=a.format,w=a.merge,r=a.win,u=a.wrap;q.prototype.transformFromLatLon=function(e,c){if(void 0===r.proj4)return a.error(21),{x:0,y:null};e=r.proj4(c.crs,[e.lon,e.lat]);var b=c.cosAngle||c.rotation&&Math.cos(c.rotation),f=c.sinAngle||c.rotation&&Math.sin(c.rotation);return e=c.rotation?[e[0]*b+e[1]*f,-e[0]*f+e[1]*b]:e,{x:((e[0]-(c.xoffset||0))*(c.scale||1)+(c.xpan||0))*(c.jsonres||1)+(c.jsonmarginX||0),y:(((c.yoffset||0)-e[1])*(c.scale||1)+(c.ypan||0))*(c.jsonres||1)-(c.jsonmarginY||0)}},q.prototype.transformToLatLon=function(e,c){if(void 0!==r.proj4){e={x:((e.x-(c.jsonmarginX||0))/(c.jsonres||1)-(c.xpan||0))/(c.scale||1)+(c.xoffset||0),y:((-e.y-(c.jsonmarginY||0))/(c.jsonres||1)+(c.ypan||0))/(c.scale||1)+(c.yoffset||0)};var b=c.cosAngle||c.rotation&&Math.cos(c.rotation),f=c.sinAngle||c.rotation&&Math.sin(c.rotation);return c=r.proj4(c.crs,"WGS84",c.rotation?{x:e.x*b+e.y*-f,y:e.x*f+e.y*b}:e),{lat:c.y,lon:c.x}}a.error(21)},q.prototype.fromPointToLatLon=function(e){var b,c=this.mapTransforms;if(c){for(b in c)if(c.hasOwnProperty(b)&&c[b].hitZone&&h({x:e.x,y:-e.y},c[b].hitZone.coordinates[0]))return this.transformToLatLon(e,c[b]);return this.transformToLatLon(e,c.default)}a.error(22)},q.prototype.fromLatLonToPoint=function(e){var b,f,c=this.mapTransforms;if(!c)return a.error(22),{x:0,y:null};for(b in c)if(c.hasOwnProperty(b)&&c[b].hitZone&&(f=this.transformFromLatLon(e,c[b]),h({x:f.x,y:-f.y},c[b].hitZone.coordinates[0])))return f;return this.transformFromLatLon(e,c.default)},a.geojson=function(a,c,b){var e=[],h=[],n=function(a){var b,c=a.length;for(h.push("M"),b=0;b<c;b++)1===b&&h.push("L"),h.push(a[b][0],-a[b][1])};return c=c||"map",g(a.features,function(a){var m=(b=a.geometry).type,b=b.coordinates;a=a.properties;var l;h=[],"map"===c||"mapbubble"===c?("Polygon"===m?(g(b,n),h.push("Z")):"MultiPolygon"===m&&(g(b,function(a){g(a,n)}),h.push("Z")),h.length&&(l={path:h})):"mapline"===c?("LineString"===m?n(b):"MultiLineString"===m&&g(b,n),h.length&&(l={path:h})):"mappoint"===c&&"Point"===m&&(l={x:b[0],y:-b[1]}),l&&e.push(f(l,{name:a.name||a.NAME,properties:a}))}),b&&a.copyrightShort&&(b.chart.mapCredits=k(b.chart.options.credits.mapText,{geojson:a}),b.chart.mapCreditsFull=k(b.chart.options.credits.mapTextFull,{geojson:a})),e},u(q.prototype,"addCredits",function(a,c){c=w(!0,this.options.credits,c),this.mapCredits&&(c.href=null),a.call(this,c),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}(w),function(a){function h(a,c,e,f,h,d,g,k){return["M",a+h,c,"L",a+e-d,c,"C",a+e-d/2,c,a+e,c+d/2,a+e,c+d,"L",a+e,c+f-g,"C",a+e,c+f-g/2,a+e-g/2,c+f,a+e-g,c+f,"L",a+k,c+f,"C",a+k/2,c+f,a,c+f-k/2,a,c+f-k,"L",a,c+h,"C",a,c+h/2,a+h/2,c,a+h,c,"Z"]}var q=a.Chart,g=a.defaultOptions,f=a.each,k=a.extend,w=a.merge,r=a.pick,u=a.Renderer,e=a.SVGRenderer,c=a.VMLRenderer;k(g.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),g.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},a.splitPath=function(a){var b;for(a=(a=(a=a.replace(/([A-Za-z])/g," $1 ")).replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,]+/),b=0;b<a.length;b++)/[a-zA-Z]/.test(a[b])||(a[b]=parseFloat(a[b]));return a},a.maps={},e.prototype.symbols.topbutton=function(a,c,e,f,g){return h(a-1,c-1,e,f,g.r,g.r,0,0)},e.prototype.symbols.bottombutton=function(a,c,e,f,g){return h(a-1,c-1,e,f,0,0,g.r,g.r)},u===c&&f(["topbutton","bottombutton"],function(a){c.prototype.symbols[a]=e.prototype.symbols[a]}),a.Map=a.mapChart=function(b,c,e){var h,f="string"==typeof b||b.nodeName,g=arguments[f?1:0],d={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},k=a.getOptions().credits;return h=g.series,g.series=null,g=w({chart:{panning:"xy",type:"map"},credits:{mapText:r(k.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:r(k.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:d,yAxis:w(d,{reversed:!0})},g,{chart:{inverted:!1,alignTicks:!1}}),g.series=h,f?new q(b,g,e):new q(g,c)}}(w)}),function(k){"object"==typeof module&&module.exports?module.exports=k:k(Highcharts)}(function(k){!function(f){var k=f.defaultOptions,z=f.doc,B=f.Chart,w=f.addEvent,I=f.removeEvent,F=f.fireEvent,p=f.createElement,C=f.discardElement,u=f.css,n=f.merge,D=f.pick,h=f.each,G=f.objectEach,r=f.extend,J=f.isTouchDevice,E=f.win,H=E.navigator.userAgent,K=f.Renderer.prototype.symbols;/Edge\/|Trident\/|MSIE /.test(H),/firefox/i.test(H),r(k.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),k.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},n(!0,k.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:J?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),k.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},f.post=function(a,b,e){var c=p("form",n({method:"post",action:a,enctype:"multipart/form-data"},e),{display:"none"},z.body);G(b,function(a,b){p("input",{type:"hidden",name:b,value:a},null,c)}),c.submit(),C(c)},r(B.prototype,{sanitizeSVG:function(a,b){if(b&&b.exporting&&b.exporting.allowHTML){var e=a.match(/<\/svg>(.*?$)/);e&&e[1]&&(e='<foreignObject x="0" y="0" width="'+b.chart.width+'" height="'+b.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+e[1]+"</body></foreignObject>",a=a.replace("</svg>",e+"</svg>"))}return a=a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),this.ieSanitizeSVG&&(a=this.ieSanitizeSVG(a)),a},getChartHTML:function(){return this.container.innerHTML},getSVG:function(a){var b,e,c,v,m,g=n(this.options,a);return e=p("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},z.body),c=this.renderTo.style.width,m=this.renderTo.style.height,c=g.exporting.sourceWidth||g.chart.width||/px$/.test(c)&&parseInt(c,10)||600,m=g.exporting.sourceHeight||g.chart.height||/px$/.test(m)&&parseInt(m,10)||400,r(g.chart,{animation:!1,renderTo:e,forExport:!0,renderer:"SVGRenderer",width:c,height:m}),g.exporting.enabled=!1,delete g.data,g.series=[],h(this.series,function(a){(v=n(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible})).isInternal||g.series.push(v)}),h(this.axes,function(a){a.userOptions.internalKey||(a.userOptions.internalKey=f.uniqueKey())}),b=new f.Chart(g,this.callback),a&&h(["xAxis","yAxis","series"],function(c){var d={};a[c]&&(d[c]=a[c],b.update(d))}),h(this.axes,function(a){var c=f.find(b.axes,function(b){return b.options.internalKey===a.userOptions.internalKey}),e=(d=a.getExtremes()).userMin,d=d.userMax;!c||void 0===e&&void 0===d||c.setExtremes(e,d,!0,!1)}),c=b.getChartHTML(),c=this.sanitizeSVG(c,g),g=null,b.destroy(),C(e),c},getSVGForExport:function(a,b){var e=this.options.exporting;return this.getSVG(n({chart:{borderRadius:0}},e.chartOptions,b,{exporting:{sourceWidth:a&&a.sourceWidth||e.sourceWidth,sourceHeight:a&&a.sourceHeight||e.sourceHeight}}))},exportChart:function(a,b){b=this.getSVGForExport(a,b),a=n(this.options.exporting,a),f.post(a.url,{filename:a.filename||"chart",type:a.type,width:a.width||0,scale:a.scale,svg:b},a.formAttributes)},print:function(){var d,t,a=this,b=a.container,e=[],c=b.parentNode,f=z.body,m=f.childNodes,g=a.options.exporting.printMaxWidth;a.isPrinting||(a.isPrinting=!0,a.pointer.reset(null,0),F(a,"beforePrint"),(t=g&&a.chartWidth>g)&&(d=[a.options.chart.width,void 0,!1],a.setSize(g,void 0,!1)),h(m,function(a,b){1===a.nodeType&&(e[b]=a.style.display,a.style.display="none")}),f.appendChild(b),E.focus(),E.print(),setTimeout(function(){c.appendChild(b),h(m,function(a,b){1===a.nodeType&&(a.style.display=e[b])}),a.isPrinting=!1,t&&a.setSize.apply(a,d),F(a,"afterPrint")},1e3))},contextMenu:function(a,b,e,c,v,m,g){var y,A,d=this,t=d.options.navigation,k=d.chartWidth,q=d.chartHeight,n="cache-"+a,l=d[n],x=Math.max(v,m);l||(d[n]=l=p("div",{className:a},{position:"absolute",zIndex:1e3,padding:x+"px"},d.container),y=p("div",{className:"highcharts-menu"},null,l),u(y,r({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},t.menuStyle)),A=function(){u(l,{display:"none"}),g&&g.setState(0),d.openMenu=!1},d.exportEvents.push(w(l,"mouseleave",function(){l.hideTimer=setTimeout(A,500)}),w(l,"mouseenter",function(){clearTimeout(l.hideTimer)}),w(z,"mouseup",function(b){d.pointer.inClass(b.target,a)||A()})),h(b,function(a){if("string"==typeof a&&(a=d.options.exporting.menuItemDefinitions[a]),f.isObject(a,!0)){var b;a.separator?b=p("hr",null,null,y):(b=p("div",{className:"highcharts-menu-item",onclick:function(b){b&&b.stopPropagation(),A(),a.onclick&&a.onclick.apply(d,arguments)},innerHTML:a.text||d.options.lang[a.textKey]},null,y),b.onmouseover=function(){u(this,t.menuItemHoverStyle)},b.onmouseout=function(){u(this,t.menuItemStyle)},u(b,r({cursor:"pointer"},t.menuItemStyle))),d.exportDivElements.push(b)}}),d.exportDivElements.push(y,l),d.exportMenuWidth=l.offsetWidth,d.exportMenuHeight=l.offsetHeight),b={display:"block"},e+d.exportMenuWidth>k?b.right=k-e-v-x+"px":b.left=e-x+"px",c+m+d.exportMenuHeight>q&&"top"!==g.alignOptions.verticalAlign?b.bottom=q-c-x+"px":b.top=c+m-x+"px",u(l,b),d.openMenu=!0},addButton:function(a){var g,d,b=this,e=b.renderer,c=n(b.options.navigation.buttonOptions,a),f=c.onclick,m=c.menuItems,k=c.symbolSize||12;if(b.btnCount||(b.btnCount=0),b.exportDivElements||(b.exportDivElements=[],b.exportSVGElements=[]),!1!==c.enabled){var l,h=c.theme,p=(q=h.states)&&q.hover,q=q&&q.select;delete h.states,f?l=function(a){a.stopPropagation(),f.call(b,a)}:m&&(l=function(){b.contextMenu(d.menuClassName,m,d.translateX,d.translateY,d.width,d.height,d),d.setState(2)}),c.text&&c.symbol?h.paddingLeft=D(h.paddingLeft,25):c.text||r(h,{width:c.width,height:c.height,padding:0}),(d=e.button(c.text,0,0,l,h,p,q).addClass(a.className).attr({"stroke-linecap":"round",title:b.options.lang[c._titleKey],zIndex:3})).menuClassName=a.menuClassName||"highcharts-menu-"+b.btnCount++,c.symbol&&(g=e.symbol(c.symbol,c.symbolX-k/2,c.symbolY-k/2,k,k).addClass("highcharts-button-symbol").attr({zIndex:1}).add(d)).attr({stroke:c.symbolStroke,fill:c.symbolFill,"stroke-width":c.symbolStrokeWidth||1}),d.add().align(r(c,{width:d.width,x:D(c.x,b.buttonOffset)}),!0,"spacingBox"),b.buttonOffset+=(d.width+c.buttonSpacing)*("right"===c.align?-1:1),b.exportSVGElements.push(d,g)}},destroyExport:function(a){var b=a?a.target:this;a=b.exportSVGElements;var f,e=b.exportDivElements,c=b.exportEvents;a&&(h(a,function(a,c){a&&(a.onclick=a.ontouchstart=null,f="cache-"+a.menuClassName,b[f]&&delete b[f],b.exportSVGElements[c]=a.destroy())}),a.length=0),e&&(h(e,function(a,c){clearTimeout(a.hideTimer),I(a,"mouseleave"),b.exportDivElements[c]=a.onmouseout=a.onmouseover=a.ontouchstart=a.onclick=null,C(a)}),e.length=0),c&&(h(c,function(a){a()}),c.length=0)}}),K.menu=function(a,b,e,c){return["M",a,b+2.5,"L",a+e,b+2.5,"M",a,b+c/2+.5,"L",a+e,b+c/2+.5,"M",a,b+c-1.5,"L",a+e,b+c-1.5]},B.prototype.renderExporting=function(){var a=this,b=a.options.exporting,e=b.buttons,c=a.isDirtyExporting||!a.exportSVGElements;a.buttonOffset=0,a.isDirtyExporting&&a.destroyExport(),c&&!1!==b.enabled&&(a.exportEvents=[],G(e,function(b){a.addButton(b)}),a.isDirtyExporting=!1),w(a,"destroy",a.destroyExport)},B.prototype.callbacks.push(function(a){a.renderExporting(),w(a,"redraw",a.renderExporting),h(["exporting","navigation"],function(b){a[b]={update:function(e,c){a.isDirtyExporting=!0,n(!0,a.options[b],e),D(c,!0)&&a.redraw()}}})})}(k)}),function(w){"object"==typeof module&&module.exports?module.exports=w:w(Highcharts)}(function(w){!function(n){var B,v,w=n.win.document,t=n.each,C=n.objectEach,D=n.pick,z=n.inArray,A=n.isNumber,E=n.splat,F=n.fireEvent;B=Array.prototype.some?function(a,b,d){Array.prototype.some.call(a,b,d)}:function(a,b,d){for(var f=0,e=a.length;f<e&&!0!==b.call(d,a[f],f,a);f++);};var x=function(a,b){this.init(a,b)};n.extend(x.prototype,{init:function(a,b){this.options=a,this.chartOptions=b,this.columns=a.columns||this.rowsToColumns(a.rows)||[],this.firstRowAsNames=D(a.firstRowAsNames,!0),this.decimalRegex=a.decimalPoint&&new RegExp("^(-?[0-9]+)"+a.decimalPoint+"([0-9]+)$"),this.rawColumns=[],this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var g,a=this.chartOptions,b=this.options,d=[],f=function(a){return(n.seriesTypes[a||"line"].prototype.pointArrayMap||[0]).length},e=a&&a.chart&&a.chart.type,c=[],h=[],m=0;t(a&&a.series||[],function(a){c.push(f(a.type||e))}),t(b&&b.seriesMapping||[],function(a){d.push(a.x||0)}),0===d.length&&d.push(0),t(b&&b.seriesMapping||[],function(b){var d=new v,u=c[m]||f(e),l=n.seriesTypes[((a&&a.series||[])[m]||{}).type||e||"line"].prototype.pointArrayMap||["y"];for(d.addColumnReader(b.x,"x"),C(b,function(a,b){"x"!==b&&d.addColumnReader(a,b)}),g=0;g<u;g++)d.hasReader(l[g])||d.addColumnReader(void 0,l[g]);h.push(d),m++}),void 0===(b=n.seriesTypes[e||"line"].prototype.pointArrayMap)&&(b=["y"]),this.valueCount={global:f(e),xColumns:d,individual:c,seriesBuilders:h,globalPointArrayMap:b}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()},parseCSV:function(a){function b(a,b,c,d){function e(b){k=a[b],p=a[b-1],n=a[b+1]}function f(a){r.length<q+1&&r.push([a]),r[q][r[q].length-1]!==a&&r[q].push(a)}function g(){G>y||y>H?(++y,l=""):(!isNaN(parseFloat(l))&&isFinite(l)?(l=parseFloat(l),f("number")):isNaN(Date.parse(l))?f("string"):(l=l.replace(/\//g,"-"),f("date")),m.length<q+1&&m.push([]),c||(m[q][b]=l),l="",++q,++y)}var h=0,k="",p="",n="",l="",y=0,q=0;if(a.trim().length&&"#"!==a.trim()[0]){for(;h<a.length;h++){if(e(h),"#"===k)return void g();if('"'===k)for(e(++h);h<a.length&&('"'!==k||'"'===p||'"'===n);)('"'!==k||'"'===k&&'"'!==p)&&(l+=k),e(++h);else d&&d[k]?d[k](k,l)&&g():k===u?g():l+=k}g()}}var m,e=this,c=a||this.options,h=c.csv;a=c.startRow||0;var u,g=c.endRow||Number.MAX_VALUE,G=c.startColumn||0,H=c.endColumn||Number.MAX_VALUE,l=0,r=[],q={",":0,";":0,"\t":0};if(m=this.columns=[],h){h=h.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(c.lineDelimiter||"\n"),(!a||0>a)&&(a=0),(!g||g>=h.length)&&(g=h.length-1),c.itemDelimiter?u=c.itemDelimiter:(u=null,u=function(a){var b=0,d=0,f=!1;return B(a,function(a,c){var f,k,e=!1,g="";if(13<c)return!0;for(var h=0;h<a.length&&(c=a[h],f=a[h+1],k=a[h-1],"#"!==c);h++){if('"'===c)if(e){if('"'!==k&&'"'!==f){for(;" "===f&&h<a.length;)f=a[++h];void 0!==q[f]&&q[f]++,e=!1}}else e=!0;else void 0!==q[c]?(g=g.trim(),isNaN(Date.parse(g))?!isNaN(g)&&isFinite(g)||q[c]++:q[c]++,g=""):g+=c;","===c&&d++,"."===c&&b++}}),f=q[";"]>q[","]?";":",",c.decimalPoint||(c.decimalPoint=b>d?".":",",e.decimalRegex=new RegExp("^(-?[0-9]+)"+c.decimalPoint+"([0-9]+)$")),f}(h));var p=0;for(l=a;l<=g;l++)"#"===h[l][0]?p++:b(h[l],l-a-p);c.columnTypes&&0!==c.columnTypes.length||!r.length||!r[0].length||"date"!==r[0][1]||c.dateFormat||(c.dateFormat=function(a,b){var d,f,k,g=0,h=!1,l=[],m=[];for((!b||b>a.length)&&(b=a.length);g<b;g++)if(void 0!==a[g]&&a[g]&&a[g].length)for(d=a[g].trim().replace(/\//g," ").replace(/\-/g," ").split(" "),f=["","",""],k=0;k<d.length;k++)k<f.length&&(d[k]=parseInt(d[k],10),d[k]&&(m[k]=!m[k]||m[k]<d[k]?d[k]:m[k],void 0!==l[k]?l[k]!==d[k]&&(l[k]=!1):l[k]=d[k],31<d[k]?f[k]=100>d[k]?"YY":"YYYY":12<d[k]&&31>=d[k]?(f[k]="dd",h=!0):f[k].length||(f[k]="mm")));if(h){for(k=0;k<l.length;k++)!1!==l[k]?12<m[k]&&"YY"!==f[k]&&"YYYY"!==f[k]&&(f[k]="YY"):12<m[k]&&"mm"===f[k]&&(f[k]="dd");return a=f.join("/"),(c.dateFormats||e.dateFormats)[a]?a:(F("invalidDateFormat"),n.error("Could not deduce date format"),"YYYY/mm/dd")}return"YYYY/mm/dd"}(m[0])),this.dataFound()}return m},parseTable:function(){var a=this.options,b=a.table,d=this.columns,f=a.startRow||0,e=a.endRow||Number.MAX_VALUE,c=a.startColumn||0,h=a.endColumn||Number.MAX_VALUE;b&&("string"==typeof b&&(b=w.getElementById(b)),t(b.getElementsByTagName("tr"),function(a,b){b>=f&&b<=e&&t(a.children,function(a,e){("TD"===a.tagName||"TH"===a.tagName)&&e>=c&&e<=h&&(d[e-c]||(d[e-c]=[]),d[e-c][b-f]=a.innerHTML)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var g,n,a=this,b=this.options,d=b.googleSpreadsheetKey,f=this.columns,e=b.startRow||0,c=b.endRow||Number.MAX_VALUE,h=b.startColumn||0,m=b.endColumn||Number.MAX_VALUE;d&&jQuery.ajax({dataType:"json",url:"https://spreadsheets.google.com/feeds/cells/"+d+"/"+(b.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",error:b.error,success:function(b){var d,p,l=(b=b.feed.entry).length,r=0,q=0;for(p=0;p<l;p++)d=b[p],r=Math.max(r,d.gs$cell.col),q=Math.max(q,d.gs$cell.row);for(p=0;p<r;p++)p>=h&&p<=m&&(f[p-h]=[],f[p-h].length=Math.min(q,c-e));for(p=0;p<l;p++)d=b[p],g=d.gs$cell.row-1,(n=d.gs$cell.col-1)>=h&&n<=m&&g>=e&&g<=c&&(f[n-h][g-e]=d.content.$t);t(f,function(a){for(p=0;p<a.length;p++)void 0===a[p]&&(a[p]=null)}),a.dataFound()}})},trim:function(a,b){return"string"==typeof a&&(a=a.replace(/^\s+|\s+$/g,""),b&&/^[0-9\s]+$/.test(a)&&(a=a.replace(/\s/g,"")),this.decimalRegex&&(a=a.replace(this.decimalRegex,"$1.$2"))),a},parseTypes:function(){for(var a=this.columns,b=a.length;b--;)this.parseColumn(a[b],b)},parseColumn:function(a,b){var c,h,m,g,r,d=this.rawColumns,f=this.columns,e=a.length,n=this.firstRowAsNames,t=-1!==z(b,this.valueCount.xColumns),u=[],l=this.chartOptions,q=(this.options.columnTypes||[])[b];l=t&&(l&&l.xAxis&&"category"===E(l.xAxis)[0].type||"string"===q);for(d[b]||(d[b]=[]);e--;)c=u[e]||a[e],m=this.trim(c),g=this.trim(c,!0),h=parseFloat(g),void 0===d[b][e]&&(d[b][e]=m),l||0===e&&n?a[e]=""+m:+g===h?(a[e]=h,31536e6<h&&"float"!==q?a.isDatetime=!0:a.isNumeric=!0,void 0!==a[e+1]&&(r=h>a[e+1])):(h=this.parseDate(c),t&&A(h)&&"float"!==q?(u[e]=c,a[e]=h,a.isDatetime=!0,void 0!==a[e+1]&&((c=h>a[e+1])!==r&&void 0!==r&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,e=a.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):a.unsorted=!0),r=c)):(a[e]=""===m?null:m,0!==e&&(a.isDatetime||a.isNumeric)&&(a.mixed=!0)));if(t&&a.mixed&&(f[b]=d[b]),t&&r&&this.options.sort)for(b=0;b<f.length;b++)f[b].reverse(),n&&f[b].unshift(f[b].pop())},dateFormats:{"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(a){return Date.UTC(+a[1],a[2]-1,+a[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(a){return Date.UTC(+a[3],a[2]-1,+a[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(a){return Date.UTC(+a[3],a[1]-1,+a[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(a){var b=(b=+a[3])>(new Date).getFullYear()-2e3?b+1900:b+2e3;return Date.UTC(b,a[2]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(a){return Date.UTC(+a[3]+2e3,a[1]-1,+a[2])}}},parseDate:function(a){var d,f,c,b=this.options.parseDate,e=this.options.dateFormat||this.dateFormat;if(b)d=b(a);else if("string"==typeof a){if(e)(b=this.dateFormats[e])||(b=this.dateFormats["YYYY/mm/dd"]),(c=a.match(b.regex))&&(d=b.parser(c));else for(f in this.dateFormats)if(b=this.dateFormats[f],c=a.match(b.regex)){this.dateFormat=f,this.alternativeFormat=b.alternative,d=b.parser(c);break}c||("object"==typeof(c=Date.parse(a))&&null!==c&&c.getTime?d=c.getTime()-6e4*c.getTimezoneOffset():A(c)&&(d=c-6e4*new Date(c).getTimezoneOffset()))}return d},rowsToColumns:function(a){var b,d,f,e,c;if(a)for(c=[],d=a.length,b=0;b<d;b++)for(e=a[b].length,f=0;f<e;f++)c[f]||(c[f]=[]),c[f][b]=a[b][f];return c},parsed:function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},getFreeIndexes:function(a,b){var d,c,f=[],e=[];for(d=0;d<a;d+=1)f.push(!0);for(a=0;a<b.length;a+=1)for(c=b[a].getReferencedColumnIndexes(),d=0;d<c.length;d+=1)f[c[d]]=!1;for(d=0;d<f.length;d+=1)f[d]&&e.push(d);return e},complete:function(){var b,f,e,c,h,g,a=this.columns,d=this.options,m=[];if(d.complete||d.afterComplete){for(c=0;c<a.length;c++)this.firstRowAsNames&&(a[c].name=a[c].shift());for(f=[],e=this.getFreeIndexes(a.length,this.valueCount.seriesBuilders),c=0;c<this.valueCount.seriesBuilders.length;c++)(g=this.valueCount.seriesBuilders[c]).populateColumns(e)&&m.push(g);for(;0<e.length;){for((g=new v).addColumnReader(0,"x"),-1!==(c=z(0,e))&&e.splice(c,1),c=0;c<this.valueCount.global;c++)g.addColumnReader(void 0,this.valueCount.globalPointArrayMap[c]);g.populateColumns(e)&&m.push(g)}if(0<m.length&&0<m[0].readers.length&&void 0!==(g=a[m[0].readers[0].columnIndex])&&(g.isDatetime?b="datetime":g.isNumeric||(b="category")),"category"===b)for(c=0;c<m.length;c++)for(g=m[c],e=0;e<g.readers.length;e++)"x"===g.readers[e].configName&&(g.readers[e].configName="name");for(c=0;c<m.length;c++){for(g=m[c],e=[],h=0;h<a[0].length;h++)e[h]=g.read(a,h);f[c]={data:e},g.name&&(f[c].name=g.name),"category"===b&&(f[c].turboThreshold=0)}a={series:f},b&&(a.xAxis={type:b},"category"===b&&(a.xAxis.uniqueNames=!1)),d.complete&&d.complete(a),d.afterComplete&&d.afterComplete(a)}},update:function(a,b){var d=this.chart;a&&(a.afterComplete=function(a){d.update(a,b)},n.data(a))}}),n.Data=x,n.data=function(a,b){return new x(a,b)},n.wrap(n.Chart.prototype,"init",function(a,b,d){var f=this;b&&b.data?(f.data=new x(n.extend(b.data,{afterComplete:function(e){var c,h;if(b.hasOwnProperty("series"))if("object"==typeof b.series)for(c=Math.max(b.series.length,e.series.length);c--;)h=b.series[c]||{},b.series[c]=n.merge(h,e.series[c]);else delete b.series;b=n.merge(e,b),a.call(f,b,d)}}),b),f.data.chart=f):a.call(f,b,d)}),(v=function(){this.readers=[],this.pointIsArray=!0}).prototype.populateColumns=function(a){var b=!0;return t(this.readers,function(b){void 0===b.columnIndex&&(b.columnIndex=a.shift())}),t(this.readers,function(a){void 0===a.columnIndex&&(b=!1)}),b},v.prototype.read=function(a,b){var e,d=this.pointIsArray,f=d?[]:{};return t(this.readers,function(c){var e=a[c.columnIndex][b];d?f.push(e):f[c.configName]=e}),void 0===this.name&&2<=this.readers.length&&2<=(e=this.getReferencedColumnIndexes()).length&&(e.shift(),e.sort(),this.name=a[e.shift()].name),f},v.prototype.addColumnReader=function(a,b){this.readers.push({columnIndex:a,configName:b}),"x"!==b&&"y"!==b&&void 0!==b&&(this.pointIsArray=!1)},v.prototype.getReferencedColumnIndexes=function(){var a,d,b=[];for(a=0;a<this.readers.length;a+=1)void 0!==(d=this.readers[a]).columnIndex&&b.push(d.columnIndex);return b},v.prototype.hasReader=function(a){var b;for(b=0;b<this.readers.length;b+=1)if(this.readers[b].configName===a)return!0}}(w)}),function(u){"object"==typeof module&&module.exports?module.exports=u:u(Highcharts)}(function(u){!function(d,u){var x=d.seriesType,m=d.seriesTypes,r=d.map,p=d.merge,E=d.extend,l=d.noop,g=d.each,z=u.getColor,w=d.grep,q=d.isNumber,A=d.isString,f=d.pick,t=d.Series,B=d.stableSort,y=d.Color,F=d.reduce,D=function(a,b,c){c=c||this,!1!==(a=b.call(c,a))&&D(a,b,c)};x("treemap","scatter",{showInLegend:!1,marker:!1,dataLabels:{enabled:!0,defer:!1,verticalAlign:"middle",formatter:function(){return this.point.name||this.point.id},inside:!0},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,opacity:.15,states:{hover:{borderColor:"#999999",brightness:m.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],axisTypes:m.heatmap?["xAxis","yAxis","colorAxis"]:["xAxis","yAxis"],directTouch:!0,optionalAxis:"colorAxis",getSymbol:l,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",translateColors:m.heatmap&&m.heatmap.prototype.translateColors,colorAttribs:m.heatmap&&m.heatmap.prototype.colorAttribs,trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(a,b){return a=F(a||[],function(a,b,e){return b=f(b.parent,""),void 0===a[b]&&(a[b]=[]),a[b].push(e),a},{}),function(a,b,c){c=c||this,d.objectEach(a,function(k,e){b.call(c,k,e,a)})}(a,function(a,k,e){""!==k&&-1===d.inArray(k,b)&&(g(a,function(a){e[""].push(a)}),delete e[k])}),a},getTree:function(){var a=r(this.data,function(a){return a.id});a=this.getListOfParents(this.data,a);return this.nodeMap=[],this.buildNode("",-1,0,a,null)},init:function(a,b){t.prototype.init.call(this,a,b),this.options.allowDrillToNode&&d.addEvent(this,"click",this.onClickDrillToNode)},buildNode:function(a,b,c,k,e){var H,n=this,d=[],h=n.points[b],G=0;return g(k[a]||[],function(b){H=n.buildNode(n.points[b].id,b,c+1,k,a),G=Math.max(H.height+1,G),d.push(H)}),b={id:a,i:b,children:d,height:G,level:c,parent:e,visible:!1},n.nodeMap[b.id]=b,h&&(h.node=b),b},setTreeValues:function(a){var d,b=this,c=b.options,k=b.nodeMap[b.rootNode],e=(c="boolean"!=typeof c.levelIsConstant||c.levelIsConstant,0),n=[],h=b.points[a.i];return g(a.children,function(a){a=b.setTreeValues(a),n.push(a),a.ignore||(e+=a.val)}),B(n,function(a,b){return a.sortIndex-b.sortIndex}),d=f(h&&h.options.value,e),h&&(h.value=d),E(a,{children:n,childrenTotal:e,ignore:!(f(h&&h.visible,!0)&&0<d),isLeaf:a.visible&&!e,levelDynamic:a.level-(c?0:k.level),name:f(h&&h.name,""),sortIndex:f(h&&h.sortIndex,-d),val:d}),a},calculateChildrenAreas:function(a,b){var c=this,k=c.options,e=this.levelMap[a.levelDynamic+1],n=f(c[e&&e.layoutAlgorithm]&&e.layoutAlgorithm,k.layoutAlgorithm),d=k.alternateStartingDirection,h=[];a=w(a.children,function(a){return!a.ignore}),e&&e.layoutStartingDirection&&(b.direction="vertical"===e.layoutStartingDirection?0:1),h=c[n](b,a),g(a,function(a,e){e=h[e],a.values=p(e,{val:a.childrenTotal,direction:d?1-b.direction:b.direction}),a.pointValues=p(e,{x:e.x/c.axisRatio,width:e.width/c.axisRatio}),a.children.length&&c.calculateChildrenAreas(a,a.values)})},setPointValues:function(){var a=this,b=a.xAxis,c=a.yAxis;g(a.points,function(k){var d,h,g,e=k.node,n=e.pointValues;g=(a.pointAttribs(k)["stroke-width"]||0)%2/2,n&&e.visible?(e=Math.round(b.translate(n.x,0,0,0,1))-g,d=Math.round(b.translate(n.x+n.width,0,0,0,1))-g,h=Math.round(c.translate(n.y,0,0,0,1))-g,n=Math.round(c.translate(n.y+n.height,0,0,0,1))-g,k.shapeType="rect",k.shapeArgs={x:Math.min(e,d),y:Math.min(h,n),width:Math.abs(d-e),height:Math.abs(n-h)},k.plotX=k.shapeArgs.x+k.shapeArgs.width/2,k.plotY=k.shapeArgs.y+k.shapeArgs.height/2):(delete k.plotX,delete k.plotY)})},setColorRecursive:function(a,b,c,k,e){var h,d=this,f=(f=d&&d.chart)&&f.options&&f.options.colors;a&&(h=z(a,{colors:f,index:k,levelMap:d.levelMap,parentColor:b,parentColorIndex:c,series:d,siblings:e}),(b=d.points[a.i])&&(b.color=h.color,b.colorIndex=h.colorIndex),g(a.children||[],function(b,c){d.setColorRecursive(b,h.color,h.colorIndex,c,a.children.length)}))},algorithmGroup:function(a,b,c,d){this.height=a,this.width=b,this.plot=d,this.startDirection=this.direction=c,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(a,b){return Math.max(a/b,b/a)}},this.addElement=function(a){this.lP.total=this.elArr[this.elArr.length-1],this.total+=a,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(a)},this.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(a,b,c,d){var e,k,f,h,p,l=c.lW,m=c.lH,v=c.plot,q=0,t=c.elArr.length-1;b?(l=c.nW,m=c.nH):p=c.elArr[c.elArr.length-1],g(c.elArr,function(a){(b||q<t)&&(0===c.direction?(e=v.x,k=v.y,f=l,h=a/f):(e=v.x,k=v.y,h=m,f=a/h),d.push({x:e,y:k,width:f,height:h}),0===c.direction?v.y+=h:v.x+=f),q+=1}),c.reset(),0===c.direction?c.width-=l:c.height-=m,v.y=v.parent.y+(v.parent.height-c.height),v.x=v.parent.x+(v.parent.width-c.width),a&&(c.direction=1-c.direction),b||c.addElement(p)},algorithmLowAspectRatio:function(a,b,c){var n,d=[],e=this,f={x:b.x,y:b.y,parent:b},h=0,l=c.length-1,m=new this.algorithmGroup(b.height,b.width,b.direction,f);return g(c,function(c){n=c.val/b.val*b.height*b.width,m.addElement(n),m.lP.nR>m.lP.lR&&e.algorithmCalcPoints(a,!1,m,d,f),h===l&&e.algorithmCalcPoints(a,!0,m,d,f),h+=1}),d},algorithmFill:function(a,b,c){var e,q,t,r,u,d=[],f=b.direction,l=b.x,h=b.y,m=b.width,p=b.height;return g(c,function(c){e=c.val/b.val*b.height*b.width,q=l,t=h,0===f?(u=p,r=e/u,m-=r,l+=r):(r=m,u=e/r,p-=u,h+=u),d.push({x:q,y:t,width:r,height:u}),a&&(f=1-f)}),d},strip:function(a,b){return this.algorithmLowAspectRatio(!1,a,b)},squarified:function(a,b){return this.algorithmLowAspectRatio(!0,a,b)},sliceAndDice:function(a,b){return this.algorithmFill(!0,a,b)},stripes:function(a,b){return this.algorithmFill(!1,a,b)},translate:function(){var c,d,a=this,b=a.rootNode=f(a.rootNode,a.options.rootId,"");t.prototype.translate.call(a),a.levelMap=F(a.options.levels||[],function(a,b){return a[b.level]=b,a},{}),d=a.tree=a.getTree(),c=a.nodeMap[b],""===b||c&&c.children.length||(a.drillToNode("",!1),b=a.rootNode,c=a.nodeMap[b]),D(a.nodeMap[a.rootNode],function(b){var c=!1,d=b.parent;return b.visible=!0,(d||""===d)&&(c=a.nodeMap[d]),c}),D(a.nodeMap[a.rootNode].children,function(a){var b=!1;return g(a,function(a){a.visible=!0,a.children.length&&(b=(b||[]).concat(a.children))}),b}),a.setTreeValues(d),a.axisRatio=a.xAxis.len/a.yAxis.len,a.nodeMap[""].pointValues=b={x:0,y:0,width:100,height:100},a.nodeMap[""].values=b=p(b,{width:b.width*a.axisRatio,direction:"vertical"===a.options.layoutStartingDirection?0:1,val:d.val}),a.calculateChildrenAreas(d,b),a.colorAxis?a.translateColors():a.options.colorByPoint||a.setColorRecursive(a.tree),a.options.allowDrillToNode&&(c=c.pointValues,a.xAxis.setExtremes(c.x,c.x+c.width,!1),a.yAxis.setExtremes(c.y,c.y+c.height,!1),a.xAxis.setScale(),a.yAxis.setScale()),a.setPointValues()},drawDataLabels:function(){var c,d,a=this,b=w(a.points,function(a){return a.node.visible});g(b,function(b){d=a.levelMap[b.node.levelDynamic],c={style:{}},b.node.isLeaf||(c.enabled=!1),d&&d.dataLabels&&(c=p(c,d.dataLabels),a._hasPointLabels=!0),b.shapeArgs&&(c.style.width=b.shapeArgs.width,b.dataLabel&&b.dataLabel.css({width:b.shapeArgs.width+"px"})),b.dlOptions=p(c,b.options.dataLabels)}),t.prototype.drawDataLabels.call(this)},alignDataLabel:function(a){m.column.prototype.alignDataLabel.apply(this,arguments),a.dataLabel&&a.dataLabel.attr({zIndex:(a.node.zIndex||0)+1})},pointAttribs:function(a,b){var c=a&&this.levelMap[a.node.levelDynamic]||{},d=this.options,e=b&&d.states[b]||{},g=a&&a.getClassName()||"";return a={stroke:a&&a.borderColor||c.borderColor||e.borderColor||d.borderColor,"stroke-width":f(a&&a.borderWidth,c.borderWidth,e.borderWidth,d.borderWidth),dashstyle:a&&a.borderDashStyle||c.borderDashStyle||e.borderDashStyle||d.borderDashStyle,fill:a&&a.color||this.color},-1!==g.indexOf("highcharts-above-level")?(a.fill="none",a["stroke-width"]=0):-1!==g.indexOf("highcharts-internal-node-interactive")?(b=f(e.opacity,d.opacity),a.fill=y(a.fill).setOpacity(b).get(),a.cursor="pointer"):-1!==g.indexOf("highcharts-internal-node")?a.fill="none":b&&(a.fill=y(a.fill).brighten(e.brightness).get()),a},drawPoints:function(){var a=this,b=w(a.points,function(a){return a.node.visible});g(b,function(b){var c="level-group-"+b.node.levelDynamic;a[c]||(a[c]=a.chart.renderer.g(c).attr({zIndex:1e3-b.node.levelDynamic}).add(a.group)),b.group=a[c]}),m.column.prototype.drawPoints.call(this),a.options.allowDrillToNode&&g(b,function(b){b.graphic&&(b.drillId=a.options.interactByLeaf?a.drillToByLeaf(b):a.drillToByGroup(b))})},onClickDrillToNode:function(a){var b=(a=a.point)&&a.drillId;A(b)&&(a.setState(""),this.drillToNode(b))},drillToByGroup:function(a){var b=!1;return 1!=a.node.level-this.nodeMap[this.rootNode].level||a.node.isLeaf||(b=a.id),b},drillToByLeaf:function(a){var b=!1;if(a.node.parent!==this.rootNode&&a.node.isLeaf)for(a=a.node;!b;)(a=this.nodeMap[a.parent]).parent===this.rootNode&&(b=a.id);return b},drillUp:function(){var a=this.nodeMap[this.rootNode];a&&A(a.parent)&&this.drillToNode(a.parent)},drillToNode:function(a,b){var c=this.nodeMap[a];this.idPreviousRoot=this.rootNode,this.rootNode=a,""===a?this.drillUpButton=this.drillUpButton.destroy():this.showDrillUpButton(c&&c.name||a),this.isDirty=!0,f(b,!0)&&this.chart.redraw()},showDrillUpButton:function(a){var b=this;a=a||"< Back";var d,e,c=b.options.drillUpButton;c.text&&(a=c.text),this.drillUpButton?this.drillUpButton.attr({text:a}).align():(e=(d=c.theme)&&d.states,this.drillUpButton=this.chart.renderer.button(a,null,null,function(){b.drillUp()},d,e&&e.hover,e&&e.select).attr({align:c.position.align,zIndex:7}).add().align(c.position,!1,c.relativeTo||"plotBox"))},buildKDTree:l,drawLegendSymbol:d.LegendSymbolMixin.drawRectangle,getExtremes:function(){t.prototype.getExtremes.call(this,this.colorValueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,t.prototype.getExtremes.call(this)},getExtremesFromAll:!0,bindAxes:function(){var a={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};t.prototype.bindAxes.call(this),d.extend(this.yAxis.options,a),d.extend(this.xAxis.options,a)},utils:{recursive:D,reduce:F}},{getClassName:function(){var a=d.Point.prototype.getClassName.call(this),b=this.series,c=b.options;return this.node.level<=b.nodeMap[b.rootNode].level?a+=" highcharts-above-level":this.node.isLeaf||f(c.interactByLeaf,!c.allowDrillToNode)?this.node.isLeaf||(a+=" highcharts-internal-node"):a+=" highcharts-internal-node-interactive",a},isValid:function(){return this.id||q(this.value)},setState:function(a){d.Point.prototype.setState.call(this,a),this.graphic&&this.graphic.attr({zIndex:"hover"===a?1:0})},setVisible:m.pie.prototype.pointClass.prototype.setVisible})}(u,function(d){var u=d.each,x=d.extend,m=d.pick;return{getColor:function(r,p){var t,B,y,C,E=p.index,l=p.levelMap,g=p.parentColor,u=p.parentColorIndex,w=p.series,q=p.colors,x=p.siblings,f=w.points;return r&&(f=f[r.i],r=l[r.levelDynamic]||{},(t=f&&("boolean"==typeof r.colorByPoint?r.colorByPoint:!!w.options.colorByPoint))&&(y=f.index%(q?q.length:w.chart.options.chart.colorCount),B=q&&q[y]),q=f&&f.options.color,t=r&&r.color,(l=g)&&(l=(l=r&&r.colorVariation)&&"brightness"===l.key?d.color(g).brighten(E/x*l.to).get():g),t=m(q,t,B,l,w.color),C=m(f&&f.options.colorIndex,r&&r.colorIndex,y,u,p.colorIndex)),{color:t,colorIndex:C}},setTreeValues:function p(d,l){var g=l.before,z=l.idRoot,w=l.mapIdToNode[z],q=l.points[d.i],A=q&&q.options||{},f=0,t=[];return x(d,{levelDynamic:d.level-("boolean"!=typeof l.levelIsConstant||l.levelIsConstant?0:w.level),name:m(q&&q.name,""),visible:z===d.id||"boolean"==typeof l.visible&&l.visible}),"function"==typeof g&&(d=g(d,l)),u(d.children,function(g,m){var q=x({},l);x(q,{index:m,siblings:d.children.length,visible:d.visible}),g=p(g,q),t.push(g),g.visible&&(f+=g.val)}),d.visible=0<f||d.visible,g=m(A.value,f),x(d,{children:t,childrenTotal:f,isLeaf:d.visible&&!f,val:g}),d}}}(u))}),function(p){"object"==typeof module&&module.exports?module.exports=p:p(Highcharts)}(function(p){!function(f){var p=f.noop,z=f.color,A=f.defaultOptions,l=f.each,q=f.extend,G=f.format,B=f.objectEach,v=f.pick,r=f.wrap,m=f.Chart,w=f.seriesTypes,C=w.pie,t=w.column,D=f.Tick,x=f.fireEvent,E=f.inArray,F=1;q(A.lang,{drillUpText:"◁ Back to {series.name}"}),A.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#003399",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#003399",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}},f.SVGRenderer.prototype.Element.prototype.fadeIn=function(a){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:v(this.newOpacity,1)},a||{duration:250})},m.prototype.addSeriesAsDrilldown=function(a,b){this.addSingleSeriesAsDrilldown(a,b),this.applyDrilldown()},m.prototype.addSingleSeriesAsDrilldown=function(a,b){var g,u,n,m,d=a.series,c=d.xAxis,e=d.yAxis,k=[],h=[];m={color:a.color||d.color},this.drilldownLevels||(this.drilldownLevels=[]),u=d.options._levelNumber||0,(n=this.drilldownLevels[this.drilldownLevels.length-1])&&n.levelNumber!==u&&(n=void 0),b=q(q({_ddSeriesId:F++},m),b),g=E(a,d.points),l(d.chart.series,function(a){a.xAxis!==c||a.isDrilling||(a.options._ddSeriesId=a.options._ddSeriesId||F++,a.options._colorIndex=a.userOptions._colorIndex,a.options._levelNumber=a.options._levelNumber||u,n?(k=n.levelSeries,h=n.levelSeriesOptions):(k.push(a),h.push(a.options)))}),a=q({levelNumber:u,seriesOptions:d.options,levelSeriesOptions:h,levelSeries:k,shapeArgs:a.shapeArgs,bBox:a.graphic?a.graphic.getBBox():{},color:a.isNull?new f.Color(z).setOpacity(0).get():z,lowerSeriesOptions:b,pointOptions:d.options.data[g],pointIndex:g,oldExtremes:{xMin:c&&c.userMin,xMax:c&&c.userMax,yMin:e&&e.userMin,yMax:e&&e.userMax},resetZoomButton:this.resetZoomButton},m),this.drilldownLevels.push(a),c&&c.names&&(c.names.length=0),(b=a.lowerSeries=this.addSeries(b,!1)).options._levelNumber=u+1,c&&(c.oldPos=c.pos,c.userMin=c.userMax=null,e.userMin=e.userMax=null),d.type===b.type&&(b.animate=b.animateDrilldown||p,b.options.animation=!0)},m.prototype.applyDrilldown=function(){var b,a=this.drilldownLevels;a&&0<a.length&&(b=a[a.length-1].levelNumber,l(this.drilldownLevels,function(a){a.levelNumber===b&&l(a.levelSeries,function(a){a.options&&a.options._levelNumber===b&&a.remove(!1)})})),this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton),this.pointer.reset(),this.redraw(),this.showDrillUpButton()},m.prototype.getDrilldownBackText=function(){var a=this.drilldownLevels;if(a&&0<a.length)return a=a[a.length-1],a.series=a.seriesOptions,G(this.options.lang.drillUpText,a)},m.prototype.showDrillUpButton=function(){var c,e,a=this,b=this.getDrilldownBackText(),d=a.options.drilldown.drillUpButton;this.drillUpButton?this.drillUpButton.attr({text:b}).align():(e=(c=d.theme)&&c.states,this.drillUpButton=this.renderer.button(b,null,null,function(){a.drillUp()},c,e&&e.hover,e&&e.select).addClass("highcharts-drillup-button").attr({align:d.position.align,zIndex:7}).add().align(d.position,!1,d.relativeTo||"plotBox"))},m.prototype.drillUp=function(){for(var g,k,h,f,a=this,b=a.drilldownLevels,d=b[b.length-1].levelNumber,c=b.length,e=a.series,n=function(b){var c;l(e,function(a){a.options._ddSeriesId===b._ddSeriesId&&(c=a)}),(c=c||a.addSeries(b,!1)).type===h.type&&c.animateDrillupTo&&(c.animate=c.animateDrillupTo),b===k.seriesOptions&&(f=c)};c--;)if((k=b[c]).levelNumber===d){if(b.pop(),!(h=k.lowerSeries).chart)for(g=e.length;g--;)if(e[g].options.id===k.lowerSeriesOptions.id&&e[g].options._levelNumber===d+1){h=e[g];break}h.xData=[],l(k.levelSeriesOptions,n),x(a,"drillup",{seriesOptions:k.seriesOptions}),f.type===h.type&&(f.drilldownLevel=k,f.options.animation=a.options.drilldown.animation,h.animateDrillupFrom&&h.chart&&h.animateDrillupFrom(k)),f.options._levelNumber=d,h.remove(!1),f.xAxis&&(g=k.oldExtremes,f.xAxis.setExtremes(g.xMin,g.xMax,!1),f.yAxis.setExtremes(g.yMin,g.yMax,!1)),k.resetZoomButton&&(a.resetZoomButton=k.resetZoomButton,a.resetZoomButton.show())}x(a,"drillupall"),this.redraw(),0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align(),this.ddDupes.length=[]},r(m.prototype,"showResetZoom",function(a){this.drillUpButton||a.apply(this,Array.prototype.slice.call(arguments,1))}),t.prototype.animateDrillupTo=function(a){if(!a){var b=this,d=b.drilldownLevel;l(this.points,function(a){var b=a.dataLabel;a.graphic&&a.graphic.hide(),b&&(b.hidden="hidden"===b.attr("visibility"),b.hidden||(b.hide(),a.connector&&a.connector.hide()))}),setTimeout(function(){b.points&&l(b.points,function(a,b){var c="show"===(b=b===(d&&d.pointIndex)?"show":"fadeIn")||void 0,e=a.dataLabel;a.graphic&&a.graphic[b](c),e&&!e.hidden&&(e[b](c),a.connector)&&a.connector[b](c)})},Math.max(this.chart.options.drilldown.animation.duration-50,0)),this.animate=p}},t.prototype.animateDrilldown=function(a){var c,b=this,d=this.chart.drilldownLevels,e=this.chart.options.drilldown.animation,g=this.xAxis;a||(l(d,function(a){b.options._ddSeriesId===a.lowerSeriesOptions._ddSeriesId&&(c=a.shapeArgs,c.fill=a.color)}),c.x+=v(g.oldPos,g.pos)-g.pos,l(this.points,function(a){a.shapeArgs.fill=a.color,a.graphic&&a.graphic.attr(c).animate(q(a.shapeArgs,{fill:a.color||b.color}),e),a.dataLabel&&a.dataLabel.fadeIn(e)}),this.animate=null)},t.prototype.animateDrillupFrom=function(a){var b=this.chart.options.drilldown.animation,d=this.group,c=d!==this.chart.columnGroup,e=this;l(e.trackerGroups,function(a){e[a]&&e[a].on("mouseover")}),c&&delete this.group,l(this.points,function(e){var g=e.graphic,h=a.shapeArgs,l=function(){g.destroy(),d&&c&&(d=d.destroy())};g&&(delete e.graphic,h.fill=a.color,b?g.animate(h,f.merge(b,{complete:l})):(g.attr(h),l()))})},C&&q(C.prototype,{animateDrillupTo:t.prototype.animateDrillupTo,animateDrillupFrom:t.prototype.animateDrillupFrom,animateDrilldown:function(a){var b=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],d=this.chart.options.drilldown.animation,c=b.shapeArgs,e=c.start,g=(c.end-e)/this.points.length;a||(l(this.points,function(a,h){var k=a.shapeArgs;c.fill=b.color,k.fill=a.color,a.graphic&&a.graphic.attr(f.merge(c,{start:e+h*g,end:e+(h+1)*g}))[d?"animate":"attr"](k,d)}),this.animate=null)}}),f.Point.prototype.doDrilldown=function(a,b,d){var f,c=this.series.chart,e=c.options.drilldown,g=(e.series||[]).length;for(c.ddDupes||(c.ddDupes=[]);g--&&!f;)e.series[g].id===this.drilldown&&-1===E(this.drilldown,c.ddDupes)&&(f=e.series[g],c.ddDupes.push(this.drilldown));x(c,"drilldown",{point:this,seriesOptions:f,category:b,originalEvent:d,points:void 0!==b&&this.series.xAxis.getDDPoints(b).slice(0)},function(b){var c=b.point.series&&b.point.series.chart,d=b.seriesOptions;c&&d&&(a?c.addSingleSeriesAsDrilldown(b.point,d):c.addSeriesAsDrilldown(b.point,d))})},f.Axis.prototype.drilldownCategory=function(a,b){B(this.getDDPoints(a),function(d){d&&d.series&&d.series.visible&&d.doDrilldown&&d.doDrilldown(!0,a,b)}),this.chart.applyDrilldown()},f.Axis.prototype.getDDPoints=function(a){var b=[];return l(this.series,function(d){var c,e=d.xData,g=d.points;for(c=0;c<e.length;c++)if(e[c]===a&&d.options.data[c]&&d.options.data[c].drilldown){b.push(!g||g[c]);break}}),b},D.prototype.drillable=function(){var a=this.pos,b=this.label,d=this.axis,c="xAxis"===d.coll&&d.getDDPoints,e=c&&d.getDDPoints(a);c&&(b&&e.length?(b.drillable=!0,b.basicStyles||(b.basicStyles=f.merge(b.styles)),b.addClass("highcharts-drilldown-axis-label").css(d.chart.options.drilldown.activeAxisLabelStyle).on("click",function(b){d.drilldownCategory(a,b)})):b&&b.drillable&&(b.styles={},b.css(b.basicStyles),b.on("click",null),b.removeClass("highcharts-drilldown-axis-label")))},r(D.prototype,"addLabel",function(a){a.call(this),this.drillable()}),r(f.Point.prototype,"init",function(a,b,d,c){var e=a.call(this,b,d,c);return c=(a=b.xAxis)&&a.ticks[c],e.drilldown&&f.addEvent(e,"click",function(a){b.xAxis&&!1===b.chart.options.drilldown.allowPointDrilldown?b.xAxis.drilldownCategory(e.x,a):e.doDrilldown(void 0,void 0,a)}),c&&c.drillable(),e}),r(f.Series.prototype,"drawDataLabels",function(a){var b=this.chart.options.drilldown.activeDataLabelStyle,d=this.chart.renderer;a.call(this),l(this.points,function(a){var c=a.options.dataLabels,f=v(a.dlOptions,c&&c.style,{});a.drilldown&&a.dataLabel&&("contrast"===b.color&&(f.color=d.getContrast(a.color||this.color)),c&&c.color&&(f.color=c.color),a.dataLabel.addClass("highcharts-drilldown-data-label"),a.dataLabel.css(b).css(f))},this)});var y=function(a,b,d){a[d?"addClass":"removeClass"]("highcharts-drilldown-point"),a.css({cursor:b})},H=function(a){a.call(this),l(this.points,function(a){a.drilldown&&a.graphic&&y(a.graphic,"pointer",!0)})},I=function(a,b){var d=a.apply(this,Array.prototype.slice.call(arguments,1));return this.drilldown&&this.series.halo&&"hover"===b?y(this.series.halo,"pointer",!0):this.series.halo&&y(this.series.halo,"auto",!1),d};B(w,function(a){r(a.prototype,"drawTracker",H),r(a.prototype.pointClass.prototype,"setState",I)})}(p)}),function(D){"object"==typeof module&&module.exports?module.exports=D:D(Highcharts)}(function(D){!function(b){var t=b.deg2rad,e=b.isNumber,p=b.pick,v=b.relativeLength;b.CenteredSeriesMixin={getCenter:function(){var r,B,b=this.options,q=this.chart,m=2*(b.slicedOffset||0),g=q.plotWidth-2*m,e=(q=q.plotHeight-2*m,b.center),t=(e=[p(e[0],"50%"),p(e[1],"50%"),b.size||"100%",b.innerSize||0],Math.min(g,q));for(r=0;4>r;++r)B=e[r],b=2>r||2===r&&/%$/.test(B),e[r]=v(B,[g,q,t,e[2]][r])+(b?m:0);return e[3]>e[2]&&(e[3]=e[2]),e},getStartAndEndRadians:function(b,q){return b=e(b)?b:0,q=e(q)&&q>b&&360>q-b?q:b+360,{start:t*(b+-90),end:t*(q+-90)}}}}(D);var O=function(b){var t=this,e=t.graphic,p=b.animate,v=b.attr,k=b.onComplete,q=b.css,m=b.group,g=b.renderer,N=b.shapeArgs;b=b.shapeType,t.shouldDraw()?(e||(t.graphic=e=g[b](N).add(m)),e.css(q).attr(v).animate(p,void 0,k)):e&&e.animate(p,void 0,function(){t.graphic=e=e.destroy(),"function"==typeof k&&k()}),e&&e.addClass(t.getClassName(),!0)},M=function(b){var t=b.each,e=b.extend,p=b.pick;return{getColor:function(e,k){var x,F,G,v,q=k.index,m=k.levelMap,g=k.parentColor,t=k.parentColorIndex,A=k.series,r=k.colors,B=k.siblings,h=A.points;return e&&(h=h[e.i],e=m[e.levelDynamic]||{},(x=h&&("boolean"==typeof e.colorByPoint?e.colorByPoint:!!A.options.colorByPoint))&&(G=h.index%(r?r.length:A.chart.options.chart.colorCount),F=r&&r[G]),r=h&&h.options.color,x=e&&e.color,(m=g)&&(m=(m=e&&e.colorVariation)&&"brightness"===m.key?b.color(g).brighten(q/B*m.to).get():g),x=p(r,x,F,m,A.color),v=p(h&&h.options.colorIndex,e&&e.colorIndex,G,t,k.colorIndex)),{color:x,colorIndex:v}},setTreeValues:function k(b,m){var g=m.before,q=m.idRoot,A=m.mapIdToNode[q],r=m.points[b.i],B=r&&r.options||{},h=0,x=[];return e(b,{levelDynamic:b.level-("boolean"!=typeof m.levelIsConstant||m.levelIsConstant?0:A.level),name:p(r&&r.name,""),visible:q===b.id||"boolean"==typeof m.visible&&m.visible}),"function"==typeof g&&(b=g(b,m)),t(b.children,function(g,p){var q=e({},m);e(q,{index:p,siblings:b.children.length,visible:b.visible}),g=k(g,q),x.push(g),g.visible&&(h+=g.val)}),b.visible=0<h||b.visible,g=p(B.value,h),e(b,{children:x,childrenTotal:h,isLeaf:b.visible&&!h,val:g}),b}}}(D);!function(b,t){var e=b.seriesType,p=b.seriesTypes,v=b.map,k=b.merge,q=b.extend,m=b.noop,g=b.each,D=t.getColor,A=b.grep,r=b.isNumber,B=b.isString,h=b.pick,x=b.Series,F=b.stableSort,G=b.Color,H=b.reduce,E=function(a,c,d){d=d||this,!1!==(a=c.call(d,a))&&E(a,c,d)};e("treemap","scatter",{showInLegend:!1,marker:!1,dataLabels:{enabled:!0,defer:!1,verticalAlign:"middle",formatter:function(){return this.point.name||this.point.id},inside:!0},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,opacity:.15,states:{hover:{borderColor:"#999999",brightness:p.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],axisTypes:p.heatmap?["xAxis","yAxis","colorAxis"]:["xAxis","yAxis"],directTouch:!0,optionalAxis:"colorAxis",getSymbol:m,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",translateColors:p.heatmap&&p.heatmap.prototype.translateColors,colorAttribs:p.heatmap&&p.heatmap.prototype.colorAttribs,trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(a,c){return a=H(a||[],function(a,c,f){return c=h(c.parent,""),void 0===a[c]&&(a[c]=[]),a[c].push(f),a},{}),function(a,c,d){d=d||this,b.objectEach(a,function(n,f){c.call(d,n,f,a)})}(a,function(a,n,f){""!==n&&-1===b.inArray(n,c)&&(g(a,function(a){f[""].push(a)}),delete f[n])}),a},getTree:function(){var a=v(this.data,function(a){return a.id});a=this.getListOfParents(this.data,a);return this.nodeMap=[],this.buildNode("",-1,0,a,null)},init:function(a,c){x.prototype.init.call(this,a,c),this.options.allowDrillToNode&&b.addEvent(this,"click",this.onClickDrillToNode)},buildNode:function(a,c,d,b,f){var e,l=this,n=[],u=l.points[c],K=0;return g(b[a]||[],function(c){e=l.buildNode(l.points[c].id,c,d+1,b,a),K=Math.max(e.height+1,K),n.push(e)}),c={id:a,i:c,children:n,height:K,level:d,parent:f,visible:!1},l.nodeMap[c.id]=c,u&&(u.node=c),c},setTreeValues:function(a){var w,c=this,d=c.options,b=c.nodeMap[c.rootNode],f=(d="boolean"!=typeof d.levelIsConstant||d.levelIsConstant,0),l=[],u=c.points[a.i];return g(a.children,function(a){a=c.setTreeValues(a),l.push(a),a.ignore||(f+=a.val)}),F(l,function(a,c){return a.sortIndex-c.sortIndex}),w=h(u&&u.options.value,f),u&&(u.value=w),q(a,{children:l,childrenTotal:f,ignore:!(h(u&&u.visible,!0)&&0<w),isLeaf:a.visible&&!f,levelDynamic:a.level-(d?0:b.level),name:h(u&&u.name,""),sortIndex:h(u&&u.sortIndex,-w),val:w}),a},calculateChildrenAreas:function(a,c){var d=this,b=d.options,f=this.levelMap[a.levelDynamic+1],l=h(d[f&&f.layoutAlgorithm]&&f.layoutAlgorithm,b.layoutAlgorithm),w=b.alternateStartingDirection,u=[];a=A(a.children,function(a){return!a.ignore}),f&&f.layoutStartingDirection&&(c.direction="vertical"===f.layoutStartingDirection?0:1),u=d[l](c,a),g(a,function(a,f){f=u[f],a.values=k(f,{val:a.childrenTotal,direction:w?1-c.direction:c.direction}),a.pointValues=k(f,{x:f.x/d.axisRatio,width:f.width/d.axisRatio}),a.children.length&&d.calculateChildrenAreas(a,a.values)})},setPointValues:function(){var a=this,c=a.xAxis,d=a.yAxis;g(a.points,function(b){var n,u,e,f=b.node,l=f.pointValues;e=(a.pointAttribs(b)["stroke-width"]||0)%2/2,l&&f.visible?(f=Math.round(c.translate(l.x,0,0,0,1))-e,n=Math.round(c.translate(l.x+l.width,0,0,0,1))-e,u=Math.round(d.translate(l.y,0,0,0,1))-e,l=Math.round(d.translate(l.y+l.height,0,0,0,1))-e,b.shapeType="rect",b.shapeArgs={x:Math.min(f,n),y:Math.min(u,l),width:Math.abs(n-f),height:Math.abs(l-u)},b.plotX=b.shapeArgs.x+b.shapeArgs.width/2,b.plotY=b.shapeArgs.y+b.shapeArgs.height/2):(delete b.plotX,delete b.plotY)})},setColorRecursive:function(a,c,d,b,f){var e,l=this,n=(n=l&&l.chart)&&n.options&&n.options.colors;a&&(e=D(a,{colors:n,index:b,levelMap:l.levelMap,parentColor:c,parentColorIndex:d,series:l,siblings:f}),(c=l.points[a.i])&&(c.color=e.color,c.colorIndex=e.colorIndex),g(a.children||[],function(c,d){l.setColorRecursive(c,e.color,e.colorIndex,d,a.children.length)}))},algorithmGroup:function(a,c,d,b){this.height=a,this.width=c,this.plot=b,this.startDirection=this.direction=d,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(a,c){return Math.max(a/c,c/a)}},this.addElement=function(a){this.lP.total=this.elArr[this.elArr.length-1],this.total+=a,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(a)},this.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(a,c,d,b){var f,l,n,e,h,m=d.lW,C=d.lH,y=d.plot,p=0,q=d.elArr.length-1;c?(m=d.nW,C=d.nH):h=d.elArr[d.elArr.length-1],g(d.elArr,function(a){(c||p<q)&&(0===d.direction?(f=y.x,l=y.y,n=m,e=a/n):(f=y.x,l=y.y,e=C,n=a/e),b.push({x:f,y:l,width:n,height:e}),0===d.direction?y.y+=e:y.x+=n),p+=1}),d.reset(),0===d.direction?d.width-=m:d.height-=C,y.y=y.parent.y+(y.parent.height-d.height),y.x=y.parent.x+(y.parent.width-d.width),a&&(d.direction=1-d.direction),c||d.addElement(h)},algorithmLowAspectRatio:function(a,c,d){var l,b=[],f=this,e={x:c.x,y:c.y,parent:c},u=0,m=d.length-1,h=new this.algorithmGroup(c.height,c.width,c.direction,e);return g(d,function(d){l=d.val/c.val*c.height*c.width,h.addElement(l),h.lP.nR>h.lP.lR&&f.algorithmCalcPoints(a,!1,h,b,e),u===m&&f.algorithmCalcPoints(a,!0,h,b,e),u+=1}),b},algorithmFill:function(a,c,d){var f,p,q,r,k,b=[],l=c.direction,e=c.x,u=c.y,h=c.width,m=c.height;return g(d,function(d){f=d.val/c.val*c.height*c.width,p=e,q=u,0===l?(k=m,r=f/k,h-=r,e+=r):(r=h,k=f/r,m-=k,u+=k),b.push({x:p,y:q,width:r,height:k}),a&&(l=1-l)}),b},strip:function(a,c){return this.algorithmLowAspectRatio(!1,a,c)},squarified:function(a,c){return this.algorithmLowAspectRatio(!0,a,c)},sliceAndDice:function(a,c){return this.algorithmFill(!0,a,c)},stripes:function(a,c){return this.algorithmFill(!1,a,c)},translate:function(){var d,b,a=this,c=a.rootNode=h(a.rootNode,a.options.rootId,"");x.prototype.translate.call(a),a.levelMap=H(a.options.levels||[],function(a,c){return a[c.level]=c,a},{}),b=a.tree=a.getTree(),d=a.nodeMap[c],""===c||d&&d.children.length||(a.drillToNode("",!1),c=a.rootNode,d=a.nodeMap[c]),E(a.nodeMap[a.rootNode],function(c){var d=!1,b=c.parent;return c.visible=!0,(b||""===b)&&(d=a.nodeMap[b]),d}),E(a.nodeMap[a.rootNode].children,function(a){var c=!1;return g(a,function(a){a.visible=!0,a.children.length&&(c=(c||[]).concat(a.children))}),c}),a.setTreeValues(b),a.axisRatio=a.xAxis.len/a.yAxis.len,a.nodeMap[""].pointValues=c={x:0,y:0,width:100,height:100},a.nodeMap[""].values=c=k(c,{width:c.width*a.axisRatio,direction:"vertical"===a.options.layoutStartingDirection?0:1,val:b.val}),a.calculateChildrenAreas(b,c),a.colorAxis?a.translateColors():a.options.colorByPoint||a.setColorRecursive(a.tree),a.options.allowDrillToNode&&(d=d.pointValues,a.xAxis.setExtremes(d.x,d.x+d.width,!1),a.yAxis.setExtremes(d.y,d.y+d.height,!1),a.xAxis.setScale(),a.yAxis.setScale()),a.setPointValues()},drawDataLabels:function(){var d,b,a=this,c=A(a.points,function(a){return a.node.visible});g(c,function(c){b=a.levelMap[c.node.levelDynamic],d={style:{}},c.node.isLeaf||(d.enabled=!1),b&&b.dataLabels&&(d=k(d,b.dataLabels),a._hasPointLabels=!0),c.shapeArgs&&(d.style.width=c.shapeArgs.width,c.dataLabel&&c.dataLabel.css({width:c.shapeArgs.width+"px"})),c.dlOptions=k(d,c.options.dataLabels)}),x.prototype.drawDataLabels.call(this)},alignDataLabel:function(a){p.column.prototype.alignDataLabel.apply(this,arguments),a.dataLabel&&a.dataLabel.attr({zIndex:(a.node.zIndex||0)+1})},pointAttribs:function(a,c){var d=a&&this.levelMap[a.node.levelDynamic]||{},b=this.options,f=c&&b.states[c]||{},l=a&&a.getClassName()||"";return a={stroke:a&&a.borderColor||d.borderColor||f.borderColor||b.borderColor,"stroke-width":h(a&&a.borderWidth,d.borderWidth,f.borderWidth,b.borderWidth),dashstyle:a&&a.borderDashStyle||d.borderDashStyle||f.borderDashStyle||b.borderDashStyle,fill:a&&a.color||this.color},-1!==l.indexOf("highcharts-above-level")?(a.fill="none",a["stroke-width"]=0):-1!==l.indexOf("highcharts-internal-node-interactive")?(c=h(f.opacity,b.opacity),a.fill=G(a.fill).setOpacity(c).get(),a.cursor="pointer"):-1!==l.indexOf("highcharts-internal-node")?a.fill="none":c&&(a.fill=G(a.fill).brighten(f.brightness).get()),a},drawPoints:function(){var a=this,c=A(a.points,function(a){return a.node.visible});g(c,function(c){var b="level-group-"+c.node.levelDynamic;a[b]||(a[b]=a.chart.renderer.g(b).attr({zIndex:1e3-c.node.levelDynamic}).add(a.group)),c.group=a[b]}),p.column.prototype.drawPoints.call(this),a.options.allowDrillToNode&&g(c,function(c){c.graphic&&(c.drillId=a.options.interactByLeaf?a.drillToByLeaf(c):a.drillToByGroup(c))})},onClickDrillToNode:function(a){var c=(a=a.point)&&a.drillId;B(c)&&(a.setState(""),this.drillToNode(c))},drillToByGroup:function(a){var c=!1;return 1!=a.node.level-this.nodeMap[this.rootNode].level||a.node.isLeaf||(c=a.id),c},drillToByLeaf:function(a){var c=!1;if(a.node.parent!==this.rootNode&&a.node.isLeaf)for(a=a.node;!c;)(a=this.nodeMap[a.parent]).parent===this.rootNode&&(c=a.id);return c},drillUp:function(){var a=this.nodeMap[this.rootNode];a&&B(a.parent)&&this.drillToNode(a.parent)},drillToNode:function(a,c){var b=this.nodeMap[a];this.idPreviousRoot=this.rootNode,this.rootNode=a,""===a?this.drillUpButton=this.drillUpButton.destroy():this.showDrillUpButton(b&&b.name||a),this.isDirty=!0,h(c,!0)&&this.chart.redraw()},showDrillUpButton:function(a){var c=this;a=a||"< Back";var e,f,b=c.options.drillUpButton;b.text&&(a=b.text),this.drillUpButton?this.drillUpButton.attr({text:a}).align():(f=(e=b.theme)&&e.states,this.drillUpButton=this.chart.renderer.button(a,null,null,function(){c.drillUp()},e,f&&f.hover,f&&f.select).attr({align:b.position.align,zIndex:7}).add().align(b.position,!1,b.relativeTo||"plotBox"))},buildKDTree:m,drawLegendSymbol:b.LegendSymbolMixin.drawRectangle,getExtremes:function(){x.prototype.getExtremes.call(this,this.colorValueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,x.prototype.getExtremes.call(this)},getExtremesFromAll:!0,bindAxes:function(){var a={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};x.prototype.bindAxes.call(this),b.extend(this.yAxis.options,a),b.extend(this.xAxis.options,a)},utils:{recursive:E,reduce:H}},{getClassName:function(){var a=b.Point.prototype.getClassName.call(this),c=this.series,d=c.options;return this.node.level<=c.nodeMap[c.rootNode].level?a+=" highcharts-above-level":this.node.isLeaf||h(d.interactByLeaf,!d.allowDrillToNode)?this.node.isLeaf||(a+=" highcharts-internal-node"):a+=" highcharts-internal-node-interactive",a},isValid:function(){return this.id||r(this.value)},setState:function(a){b.Point.prototype.setState.call(this,a),this.graphic&&this.graphic.attr({zIndex:"hover"===a?1:0})},setVisible:p.pie.prototype.pointClass.prototype.setVisible})}(D,M),function(b,t,e){var p=b.CenteredSeriesMixin,v=b.Series,k=b.each,q=b.extend,m=p.getCenter,g=e.getColor,D=p.getStartAndEndRadians,A=b.grep,r=b.isNumber,B=b.isObject,h=b.isString,x=b.merge,F=b.pick,G=180/Math.PI,J=(p=b.seriesType,e.setTreeValues),H=b.reduce,a=function(a,b){var c=b.mapIdToNode[a.parent],d=b.series,e=d.chart,h=d.points[a.i];return b=g(a,{colors:e&&e.options&&e.options.colors,colorIndex:d.colorIndex,colorByPoint:d.colorByPoint,index:b.index,levelMap:b.levelMap,parentColor:c&&c.color,parentColorIndex:c&&c.colorIndex,series:b.series,siblings:b.siblings}),a.color=b.color,a.colorIndex=b.colorIndex,h&&(h.color=a.color,h.colorIndex=a.colorIndex),a};p("sunburst","treemap",{center:["50%","50%"],dataLabels:{defer:!0,style:{textOverflow:"ellipsis"},rotationMode:"perpendicular"},rootId:void 0,levelIsConstant:!0},{drawDataLabels:b.noop,drawPoints:function(){var z,E,a=this,b=a.levelMap,e=a.shapeRoot,f=a.group,l=a.hasRendered,h=a.rootNode,u=a.idPreviousRoot,m=a.nodeMap,p=(g=m[u])&&g.shapeArgs,g=a.points,t=a.startAndEndRadians,A="boolean"!=typeof(z=(z=a.chart)&&z.options&&z.options.chart||{}).animation||z.animation,D=(z=a.center)[0],F=z[1],I=z[3]/2,H=a.chart.renderer,J=!1,L=!1;(z=!!(A&&l&&h!==u&&a.dataLabelsGroup))&&(a.dataLabelsGroup.attr({opacity:0}),E=function(){J=!0,a.dataLabelsGroup&&a.dataLabelsGroup.animate({opacity:1,visibility:"visible"})}),k(g,function(c){var d,g,n=c.node,k=b[n.levelDynamic];d=c.shapeExisting||{};var y,w=n.shapeArgs||{},z=!(!n.visible||!n.shapeArgs);if(l&&A){var C={};g={end:w.end,start:w.start,innerR:w.innerR,r:w.r,x:D,y:F},z?!c.graphic&&p&&(C=h===c.id?{start:t.start,end:t.end}:p.end<=w.start?{start:t.end,end:t.end}:{start:t.start,end:t.start},C.innerR=C.r=I):c.graphic&&(u===c.id?g={innerR:I,r:I}:e&&(g=e.end<=d.start?{innerR:I,r:I,start:t.end,end:t.end}:{innerR:I,r:I,start:t.start,end:t.start})),d=C}else g=w,d={};var v;C=[w.plotX,w.plotY];c.node.isLeaf||(h===c.id?(v=m[h],v=v.parent):v=c.id),q(c,{shapeExisting:w,tooltipPos:C,drillId:v,name:""+(c.name||c.id||c.index),plotX:w.plotX,plotY:w.plotY,value:n.val,isNull:!z}),C=c.options,v=a.options,n=B(w)?w:{},v=B(v)?v.dataLabels:{},C=B(C)?C.dataLabels:{},k=B(k)?k.dataLabels:{},k=x({rotationMode:"perpendicular",style:{width:n.radius}},v,k,C),r(k.rotation)||(n=n.end-(n.end-n.start)/2,n=n*G%180,"parallel"===k.rotationMode&&(n-=90),90<n&&(n-=180),k.rotation=n),0===k.rotation&&(k.rotation=.001),c.dlOptions=k,!L&&z&&(L=!0,y=E),c.draw({animate:g,attr:q(d,a.pointAttribs&&a.pointAttribs(c,c.selected&&"select")),onComplete:y,group:f,renderer:H,shapeType:"arc",shapeArgs:w})}),z&&L?(a.hasRendered=!1,a.options.dataLabels.defer=!0,v.prototype.drawDataLabels.call(a),a.hasRendered=!0,J&&E()):v.prototype.drawDataLabels.call(a)},pointAttribs:b.seriesTypes.column.prototype.pointAttribs,setShapeArgs:function(a,b){var c=[];a=A(a.children,function(a){return a.visible}),c=function(a,b){var c=a.start,d=a.end-c,e=a.val,h=a.x,u=a.y,m=a.r,g=m+a.radius;return H(b||[],function(b,f){return f={x:h,y:u,innerR:m,r:g,radius:a.radius,start:c,end:c+1/e*f.val*d},b.push(f),c=f.end,b},[])}(b,a),k(a,function(a,b){var d=(b=c[b]).start+(b.end-b.start)/2,e=b.innerR+(b.r-b.innerR)/2,f=(d=0===b.innerR&&6.28<b.end-b.start?{x:b.x,y:b.y}:{x:b.x+Math.cos(d)*e,y:b.y+Math.sin(d)*e},e=a.val?a.childrenTotal>a.val?a.childrenTotal:a.val:a.childrenTotal,(b.end-b.start)/(2*Math.PI)),h=2*Math.PI*b.innerR;this.points[a.i]&&(this.points[a.i].innerArcLength=f*h),a.shapeArgs=x(b,{plotX:d.x,plotY:d.y}),a.values=x(b,{val:e}),a.children.length&&this.setShapeArgs(a,a.values)},this)},translate:function(){var p,r,t,b=this.options,d=this.center=m.call(this),e=this.startAndEndRadians=D(b.startAngle,b.endAngle),f=d[3]/2,l=d[2]/2,g=this.rootNode=F(this.rootNode,b.rootId,""),k=this.nodeMap,q=k&&k[g];this.shapeRoot=q&&q.shapeArgs,v.prototype.translate.call(this),this.levelMap=H(this.options.levels||[],function(a,b){return a[b.level]=b,a},{}),t=this.tree=this.getTree(),q=(k=this.nodeMap)[g],r=k[p=h(q.parent)?q.parent:""],J(t,{before:a,idRoot:g,levelIsConstant:b.levelIsConstant,levelMap:this.levelMap,mapIdToNode:k,points:this.points,series:this}),b=k[""].shapeArgs={end:e.end,r:f,radius:(l-f)/(g===p?q.height:q.height+1),start:e.start,val:r.val,x:d[0],y:d[1]},this.setShapeArgs(r,b)},animate:function(a){var c=[(b=this.chart).plotWidth/2,b.plotHeight/2],e=b.plotLeft,g=b.plotTop,b=this.group;a?(a={translateX:c[0]+e,translateY:c[1]+g,scaleX:.001,scaleY:.001,rotation:10,opacity:.01},b.attr(a)):(a={translateX:e,translateY:g,scaleX:1,scaleY:1,rotation:0,opacity:1},b.animate(a,this.options.animation),this.animate=null)}},{draw:t,shouldDraw:function(){return!this.isNull}})}(D,O,M)}),function(){function n(n){return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),function(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!=u)return(i=t(l.call(e,o,a),m.isNaN))>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)(i=I[r])in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return void 0!==(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r))&&-1!==e?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n)for(var a=0,c=(n=k(n)?n:m.values(n)).length;c>a;a++)(e=n[a])>i&&(i=e);else t=x(t,r),m.each(n,function(n,r,e){((u=t(n,r,e))>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n)for(var a=0,c=(n=k(n)?n:m.values(n)).length;c>a;a++)e=n[a],i>e&&(i=e);else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)(t=m.random(0,i))!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){for(var u=(r=x(r,e,1))(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=!1===r.leading?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||!1!==r.leading||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||!1===r.trailing||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if((c=n.length)!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}.call(this),function(x){"use strict";function L(a,b){return b=b||Error,function(){var c,d=arguments[0];for(c="["+(a?a+":":"")+d+"] http://errors.angularjs.org/1.6.4/"+(a?a+"/":"")+d,d=1;d<arguments.length;d++){c=c+(1==d?"?":"&")+"p"+(d-1)+"=";var f;c+=encodeURIComponent(f="function"==typeof(f=arguments[d])?f.toString().replace(/ \{[\s\S]*$/,""):void 0===f?"undefined":"string"!=typeof f?JSON.stringify(f):f)}return new b(c)}}function me(a){if(!C(a))return Ic;u(a.objectMaxDepth)&&(Ic.objectMaxDepth=Sb(a.objectMaxDepth)?a.objectMaxDepth:NaN)}function Sb(a){return ba(a)&&0<a}function qa(a){if(null==a||Wa(a))return!1;if(H(a)||F(a)||B&&a instanceof B)return!0;var b="length"in Object(a)&&a.length;return ba(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function q(a,b,d){var c,e;if(a)if(D(a))for(c in a)"prototype"!==c&&"length"!==c&&"name"!==c&&a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else if(H(a)||qa(a)){var f="object"!=typeof a;for(c=0,e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(Jc(a))for(c in a)b.call(d,a[c],c,a);else if("function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)ua.call(a,c)&&b.call(d,a[c],c,a);return a}function Kc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Lc(a){return function(b,d){a(d,b)}}function Tb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(C(g)||D(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&C(n)?ga(n)?a[m]=new Date(n.valueOf()):Xa(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):Ub(n)?a[m]=n.clone():(C(a[m])||(a[m]=H(n)?[]:{}),Tb(a[m],[n],!0)):a[m]=n}}return c?a.$$hashKey=c:delete a.$$hashKey,a}function S(a){return Tb(a,va.call(arguments,1),!1)}function oe(a){return Tb(a,va.call(arguments,1),!0)}function Z(a){return parseInt(a,10)}function Vb(a,b){return S(Object.create(a),b)}function z(){}function Ya(a){return a}function la(a){return function(){return a}}function Wb(a){return D(a.toString)&&a.toString!==ma}function w(a){return void 0===a}function u(a){return void 0!==a}function C(a){return null!==a&&"object"==typeof a}function Jc(a){return null!==a&&"object"==typeof a&&!Mc(a)}function F(a){return"string"==typeof a}function ba(a){return"number"==typeof a}function ga(a){return"[object Date]"===ma.call(a)}function D(a){return"function"==typeof a}function Xa(a){return"[object RegExp]"===ma.call(a)}function Wa(a){return a&&a.window===a}function Za(a){return a&&a.$evalAsync&&a.$watch}function Ha(a){return"boolean"==typeof a}function Ub(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function wa(a){return Q(a.nodeName||a[0]&&a[0].nodeName)}function $a(a,b){var d=a.indexOf(b);return 0<=d&&a.splice(d,1),d}function ra(a,b,d){function c(a,b,c){if(0>--c)return"...";var f,d=b.$$hashKey;if(H(a)){f=0;for(var g=a.length;f<g;f++)b.push(e(a[f],c))}else if(Jc(a))for(f in a)b[f]=e(a[f],c);else if(a&&"function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&(b[f]=e(a[f],c));else for(f in a)ua.call(a,f)&&(b[f]=e(a[f],c));return d?b.$$hashKey=d:delete b.$$hashKey,b}function e(a,b){if(!C(a))return a;if(-1!==(d=g.indexOf(a)))return h[d];if(Wa(a)||Za(a))throw Fa("cpws");var d=!1,e=f(a);return void 0===e&&(e=H(a)?[]:Object.create(Mc(a)),d=!0),g.push(a),h.push(e),d?c(a,e,b):e}function f(a){switch(ma.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(D(a.cloneNode))return a.cloneNode(!0)}var g=[],h=[];if(d=Sb(d)?d:NaN,b){if(function(a){return a&&ba(a.length)&&qe.test(ma.call(a))}(b)||"[object ArrayBuffer]"===ma.call(b))throw Fa("cpta");if(a===b)throw Fa("cpi");return H(b)?b.length=0:q(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),h.push(b),c(a,b,d)}return e(a,d)}function Xb(a,b){return a===b||a!=a&&b!=b}function sa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!=a&&b!=b)return!0;var c,d=typeof a;if(d===typeof b&&"object"===d){if(!H(a)){if(ga(a))return!!ga(b)&&Xb(a.getTime(),b.getTime());if(Xa(a))return!!Xa(b)&&a.toString()===b.toString();if(Za(a)||Za(b)||Wa(a)||Wa(b)||H(b)||ga(b)||Xa(b))return!1;d=V();for(c in a)if("$"!==c.charAt(0)&&!D(a[c])){if(!sa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&u(b[c])&&!D(b[c]))return!1;return!0}if(!H(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!sa(a[c],b[c]))return!1;return!0}}return!1}function ab(a,b,d){return a.concat(va.call(b,d))}function bb(a,b){var d=2<arguments.length?va.call(arguments,2):[];return!D(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,ab(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Nc(a,b){var d=b;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Wa(b)?d="$WINDOW":b&&x.document===b?d="$DOCUMENT":Za(b)&&(d="$SCOPE"),d}function cb(a,b){if(!w(a))return ba(b)||(b=b?2:null),JSON.stringify(a,Nc,b)}function Oc(a){return F(a)?JSON.parse(a):a}function Pc(a,b){a=a.replace(se,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return da(d)?b:d}function Yb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();return b=Pc(b,c),d*=b-c,(a=new Date(a.getTime())).setMinutes(a.getMinutes()+d),a}function xa(a){a=B(a).clone();try{a.empty()}catch(b){}var d=B("<div>").append(a).html();try{return a[0].nodeType===Ia?Q(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+Q(b)})}catch(c){return Q(d)}}function Qc(a){try{return decodeURIComponent(a)}catch(b){}}function Rc(a){var b={};return q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),-1!==(c=a.indexOf("="))&&(e=a.substring(0,c),f=a.substring(c+1)),e=Qc(e),u(e)&&(f=!u(f)||Qc(f),ua.call(b,e)?H(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))}),b}function Zb(a){var b=[];return q(a,function(a,c){H(a)?q(a,function(a){b.push($(c,!0)+(!0===a?"":"="+$(a,!0)))}):b.push($(c,!0)+(!0===a?"":"="+$(a,!0)))}),b.length?b.join("&"):""}function db(a){return $(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function $(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ue(a,b){var d,c,e={};q(Ja,function(b){b+="app",!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))}),q(Ja,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))}),d&&(ve?(e.strictDi=null!==function(a,b){var d,c,e=Ja.length;for(c=0;c<e;++c)if(d=Ja[c]+b,F(d=a.getAttribute(d)))return d;return null}(d,"strict-di"),b(d,c?[c]:[],e)):x.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Sc(a,b,d){C(d)||(d={}),d=S({strictDi:!1},d);var c=function(){if((a=B(a)).injector()){var c=a[0]===x.document?"document":xa(a);throw Fa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(b=b||[]).unshift(["$provide",function(b){b.value("$rootElement",a)}]),d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),b.unshift("ng"),(c=eb(b,d.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;if(x&&e.test(x.name)&&(d.debugInfoEnabled=!0,x.name=x.name.replace(e,"")),x&&!f.test(x.name))return c();x.name=x.name.replace(f,""),ea.resumeBootstrap=function(a){return q(a,function(a){b.push(a)}),c()},D(ea.resumeDeferredBootstrap)&&ea.resumeDeferredBootstrap()}function we(){x.name="NG_ENABLE_DEBUG_INFO!"+x.name,x.location.reload()}function xe(a){if(!(a=ea.element(a).injector()))throw Fa("test");return a.get("$$testability")}function Tc(a,b){return b=b||"_",a.replace(ye,function(a,c){return(c?b:"")+a.toLowerCase()})}function fb(a,b,d){if(!a)throw Fa("areq",b||"?",d||"required");return a}function sb(a,b,d){return d&&H(a)&&(a=a[a.length-1]),fb(D(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Ka(a,b){if("hasOwnProperty"===a)throw Fa("badname",b)}function Vc(a,b,d){if(!b)return a;for(var c,e=a,f=(b=b.split(".")).length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&D(a)?bb(e,a):a}function tb(a){for(var c,b=a[0],d=a[a.length-1],e=1;b!==d&&(b=b.nextSibling);e++)(c||a[e]!==b)&&(c||(c=B(va.call(a,0,e))),c.push(b));return c||a}function V(){return Object.create(null)}function $b(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=!Wb(a)||H(a)||ga(a)?cb(a):a.toString()}return a}function pa(a,b){if(H(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(C(a))for(d in b=b||{},a)"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d]);return b||a}function Be(a,b){var d=[];return Sb(b)&&(a=ra(a,null,b)),JSON.stringify(a,function(a,b){if(b=Nc(a,b),C(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}function gb(a,b){return b.toUpperCase()}function wb(a){return a.replace(ag,gb)}function bc(a){return 1===(a=a.nodeType)||!a||9===a}function dd(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(cc.test(a)){for(d=e.appendChild(b.createElement("div")),c=(bg.exec(a)||["",""])[1].toLowerCase(),c=ha[c]||ha._default,d.innerHTML=c[1]+a.replace(cg,"<$1></$2>")+c[2],c=c[0];c--;)d=d.lastChild;f=ab(f,d.childNodes),(d=e.firstChild).textContent=""}else f.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",q(f,function(a){e.appendChild(a)}),e}function W(a){if(a instanceof W)return a;var b;if(F(a)&&(a=T(a),b=!0),!(this instanceof W)){if(b&&"<"!==a.charAt(0))throw dc("nosel");return new W(a)}if(b){b=x.document;var d;ec(this,a=(d=dg.exec(a))?[b.createElement(d[1])]:(d=dd(a,b))?d.childNodes:[])}else D(a)?ed(a):ec(this,a)}function fc(a){return a.cloneNode(!0)}function xb(a,b){!b&&bc(a)&&B.cleanData([a]),a.querySelectorAll&&B.cleanData(a.querySelectorAll("*"))}function fd(a,b,d,c){if(u(c))throw dc("offargs");var e=(c=yb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];u(d)&&$a(c||[],d),u(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};q(b.split(" "),function(a){g(a),zb[a]&&g(zb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b]}function gc(a,b){var d=a.ng339,c=d&&hb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),fd(a)),delete hb[d],a.ng339=void 0))}function yb(a,b){var d=(d=a.ng339)&&hb[d];return b&&!d&&(a.ng339=d=++eg,d=hb[d]={events:{},data:{},handle:void 0}),d}function hc(a,b,d){if(bc(a)){var c,e=u(d),f=!e&&b&&!C(b),g=!b;if(a=(a=yb(a,!f))&&a.data,e)a[wb(b)]=d;else{if(g)return a;if(f)return a&&a[wb(b)];for(c in b)a[wb(c)]=b[c]}}}function Ab(a,b){return!!a.getAttribute&&-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Bb(a,b){b&&a.setAttribute&&q(b.split(" "),function(b){a.setAttribute("class",T((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+T(b)+" "," ")))})}function Cb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=T(a),-1===d.indexOf(" "+a+" ")&&(d+=a+" ")}),a.setAttribute("class",T(d))}}function ec(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"==typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function gd(a,b){return Db(a,"$"+(b||"ngController")+"Controller")}function Db(a,b,d){for(9===a.nodeType&&(a=a.documentElement),b=H(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(u(d=B.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function hd(a){for(xb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Eb(a,b){b||xb(a);var d=a.parentNode;d&&d.removeChild(a)}function ed(a){function b(){x.document.removeEventListener("DOMContentLoaded",b),x.removeEventListener("load",b),a()}"complete"===x.document.readyState?x.setTimeout(a):(x.document.addEventListener("DOMContentLoaded",b),x.addEventListener("load",b))}function id(a,b){var d=Fb[b.toLowerCase()];return d&&jd[wa(a)]&&d}function ig(a,b,d){var c=b.relatedTarget;c&&(c===a||jg.call(a,c))||d.call(a,b)}function Yf(){this.$get=function(){return S(W,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ab(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Cb(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Bb(a,b)}})}}function Pa(a,b){var d=a&&a.$$hashKey;return d?("function"==typeof d&&(d=a.$$hashKey()),d):(d=typeof a,d="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||function(){return++qb})():d+":"+a)}function kd(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ld(a){return(a=Function.prototype.toString.call(a).replace(kg,"")).match(lg)||a.match(mg)}function eb(a,b){function d(a){return function(b,c){if(!C(b))return a(b,c);q(b,Lc(a))}}function c(a,b){if(Ka(a,"service"),(D(b)||H(b))&&(b=p.instantiate(b)),!b.$get)throw ya("pget",a);return n[a+"Provider"]=b}function f(a,b,d){return c(a,{$get:!1!==d?function(a,b){return function(){var c=v.invoke(b,this);if(w(c))throw ya("undef",a);return c}}(a,b):b})}function g(a){fb(w(a)||H(a),"modulesToLoad","not an array");var c,b=[];return q(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.set(a,!0);try{F(a)?(c=ac(a),v.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):D(a)?b.push(p.invoke(a)):H(a)?b.push(p.invoke(a)):sb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),ya("modulerr",a,e.stack||e.message||e)}}}),b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw ya("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e),a[b]}catch(f){throw a[b]===k&&delete a[b],f}finally{l.shift()}}function e(a,c,f){for(var g=[],k=0,h=(a=eb.$$annotate(a,b,f)).length;k<h;k++){var l=a[k];if("string"!=typeof l)throw ya("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){if("string"==typeof c&&(d=c,c=null),c=e(a,c,d),H(a)&&(a=a[a.length-1]),d=a,za||"function"!=typeof d)d=!1;else{var f=d.$$ngIsClass;Ha(f)||(f=d.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(d))),d=f}return d?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=H(a)?a[a.length-1]:a;return(a=e(a,b,c)).unshift(null),new(Function.prototype.bind.apply(d,a))},get:d,annotate:eb.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Gb,n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,la(b),!1)}),constant:d(function(a,b){Ka(a,"constant"),n[a]=b,r[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=v.invoke(d,c);return v.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){throw ea.isString(b)&&l.push(b),ya("unpr",l.join(" <- "))}),r={},J=h(r,function(a,b){var c=p.get(a+"Provider",b);return v.invoke(c.$get,c,void 0,a)}),v=J;n.$injectorProvider={$get:la(J)},v.modules=p.modules=V();var t=g(a);return(v=J.get("$injector")).strictDi=b,q(t,function(a){a&&v.invoke(a)}),v}function nf(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,d,c){function f(a){if(a){a.scrollIntoView();var c;D(c=g.yOffset)?c=c():Ub(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):ba(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){var b;(a=F(a)?a:ba(a)?a.toString():d.hash())?(b=h.getElementById(a))?f(b):(b=function(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===wa(a))return b=a,!0}),b}(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;return a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||function(a,b){"complete"===(b=b||x).document.readyState?b.setTimeout(a):B(b).on("load",a)}(function(){c.$evalAsync(g)})}),g}]}function ib(a,b){return a||b?a?b?(H(a)&&(a=a.join(" ")),H(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function ia(a){return C(a)?a:{}}function uf(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new function(a,b,d,c){function e(a){try{a.apply(null,va.call(arguments,1))}finally{if(0==--J)for(;v.length;)try{v.pop()()}catch(b){d.error(b)}}}function f(){Oa=null,h()}function g(){sa(t=w(t=I())?null:t,G)&&(t=G),M=G=t}function h(){var a=M;g(),N===k.url()&&a===t||(N=k.url(),M=t,q(K,function(a){a(k.url(),t)}))}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,r={};k.isMock=!1;var J=0,v=[];k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){J++},k.notifyWhenNoOutstandingRequests=function(a){0===J?a():v.push(a)};var t,M,N=l.href,A=b.find("base"),Oa=null,I=c.history?function(){try{return m.state}catch(a){}}:z;g(),k.url=function(b,d,e){if(w(e)&&(e=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=M===e;if(N===b&&(!c.history||f))return k;var h=N&&Aa(N)===Aa(b);return N=b,M=e,!c.history||h&&f?(h||(Oa=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(Oa=b)):(m[d?"replaceState":"pushState"](e,"",b),g()),Oa&&(Oa=b),k}return Oa||l.href.replace(/%27/g,"'")},k.state=function(){return t};var K=[],E=!1,G=null;k.onUrlChange=function(b){return E||(c.history&&B(a).on("popstate",f),B(a).on("hashchange",f),E=!0),K.push(b),b},k.$$applicationDestroyed=function(){B(a).off("hashchange popstate",f)},k.$$checkUrlChange=h,k.baseHref=function(){var a=A.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""},k.defer=function(a,b){var c;return J++,c=n(function(){delete r[c],e(a)},b||0),r[c]=!0,c},k.defer.cancel=function(a){return!!r[a]&&(delete r[a],p(a),e(z),!0)}}(a,c,b,d)}]}function vf(){this.$get=function(){function a(a,c){function e(a){a!==n&&(p?p===a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw L("$cacheFactory")("iid",a);var g=0,h=S({},c,{id:a}),k=V(),l=c&&c.capacity||Number.MAX_VALUE,m=V(),n=null,p=null;return b[a]={put:function(a,b){if(!w(b)){if(l<Number.MAX_VALUE){e(m[a]||(m[a]={key:a}))}return a in k||g++,k[a]=b,g>l&&this.remove(p.key),b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===n&&(n=b.p),b===p&&(p=b.n),f(b.n,b.p),delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=V(),g=0,m=V(),n=p=null},destroy:function(){m=h=k=null,delete b[a]},info:function(){return S({},h,{size:g})}}}var b={};return a.info=function(){var a={};return q(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function Sf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Wc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,e=V();return q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw fa("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(n[a]=e[f])}}),e}function e(a){var b=a.require||a.controller&&a.name;return!H(b)&&C(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,h=/(([\w-]+)(?::([^;]+))?;?)/,k=function(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=V();this.directive=function N(b,d){return fb(b,"name"),Ka(b,"directive"),F(b)?(function(a){var b=a.charAt(0);if(!b||b!==Q(b))throw fa("baddir",a);if(a!==a.trim())throw fa("baddir",a)}(b),fb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return q(f[b],function(f,g){try{var h=a.invoke(f);D(h)?h={compile:la(h)}:!h.compile&&h.link&&(h.compile=la(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=e(h);var k=h,l=h.restrict;if(l&&(!F(l)||!/[EACM]/.test(l)))throw fa("badrestrict",l,b);k.restrict=l||"EA",h.$$moduleName=f.$$moduleName,d.push(h)}catch(m){c(m)}}),d}])),f[b].push(d)):q(b,Lc(N)),this},this.component=function(a,b){function c(a){function e(b){return D(b)||H(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:function(a,b){if(b&&F(b))return b;if(F(a)){var d=sd.exec(a);if(d)return d[3]}}(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return q(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var d=b.controller||function(){};return q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,D(d)&&(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return u(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return u(a)?(p=a,this):p};var r=!1;this.preAssignBindingsEnabled=function(a){return u(a)?(r=a,this):r};var J=10;this.onChangesTtl=function(a){return arguments.length?(J=a,this):J};var v=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(v=a,this):v};var t=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(t=a,this):t},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,E,G,y,O,X){function P(){try{if(!--ya)throw ia=void 0,fa("infchng",J);G.$apply(function(){for(var a=[],b=0,c=ia.length;b<c;++b)try{ia[b]()}catch(d){a.push(d)}if(ia=void 0,a.length)throw a})}finally{ya++}}function s(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function La(a,b){try{a.addClass(b)}catch(c){}}function ca(a,b,c,d,e){a instanceof B||(a=B(a));var f=Ma(a,b,a,c,d,e);ca.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw fa("multilink");fb(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new());var h=(d=d||{}).parentBoundTranscludeFn,k=d.transcludeControllers;if(d=d.futureParentElement,h&&h.$$boundTransclude&&(h=h.$$boundTransclude),g||(g=(d=d&&d[0])&&"foreignobject"!==wa(d)&&ma.call(d).match(/SVG/)?"svg":"html"),d="html"!==g?B(ha(g,B("<div>").append(a).html())):c?Na.clone.call(a):a,k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);return ca.$$addScopeInfo(d,b),c&&c(d,b),f&&f(b,d,d,h),c||(a=f=null),d}}function Ma(a,b,c,d,e,f){for(var l,m,n,p,K,h=[],k=H(a)||a instanceof B,r=0;r<a.length;r++)l=new s,11===za&&function(a,b,c){var f,d=a[b],e=d.parentNode;if(d.nodeType===Ia)for(;(f=e?d.nextSibling:a[b+1])&&f.nodeType===Ia;)d.nodeValue+=f.nodeValue,f.parentNode&&f.parentNode.removeChild(f),c&&f===a[b+1]&&a.splice(b+1,1)}(a,r,k),(f=(m=jc(a[r],[],l,0===r?d:void 0,e)).length?W(m,a[r],l,b,c,null,[],[],f):null)&&f.scope&&ca.$$addScopeClass(l.$$element),l=f&&f.terminal||!(n=a[r].childNodes)||!n.length?null:Ma(n,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||l)&&(h.push(r,f,l),p=!0,K=K||f),f=null;return p?function(a,c,d,e){var f,k,l,m,n,p,r;if(K)for(r=Array(c.length),m=0;m<h.length;m+=3)f=h[m],r[f]=c[f];else r=c;for(m=0,n=h.length;m<n;)k=r[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),ca.$$addScopeInfo(B(k),l)):l=a,p=c.transcludeOnThisElement?ja(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ja(a,b):null,c(f,l,k,d,p)):f&&f(a,k.childNodes,void 0,e)}:null}function ja(a,b,c){function d(e,f,g,h,k){return e||(e=a.$new(!1,k),e.$$transcluded=!0),b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var f,e=d.$$slots=V();for(f in b.$$slots)e[f]=b.$$slots[f]?ja(a,b.$$slots[f],c):null;return d}function jc(a,b,c,d,e){var g,f=c.$attr;switch(a.nodeType){case 1:Y(b,Ba(g=wa(a)),"E",d,e);for(var k,l,m,n,p=a.attributes,K=0,r=p&&p.length;K<r;K++){var G=!1,E=!1;l=(k=p[K]).name,m=k.value,k=Ba(l),(n=Ja.test(k))&&(l=l.replace(md,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()})),(k=k.match(Ka))&&Z(k[1])&&(G=l,E=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),f[k=Ba(l.toLowerCase())]=l,!n&&c.hasOwnProperty(k)||(c[k]=m,id(a,k)&&(c[k]=!0)),pa(a,b,m,k,n),Y(b,k,"A",d,e,G,E)}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Ga)break;if(f=a.className,C(f)&&(f=f.animVal),F(f)&&""!==f)for(;a=h.exec(f);)k=Ba(a[2]),Y(b,k,"C",d,e)&&(c[k]=T(a[3])),f=f.substr(a.index+a[0].length);break;case Ia:la(b,a.nodeValue);break;case 8:if(!Fa)break;jb(a,b,c,d,e)}return b.sort(ea),b}function jb(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Ba(f[1]);Y(b,h,"M",d,e)&&(c[h]=T(f[2]))}}catch(k){}}function nd(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b))do{if(!a)throw fa("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e);else d.push(a);return B(d)}function od(a,b,c){return function(d,e,f,g,h){return e=nd(e[0],b,c),a(d,e,f,g,h)}}function kc(a,b,c,d,e,f){var g;return a?ca(b,c,d,e,f):function(){return g||(g=ca(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function W(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){a&&(c&&(a=od(a,c,d)),a.require=y.require,a.directiveName=P,(E===y||y.$$isolateScope)&&(a=qa(a,{isolateScope:!0})),h.push(a)),b&&(c&&(b=od(b,c,d)),b.require=y.require,b.directiveName=P,(E===y||y.$$isolateScope)&&(b=qa(b,{isolateScope:!0})),k.push(b))}function n(a,e,f,g,l){var p,y,t,v,J,O,N,P;b===f?(g=d,P=d.$$element):(P=B(f),g=new s(P,d)),J=e,E?v=e.$new(!0):K&&(J=e.$parent),l&&(N=function(a,b,c,d){var e;if(Za(a)||(d=c,c=b,b=a,a=void 0),X&&(e=O),c||(c=X?P.parent():P),!d)return l(a,b,e,c,R);var f=l.$$slots[d];if(f)return f(a,b,e,c,R);if(w(f))throw fa("noslot",d,xa(P))},N.$$boundTransclude=l,N.isSlotFilled=function(a){return!!l.$$slots[a]}),G&&(O=ba(P,g,N,G,v,e,E)),E&&(ca.$$addScopeInfo(P,v,!0,!(I&&(I===E||I===E.$$originalDirective))),ca.$$addScopeClass(P,!0),v.$$isolateBindings=E.$$isolateBindings,(y=na(e,g,v,v.$$isolateBindings,E)).removeWatches&&v.$on("$destroy",y.removeWatches));for(p in O){y=G[p],t=O[p];var Hb=y.$$bindings.bindToController;if(r){t.bindingInfo=Hb?na(J,g,t.instance,Hb,y):{};var A=t();A!==t.instance&&(t.instance=A,P.data("$"+y.name+"Controller",A),t.bindingInfo.removeWatches&&t.bindingInfo.removeWatches(),t.bindingInfo=na(J,g,t.instance,Hb,y))}else t.instance=t(),P.data("$"+y.name+"Controller",t.instance),t.bindingInfo=na(J,g,t.instance,Hb,y)}for(q(G,function(a,b){var c=a.require;a.bindToController&&!H(c)&&C(c)&&S(O[b].instance,U(b,c,P,O))}),q(O,function(a){var b=a.instance;if(D(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(D(b.$onInit))try{b.$onInit()}catch(e){c(e)}D(b.$doCheck)&&(J.$watch(function(){b.$doCheck()}),b.$doCheck()),D(b.$onDestroy)&&J.$on("$destroy",function(){b.$onDestroy()})}),p=0,y=h.length;p<y;p++)t=h[p],ra(t,t.isolateScope?v:e,P,g,t.require&&U(t.directiveName,t.require,P,O),N);var R=e;for(E&&(E.template||null===E.templateUrl)&&(R=v),a&&a(R,f.childNodes,void 0,l),p=k.length-1;0<=p;p--)t=k[p],ra(t,t.isolateScope?v:e,P,g,t.require&&U(t.directiveName,t.require,P,O),N);q(O,function(a){D((a=a.instance).$postLink)&&a.$postLink()})}l=l||{};for(var y,P,N,R,x,p=-Number.MAX_VALUE,K=l.newScopeDirective,G=l.controllerDirectives,E=l.newIsolateScopeDirective,I=l.templateDirective,t=l.nonTlbTranscludeDirective,J=!1,O=!1,X=l.hasElementTranscludeDirective,v=d.$$element=B(b),A=e,u=!1,La=!1,z=0,F=a.length;z<F;z++){var Ma=(y=a[z]).$$start,L=y.$$end;if(Ma&&(v=nd(b,Ma,L)),N=void 0,p>y.priority)break;if((x=y.scope)&&(y.templateUrl||(C(x)?($("new/isolated scope",E||K,y,v),E=y):$("new/isolated scope",E,y,v)),K=K||y),P=y.name,!u&&(y.replace&&(y.templateUrl||y.template)||y.transclude&&!y.$$tlb)){for(x=z+1;u=a[x++];)if(u.transclude&&!u.$$tlb||u.replace&&(u.templateUrl||u.template)){La=!0;break}u=!0}if(!y.templateUrl&&y.controller&&(G=G||V(),$("'"+P+"' controller",G[P],y,v),G[P]=y),x=y.transclude)if(J=!0,y.$$tlb||($("transclusion",t,y,v),t=y),"element"===x)X=!0,p=y.priority,N=v,v=d.$$element=B(ca.$$createComment(P,d[P])),b=v[0],ka(f,va.call(N,0),b),N[0].$$parentNode=N[0].parentNode,A=kc(La,N,e,p,g&&g.name,{nonTlbTranscludeDirective:t});else{var ja=V();if(C(x)){N=[];var Q=V(),jb=V();q(x,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,Q[a]=b,ja[b]=null,jb[b]=c}),q(v.contents(),function(a){var b=Q[Ba(wa(a))];b?(jb[b]=!0,ja[b]=ja[b]||[],ja[b].push(a)):N.push(a)}),q(jb,function(a,b){if(!a)throw fa("reqslot",b)});for(var ic in ja)ja[ic]&&(ja[ic]=kc(La,ja[ic],e))}else N=B(fc(b)).contents();v.empty(),(A=kc(La,N,e,void 0,void 0,{needsNewScope:y.$$isolateScope||y.$$newScope})).$$slots=ja}if(y.template)if(O=!0,$("template",I,y,v),I=y,x=D(y.template)?y.template(v,d):y.template,x=Ea(x),y.replace){if(g=y,N=cc.test(x)?pd(ha(y.templateNamespace,T(x))):[],b=N[0],1!==N.length||1!==b.nodeType)throw fa("tplrt",P,"");ka(f,v,b),x=jc(b,[],F={$attr:{}});var Y=a.splice(z+1,a.length-(z+1));(E||K)&&aa(x,E,K),a=a.concat(x).concat(Y),da(d,F),F=a.length}else v.html(x);if(y.templateUrl)O=!0,$("template",I,y,v),I=y,y.replace&&(g=y),n=ga(a.splice(z,a.length-z),v,d,f,J&&A,h,k,{controllerDirectives:G,newScopeDirective:K!==y&&K,newIsolateScopeDirective:E,templateDirective:I,nonTlbTranscludeDirective:t}),F=a.length;else if(y.compile)try{R=y.compile(v,d,A);var Z=y.$$originalDirective||y;D(R)?m(null,bb(Z,R),Ma,L):R&&m(bb(Z,R.pre),bb(Z,R.post),Ma,L)}catch(ea){c(ea,xa(v))}y.terminal&&(n.terminal=!0,p=Math.max(p,y.priority))}return n.scope=K&&!0===K.scope,n.transcludeOnThisElement=J,n.templateOnThisElement=O,n.transclude=A,l.hasElementTranscludeDirective=X,n}function U(a,b,c,d){var e;if(F(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3];f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw fa("ctreq",b,a)}else if(H(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=U(a,b[g],c,d);else C(b)&&(e={},q(b,function(b,f){e[f]=U(a,b,c,d)}));return e||null}function ba(a,b,c,d,e,f,g){var k,h=V();for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"===n&&(n=b[l.name]),m=E(n,m,!0,l.controllerAs),h[l.name]=m,a.data("$"+l.name+"Controller",m.instance)}return h}function aa(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Vb(a[d],{$$isolateScope:b,$$newScope:c})}function Y(b,c,e,g,h,k,l){if(c===h)return null;var m=null;if(f.hasOwnProperty(c))for(var n=0,p=(h=a.get(c+"Directive")).length;n<p;n++)if(c=h[n],(w(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){if(k&&(c=Vb(c,{$$start:k,$$end:l})),!c.$$bindings){var K=m=c,r=c.name,t={isolateScope:null,bindToController:null};if(C(K.scope)&&(!0===K.bindToController?(t.bindToController=d(K.scope,r,!0),t.isolateScope={}):t.isolateScope=d(K.scope,r,!1)),C(K.bindToController)&&(t.bindToController=d(K.bindToController,r,!0)),t.bindToController&&!K.controller)throw fa("noctrl",r);C((m=m.$$bindings=t).isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c),m=c}return m}function Z(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if((b=c[d]).multiElement)return!0;return!1}function da(a,b){var c=b.$attr,d=a.$attr;q(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+("style"===e?";":" ")+b[e]:b[e]),a.$set(e,d,!0,c[e]))}),q(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ga(a,b,d,f,g,h,k,l){var n,p,m=[],K=b[0],r=a.shift(),t=Vb(r,{templateUrl:null,transclude:null,replace:null,$$originalDirective:r}),y=D(r.templateUrl)?r.templateUrl(b,d):r.templateUrl,E=r.templateNamespace;return b.empty(),e(y).then(function(c){var e,G;if(c=Ea(c),r.replace){if(c=cc.test(c)?pd(ha(E,T(c))):[],e=c[0],1!==c.length||1!==e.nodeType)throw fa("tplrt",r.name,y);c={$attr:{}},ka(f,b,e);var I=jc(e,[],c);C(r.scope)&&aa(I,!0),a=I.concat(a),da(d,c)}else e=K,b.html(c);for(a.unshift(t),n=W(a,e,d,g,b,r,h,k,l),q(f,function(a,c){a===e&&(f[c]=b[0])}),p=Ma(b[0].childNodes,g);m.length;){c=m.shift(),G=m.shift();var v=m.shift(),J=m.shift();I=b[0];if(!c.$$destroyed){if(G!==K){var O=G.className;l.hasElementTranscludeDirective&&r.replace||(I=fc(e)),ka(v,B(G),I),La(B(I),O)}G=n.transcludeOnThisElement?ja(c,n.transclude,J):J,n(p,c,I,f,G)}}m=null}).catch(function(a){a instanceof Error&&c(a)}),function(a,b,c,d,e){a=e,b.$$destroyed||(m?m.push(b,c,d,a):(n.transcludeOnThisElement&&(a=ja(b,n.transclude,e)),n(p,b,c,d,a)))}}function ea(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function $(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw fa("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,xa(d))}function la(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){var b=!!(a=a.parent()).length;return b&&ca.$$addBindingClass(a),function(a,c){var e=c.parent();b||ca.$$addBindingClass(e),ca.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ha(a,b){switch(a=Q(a||"html")){case"svg":case"math":var c=x.document.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function pa(a,c,d,e,f){var g=function(a,b){if("srcdoc"===b)return y.HTML;var c=wa(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(c))return y.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b||"link"===c&&"href"===b)return y.RESOURCE_URL}(a,e),h=k[e]||f,l=b(d,!f,g,h);if(l){if("multiple"===e&&"select"===wa(a))throw fa("selmulti",xa(a));if(m.test(e))throw fa("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=V());var k=f[e];k!==d&&(l=k&&b(k,!0,g,h),d=k),l&&(f[e]=l(a),(c[e]||(c[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(l,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function ka(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]===d){a[g++]=c,h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=x.document.createDocumentFragment(),g=0;g<e;g++)a.appendChild(b[g]);for(B.hasData(d)&&(B.data(c,B.data(d)),B(d).off("$destroy")),B.cleanData(a.querySelectorAll("*")),g=1;g<e;g++)delete b[g];b[0]=c,b.length=1}function qa(a,b){return S(function(){return a.apply(null,arguments)},a,b)}function ra(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,xa(d))}}function na(a,c,d,e,f){function g(b,c,e){D(d.$onChanges)&&!Xb(c,e)&&(ia||(a.$$postDigest(P),ia=[]),m||(m={},ia.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Ib(e,c))}function h(){d.$onChanges(m),m=void 0}var m,k=[],l={};return q(e,function(e,h){var r,t,y,G,m=e.attrName,p=e.optional;switch(e.mode){case"@":p||ua.call(c,m)||(d[h]=c[m]=void 0),p=c.$observe(m,function(a){(F(a)||Ha(a))&&(g(h,a,d[h]),d[h]=a)}),c.$$observers[m].$$scope=a,F(r=c[m])?d[h]=b(r)(a):Ha(r)&&(d[h]=r),l[h]=new Ib(lc,d[h]),k.push(p);break;case"=":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;t=n(c[m]),G=t.literal?sa:Xb,y=t.assign||function(){throw r=d[h]=t(a),fa("nonassign",c[m],m,f.name)},r=d[h]=t(a),(p=function(b){return G(b,d[h])||(G(b,r)?y(a,b=d[h]):d[h]=b),r=b}).$stateful=!0,p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,t.literal),k.push(p);break;case"<":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;var E=(t=n(c[m])).literal,I=d[h]=t(a);l[h]=new Ib(lc,d[h]),p=a.$watch(t,function(a,b){if(b===a){if(b===I||E&&sa(b,I))return;b=I}g(h,a,b),d[h]=a},E),k.push(p);break;case"&":if((t=c.hasOwnProperty(m)?n(c[m]):z)===z&&p)break;d[h]=function(b){return t(a,b)}}}),{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var ia,Ca=/^\w/,ta=x.document.createElement("div"),Fa=v,Ga=t,ya=J;s.prototype={$normalize:Ba,$addClass:function(a){a&&0<a.length&&O.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&O.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=qd(a,b);c&&c.length&&O.addClass(this.$$element,c),(c=qd(b,a))&&c.length&&O.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=id(this.$$element[0],a),g=rd[a],h=a;if(f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Tc(a,"-")),"a"===(f=wa(this.$$element))&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=X(b,"src"===a);else if("img"===f&&"srcset"===a&&u(b)){f="",g=T(b);for(var k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,l=(k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),0);l<k;l++){var m=2*l;f=f+X(T(g[m]),!0),f=f+" "+T(g[m+1])}g=T(g[2*l]).split(/\s/),f+=X(T(g[0]),!0),2===g.length&&(f+=" "+T(g[1])),this[a]=b=f}!1!==d&&(null===b||w(b)?this.$$element.removeAttr(e):Ca.test(e)?this.$$element.attr(e,b):function(a,b,c){ta.innerHTML="<span "+b+">";var d=(b=ta.firstChild.attributes)[0];b.removeNamedItem(d.name),d.value=c,a.attributes.setNamedItem(d)}(this.$$element[0],e,b)),(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=V()),e=d[a]||(d[a]=[]);return e.push(b),G.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||w(c[a])||b(c[a])}),function(){$a(e,b)}}};var Aa=b.startSymbol(),Da=b.endSymbol(),Ea="{{"===Aa&&"}}"===Da?Ya:function(a){return a.replace(/\{\{/g,Aa).replace(/}}/g,Da)},Ja=/^ngAttr[A-Z]/,Ka=/^(.+)Start$/;return ca.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:z,ca.$$addBindingClass=p?function(a){La(a,"ng-binding")}:z,ca.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:z,ca.$$addScopeClass=p?function(a,b){La(a,b?"ng-isolate-scope":"ng-scope")}:z,ca.$$createComment=function(a,b){var c="";return p&&(c=" "+(a||"")+": ",b&&(c+=b+" ")),x.document.createComment(c)},ca}]}function Ib(a,b){this.previousValue=a,this.currentValue=b}function Ba(a){return a.replace(md,"").replace(rg,gb)}function qd(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g===e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function pd(a){var b=(a=B(a)).length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Ia&&""===d.nodeValue.trim())&&sg.call(a,b,1)}return a}function wf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){Ka(b,"controller"),C(b)?S(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!C(a.$scope))throw L("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;if(h=!0===h,k&&F(k)&&(n=k),F(f)){if(!(k=f.match(sd)))throw td("ctrlfmt",f);if(m=k[1],n=n||k[3],!(f=a.hasOwnProperty(m)?a[m]:Vc(g.$scope,m,!0)||(b?Vc(c,m,!0):void 0)))throw td("ctrlreg",m);sb(f,m,!0)}return h?(h=(H(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),S(function(){var a=d.invoke(f,l,g,m);return a!==l&&(C(a)||D(a))&&(l=a,n&&e(g,n,l,m||f.name)),l},{instance:l,identifier:n})):(l=d.instantiate(f,g,m),n&&e(g,n,l,m||f.name),l)}}]}function xf(){this.$get=["$window",function(a){return B(a.document)}]}function yf(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;return a.on("visibilitychange",d),b.$on("$destroy",function(){a.off("visibilitychange",d)}),function(){return e}}]}function zf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function mc(a){return C(a)?ga(a)?a.toISOString():cb(a):a}function Ef(){this.$get=function(){return function(a){if(!a)return"";var b=[];return Kc(a,function(a,c){null===a||w(a)||(H(a)?q(a,function(a){b.push($(c)+"="+$(mc(a)))}):b.push($(c)+"="+$(mc(a))))}),b.join("&")}}}function Ff(){this.$get=function(){return function(a){function b(a,e,f){null===a||w(a)||(H(a)?q(a,function(a,c){b(a,e+"["+(C(a)?c:"")+"]")}):C(a)&&!ga(a)?Kc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push($(e)+"="+$(mc(a))))}if(!a)return"";var d=[];return b(a,"",!0),d.join("&")}}}function nc(a,b){if(F(a)){var d=a.replace(tg,"").trim();if(d){var c=b("Content-Type");if((c=c&&0===c.indexOf(ud))||(c=(c=d.match(ug))&&vg[c[0]].test(d)),c)try{a=Oc(d)}catch(e){throw oc("baddata",a,e)}}}return a}function vd(a){var d,b=V();return F(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=Q(T(a.substr(0,d)));a=T(a.substr(d+1)),e&&(b[e]=b[e]?b[e]+", "+a:a)}):C(a)&&q(a,function(a,d){var f=Q(d),g=T(a);f&&(b[f]=b[f]?b[f]+", "+g:g)}),b}function wd(a){var b;return function(d){return b||(b=vd(a)),d?(void 0===(d=b[Q(d)])&&(d=null),d):b}}function xd(a,b,d,c){return D(c)?c(a,b,d):(q(c,function(c){a=c(a,b,d)}),a)}function Df(){var a=this.defaults={transformResponse:[nc],transformRequest:[function(a){return C(a)&&"[object File]"!==ma.call(a)&&"[object Blob]"!==ma.call(a)&&"[object FormData]"!==ma.call(a)?cb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:pa(pc),put:pa(pc),patch:pa(pc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var d=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(c,e,f,g,h,k,l,m){function n(b){function d(a,b){for(var c=0,e=b.length;c<e;){var f=b[c++],g=b[c++];a=a.then(f,g)}return b.length=0,a}function f(a){var b=S({},a);return b.data=xd(a.data,a.headers,a.status,g.transformResponse),200<=(a=a.status)&&300>a?b:k.reject(b)}if(!C(b))throw L("$http")("badreq",b);if(!F(m.valueOf(b.url)))throw L("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);g.headers=function(b){var f,g,h,c=a.headers,d=S({},b.headers);c=S({},c.common,c[Q(b.method)]);a:for(f in c){g=Q(f);for(h in d)if(Q(h)===g)continue a;d[f]=c[f]}return function(a,b){var c,d={};return q(a,function(a,e){D(a)?null!=(c=a(b))&&(d[e]=c):d[e]=a}),d}(d,pa(b))}(b),g.method=ub(g.method),g.paramSerializer=F(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer,c.$$incOutstandingRequestCount();var h=[],n=[];return b=k.resolve(g),q(t,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError),(a.response||a.responseError)&&n.push(a.response,a.responseError)}),b=d(b,h),b=b.then(function(b){var c=b.headers,d=xd(b.data,wd(c),void 0,b.transformRequest);return w(d)&&q(c,function(a,b){"content-type"===Q(b)&&delete c[b]}),w(b.withCredentials)&&!w(a.withCredentials)&&(b.withCredentials=a.withCredentials),p(b,d).then(f,f)}),b=d(b,n),b=b.finally(function(){c.$$completeOutstandingRequest(z)})}function p(c,d){function g(a){if(a){var c={};return q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}}),c}}function p(a,b,d,e){(200<=(b=-1<=b?b:0)&&300>b?G.resolve:G.reject)({data:a,status:b,headers:wd(d),config:c,statusText:e})}function K(a){p(a.data,a.status,pa(a.headers()),a.statusText)}function t(){var a=n.pendingRequests.indexOf(c);-1!==a&&n.pendingRequests.splice(a,1)}var O,X,G=k.defer(),y=G.promise,P=c.headers,s="jsonp"===Q(c.method),R=c.url;return s?R=m.getTrustedResourceUrl(R):F(R)||(R=m.valueOf(R)),R=function(a,b){return 0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b),a}(R,c.paramSerializer(c.params)),s&&(R=function(a,b){if(/[&?][^=]+=JSON_CALLBACK/.test(a))throw oc("badjsonp",a);if(new RegExp("[&?]"+b+"=").test(a))throw oc("badjsonp",b,a);return a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}(R,c.jsonpCallbackParam)),n.pendingRequests.push(c),y.then(t,t),!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(O=C(c.cache)?c.cache:C(a.cache)?a.cache:v),O&&(X=O.get(R),u(X)?X&&D(X.then)?X.then(K,K):H(X)?p(X[1],X[0],pa(X[2]),X[3]):p(X,200,{},"OK"):O.put(R,y)),w(X)&&((X=yd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(P[c.xsrfHeaderName||a.xsrfHeaderName]=X),e(c.method,R,d,function(a,c,d,e){function f(){p(c,a,d,e)}O&&(200<=a&&300>a?O.put(R,[a,c,vd(d),e]):O.remove(R)),b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())},P,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers))),y}var v=g("$http");a.paramSerializer=F(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var t=[];return q(d,function(a){t.unshift(F(a)?l.get(a):l.invoke(a))}),n.pendingRequests=[],function(a){q(arguments,function(a){n[a]=function(b,c){return n(S({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){q(arguments,function(a){n[a]=function(b,c,d){return n(S({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),n.defaults=a,n}]}function Hf(){this.$get=function(){return function(){return new x.XMLHttpRequest}}}function Gf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return function(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;return f.type="text/javascript",f.src=a,f.async=!0,m=function(a){f.removeEventListener("load",m),f.removeEventListener("error",m),e.body.removeChild(f),f=null;var g=-1,r="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),r=a.type,g="error"===a.type?404:200),d&&d(g,r)},f.addEventListener("load",m),f.addEventListener("error",m),e.body.appendChild(f),m}return function(e,h,k,l,m,n,p,r,J,v){function t(){N&&N(),A&&A.abort()}if(h=h||a.url(),"jsonp"===Q(e))var M=c.createCallback(h),N=f(h,M,function(a,b){var e=200===a&&c.getResponse(M);u(I)&&d.cancel(I),N=A=null,l(a,e,"",b),c.removeCallback(M)});else{var A=b(e,h);if(A.open(e,h,!0),q(m,function(a,b){u(a)&&A.setRequestHeader(b,a)}),A.onload=function(){var a=A.statusText||"",b="response"in A?A.response:A.responseText,c=1223===A.status?204:A.status;0===c&&(c=b?200:"file"===Ca(h).protocol?404:0);var e=A.getAllResponseHeaders();u(I)&&d.cancel(I),N=A=null,l(c,b,e,a)},e=function(){u(I)&&d.cancel(I),N=A=null,l(-1,null,null,"")},A.onerror=e,A.onabort=e,A.ontimeout=e,q(J,function(a,b){A.addEventListener(b,a)}),q(v,function(a,b){A.upload.addEventListener(b,a)}),p&&(A.withCredentials=!0),r)try{A.responseType=r}catch(s){if("json"!==r)throw s}A.send(w(k)?null:k)}if(0<n)var I=d(t,n);else n&&D(n.then)&&n.then(t)}}(a,c,a.defer,b,d[0])}]}function Bf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function k(f,k,n,p){function M(a){try{var b=a;return a=n?e.getTrusted(n,b):e.valueOf(b),p&&!u(a)?a:$b(a)}catch(d){c(Da.interr(f,d))}}if(!f.length||-1===f.indexOf(a)){var q;return k||(k=g(f),q=la(k),q.exp=f,q.expressions=[],q.$$watchDelegate=h),q}p=!!p;var A,s,I=0,K=[],E=[];q=f.length;for(var G=[],y=[];I<q;){if(-1===(A=f.indexOf(a,I))||-1===(s=f.indexOf(b,A+l))){I!==q&&G.push(g(f.substring(I)));break}I!==A&&G.push(g(f.substring(I,A))),I=f.substring(A+l,s),K.push(I),E.push(d(I,M)),I=s+m,y.push(G.length),G.push("")}if(n&&1<G.length&&Da.throwNoconcat(f),!k||K.length){var O=function(a){for(var b=0,c=K.length;b<c;b++){if(p&&w(a[b]))return;G[y[b]]=a[b]}return G.join("")};return S(function(a){var b=0,d=K.length,e=Array(d);try{for(;b<d;b++)e[b]=E[b](a);return O(e)}catch(g){c(Da.interr(f,g))}},{exp:f,expressions:K,$$watchDelegate:function(a,b){var c;return a.$watchGroup(E,function(d,e){var f=O(d);D(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Cf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,r):f(t)}var p=4<arguments.length,r=p?va.call(arguments,4):[],J=b.setInterval,v=b.clearInterval,t=0,M=u(m)&&!m,q=(M?c:d).defer(),A=q.promise;return l=u(l)?l:0,A.$$intervalId=J(function(){M?e.defer(n):a.$evalAsync(n),q.notify(t++),0<l&&t>=l&&(q.resolve(t),v(A.$$intervalId),delete g[A.$$intervalId]),M||a.$apply()},k),g[A.$$intervalId]=q,A}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].promise.catch(z),g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function qc(a){for(var b=(a=a.split("/")).length;b--;)a[b]=db(a[b]);return a.join("/")}function zd(a,b){var d=Ca(a);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=Z(d.port)||xg[d.protocol]||null}function Ad(a,b){if(yg.test(a))throw kb("badpath",a);var d="/"!==a.charAt(0);d&&(a="/"+a);var c=Ca(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname),b.$$search=Rc(c.search),b.$$hash=decodeURIComponent(c.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function rc(a,b){return a.slice(0,b.length)===b}function ka(a,b){if(rc(b,a))return b.substr(a.length)}function Aa(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function lb(a){return a.replace(/(#.+)|#$/,"$1")}function sc(a,b,d){this.$$html5=!0,d=d||"",zd(a,this),this.$$parse=function(a){var d=ka(b,a);if(!F(d))throw kb("ipthprfx",a,b);Ad(d,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Zb(this.$$search),d=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(a?"?"+a:"")+d,this.$$absUrl=b+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return u(f=ka(a,c))?(g=f,g=d&&u(f=ka(d,f))?b+(ka("/",f)||f):a+g):u(f=ka(b,c))?g=b+f:b===c+"/"&&(g=b),g&&this.$$parse(g),!!g}}function tc(a,b,d){zd(a,this),this.$$parse=function(c){var f;w(e=ka(a,c)||ka(b,c))||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",w(e)&&(a=c,this.replace())):(f=ka(d,e),w(f)&&(f=e)),Ad(f,this),c=this.$$path;var e,g=/^\/[A-Z]:(\/.*)/;rc(f,e=a)&&(f=f.replace(e,"")),g.exec(f)||(c=(f=g.exec(c))?f[1]:c),this.$$path=c,this.$$compose()},this.$$compose=function(){var b=Zb(this.$$search),e=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+(this.$$url?d+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(b,d){return Aa(a)===Aa(b)&&(this.$$parse(b),!0)}}function Bd(a,b,d){this.$$html5=!0,tc.apply(this,arguments),this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a===Aa(c)?f=c:(g=ka(b,c))?f=a+d+g:b===c+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=Zb(this.$$search),e=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+d+this.$$url,this.$$urlUpdatedByLocation=!0}}function Jb(a){return function(){return this[a]}}function Cd(a,b){return function(d){return w(d)?this[a]:(this[a]=b(d),this.$$compose(),this)}}function Jf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return Ha(a)?(b.enabled=a,this):C(a)?(Ha(a.enabled)&&(b.enabled=a.enabled),Ha(a.requireBase)&&(b.requireBase=a.requireBase),(Ha(a.rewriteLinks)||F(a.rewriteLinks))&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var p,n=c.url();if(b.enabled){if(!m&&b.requireBase)throw kb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/"),m=e.history?sc:Bd}else p=Aa(n),m=tc;var r=p.substr(0,Aa(p).lastIndexOf("/")+1);(l=new m(p,r,"#"+a)).$$parseLinkUrl(n,n),l.$$state=c.state();var J=/^\s*(javascript|mailto):/i;f.on("click",function(a){if((e=b.rewriteLinks)&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var h=B(a.target);"a"!==wa(h[0]);)if(h[0]===f[0]||!(h=h.parent())[0])return;if(!F(e)||!w(h.attr(e))){var e=h.prop("href"),k=h.attr("href")||h.attr("xlink:href");C(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=Ca(e.animVal).href),J.test(e)||!e||h.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(e,k)||(a.preventDefault(),l.absUrl()!==c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}}),lb(l.absUrl())!==lb(n)&&c.url(l.absUrl(),!0);var v=!0;return c.onUrlChange(function(a,b){rc(a,r)?(d.$evalAsync(function(){var f,c=l.absUrl(),e=l.$$state;a=lb(a),l.$$parse(a),l.$$state=b,f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented,l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(v=!1,k(c,e)))}),d.$$phase||d.$digest()):g.location.href=a}),d.$watch(function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var a=lb(c.url()),b=lb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;(v||m)&&(v=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))}))}l.$$replace=!1}),l}]}function Kf(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(d){function e(a){var b=d.console||{},e=b[a]||b.log||z;a=!1;try{a=!!e.apply}catch(f){}return a?function(){var a=[];return q(arguments,function(b){a.push(function(a){return a instanceof Error&&(a.stack&&f?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}var f=za||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function zg(a){return a+""}function Ag(a,b){return void 0!==a?a:b}function Dd(a,b){return void 0===a?b:void 0===b?a:a+b}function U(a,b){var d,c,e;switch(a.type){case s.Program:d=!0,q(a.body,function(a){U(a.expression,b),d=d&&a.expression.constant}),a.constant=d;break;case s.Literal:a.constant=!0,a.toWatch=[];break;case s.UnaryExpression:U(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:U(a.left,b),U(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:U(a.left,b),U(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:U(a.test,b),U(a.alternate,b),U(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=!1,a.toWatch=[a];break;case s.MemberExpression:U(a.object,b),a.computed&&U(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case s.CallExpression:d=e=!!a.filter&&!b(a.callee.name).$stateful,c=[],q(a.arguments,function(a){U(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=e?c:[a];break;case s.AssignmentExpression:U(a.left,b),U(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case s.ArrayExpression:d=!0,c=[],q(a.elements,function(a){U(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=c;break;case s.ObjectExpression:d=!0,c=[],q(a.properties,function(a){U(a.value,b),d=d&&a.value.constant&&!a.computed,a.value.constant||c.push.apply(c,a.value.toWatch),a.computed&&(U(a.key,b),a.key.constant||c.push.apply(c,a.key.toWatch))}),a.constant=d,a.toWatch=c;break;case s.ThisExpression:a.constant=!1,a.toWatch=[];break;case s.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Ed(a){if(1===a.length){var b=(a=a[0].expression).toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Fd(a){return a.type===s.Identifier||a.type===s.MemberExpression}function Gd(a){if(1===a.body.length&&Fd(a.body[0].expression))return{type:s.AssignmentExpression,left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function Hd(a){this.$filter=a}function Id(a){this.$filter=a}function uc(a,b,d){this.ast=new s(a,d),this.astCompiler=d.csp?new Id(b):new Hd(b)}function vc(a){return D(a.valueOf)?a.valueOf():Bg.call(a)}function Lf(){var d,c,a=V(),b={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,c){b[a]=c},this.setIdentifierFns=function(a,b){return d=a,c=b,this},this.$get=["$filter",function(e){function f(a,b,c){return null==a||null==b?a===b:!("object"==typeof a&&"object"==typeof(a=vc(a))&&!c)&&(a===b||a!=a&&b!=b)}function g(a,b,c,d,e){var h;if(1===(g=d.inputs).length){var k=f,g=g[0];return a.$watch(function(a){var b=g(a);return f(b,k,d.literal)||(h=d(a,void 0,void 0,[b]),k=b&&vc(b)),h},b,c,e)}for(var l=[],m=[],n=0,E=g.length;n<E;n++)l[n]=f,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var k=g[c](a);(b||(b=!f(k,l[c],d.literal)))&&(m[c]=k,l[c]=k&&vc(k))}return b&&(h=d(a,void 0,void 0,m)),h},b,c,e)}function h(a,b,c,d,e){function h(a,c,d){n=a,D(b)&&b(a,c,d),l(a)&&d.$$postDigest(function(){l(n)&&m()})}var m,n,l=d.literal?k:u;return m=d.inputs?g(a,h,c,d,e):a.$watch(function(a){return d(a)},h,c)}function k(a){var b=!0;return q(a,function(a){u(a)||(b=!1)}),b}function l(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function m(a,b){if(!b)return a;var e=a.$$watchDelegate,f=!1,h=a.literal?k:u,l=a.oneTime?function(c,e,g,k){return g=f&&k?k[0]:a(c,e,g,k),c=b(g,c,e),h(g)?c:g}:function(d,e,g,h){return g=f&&h?h[0]:a(d,e,g,h),b(g,d,e)};return l.literal=a.literal,l.oneTime=a.oneTime,f=!a.inputs,e&&e!==g?(l.$$watchDelegate=e,l.inputs=a.inputs):b.$stateful||(l.$$watchDelegate=g,l.inputs=a.inputs?a.inputs:[a]),l}var n={csp:Ga().noUnsafeEval,literals:ra(b),isIdentifierStart:D(d)&&d,isIdentifierContinue:D(c)&&c};return function(b,c){var d,f,k;switch(typeof b){case"string":return k=b=b.trim(),(d=a[k])||(":"===b.charAt(0)&&":"===b.charAt(1)&&(f=!0,b=b.substring(2)),d=new wc(n),(d=new uc(d,e,n).parse(b)).constant?d.$$watchDelegate=l:f?(d.oneTime=!0,d.$$watchDelegate=h):d.inputs&&(d.$$watchDelegate=g),a[k]=d),m(d,c);case"function":return m(b,c);default:return m(z,c)}}}]}function Nf(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Jd(function(a){b.$evalAsync(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Of(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Jd(function(a){b.defer(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Jd(a,b,d){function c(){return new function(){var a=this.promise=new f;this.resolve=function(b){k(a,b)},this.reject=function(b){m(a,b)},this.notify=function(b){p(a,b)}}}function f(){this.$$state={status:0}}function g(){for(;!s&&A.length;){var a=A.shift();if(!a.pur){a.pur=!0;var c="Possibly unhandled rejection: "+("function"==typeof(c=a.value)?c.toString().replace(/ \{[\s\S]*$/,""):w(c)?"undefined":"string"!=typeof c?Be(c,void 0):c);a.value instanceof Error?b(a.value,c):b(c)}}}function h(b){!d||b.pending||2!==b.status||b.pur||(0===s&&0===A.length&&a(g),A.push(b)),!b.processScheduled&&b.pending&&(b.processScheduled=!0,++s,a(function(){var c,e,f;f=b.pending,b.processScheduled=!1,b.pending=void 0;try{for(var h=0,l=f.length;h<l;++h){b.pur=!0,e=f[h][0],c=f[h][b.status];try{D(c)?k(e,c(b.value)):1===b.status?k(e,b.value):m(e,b.value)}catch(n){m(e,n)}}}finally{--s,d&&0===s&&a(g)}}))}function k(a,b){a.$$state.status||(b===a?n(a,M("qcycle",b)):l(a,b))}function l(a,b){function d(b){g||(g=!0,n(a,b))}var f,g=!1;try{(C(b)||D(b))&&(f=b.then),D(f)?(a.$$state.status=-1,f.call(b,function(b){g||(g=!0,l(a,b))},d,function(b){p(a,b)})):(a.$$state.value=b,a.$$state.status=1,h(a.$$state))}catch(k){d(k)}}function m(a,b){a.$$state.status||n(a,b)}function n(a,b){a.$$state.value=b,a.$$state.status=2,h(a.$$state)}function p(c,d){var e=c.$$state.pending;0>=c.$$state.status&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;f<g;f++){c=e[f][0],a=e[f][3];try{p(c,D(a)?a(d):d)}catch(h){b(h)}}})}function r(a){var b=new f;return m(b,a),b}function J(a,b,c){var d=null;try{D(c)&&(d=c())}catch(e){return r(e)}return d&&D(d.then)?d.then(function(){return b(a)},r):b(a)}function v(a,b,c,d){var e=new f;return k(e,a),e.then(b,c,d)}function t(a){if(!D(a))throw M("norslvr",a);var b=new f;return a(function(a){k(b,a)},function(a){m(b,a)}),b}var M=L("$q",TypeError),s=0,A=[];S(f.prototype,{then:function(a,b,c){if(w(a)&&w(b)&&w(c))return this;var d=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&h(this.$$state),d},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return J(b,u,a)},function(b){return J(b,r,a)},b)}});var u=v;return t.prototype=f.prototype,t.defer=c,t.reject=r,t.when=v,t.resolve=u,t.all=function(a){var b=new f,c=0,d=H(a)?[]:{};return q(a,function(a,e){c++,v(a).then(function(a){d[e]=a,--c||k(b,d)},function(a){m(b,a)})}),0===c&&k(b,d),b},t.race=function(a){var b=c();return q(a,function(a){v(a).then(b.resolve,b.reject)}),b.promise},t}function Xf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Mf(){var b=10,d=L("$rootScope"),c=null,e=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===za&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++qb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function n(a){if(M.$$phase)throw d("inprog",M.$$phase);M.$$phase=a}function p(a,b){do{a.$$watchersCount+=b}while(a=a.$parent)}function r(a,b,c){do{a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c]}while(a=a.$parent)}function J(){}function v(){for(;u.length;)try{u.shift()()}catch(a){f(a)}e=null}m.prototype={constructor:m,$new:function(b,c){var d;return c=c||this,b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++qb,this.$$ChildScope=null}return b.prototype=a,b}(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",k),d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:J,get:f,exp:e||a,eq:!!d};return c=null,D(b)||(l.fn=z),k||(k=h.$$watchers=[],k.$$digestWatchIndex=-1),k.unshift(l),k.$$digestWatchIndex++,p(this,1),function(){var a=$a(k,l);0<=a&&(p(h,-1),a<k.$$digestWatchIndex&&k.$$digestWatchIndex--),c=null}},$watchGroup:function(a,b){function c(){h=!1,k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;return g.$evalAsync(function(){l&&b(e,e,g)}),function(){l=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a,d[b]=f,h||(h=!0,g.$evalAsync(c))});f.push(k)}),function(){for(;f.length;)f.shift()()})},$watchCollection:function(a,b){function c(a){var b,g,h;if(!w(e=a)){if(C(e))if(qa(e))for(f!==n&&(f=n,t=f.length=0,l++),a=e.length,t!==a&&(l++,f.length=t=a),b=0;b<a;b++)h=f[b],g=e[b],h!=h&&g!=g||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},t=0,l++),a=0;for(b in e)ua.call(e,b)&&(a++,g=e[b],h=f[b],b in f?h!=h&&g!=g||h===g||(l++,f[b]=g):(t++,f[b]=g,l++));if(t>a)for(b in l++,f)ua.call(e,b)||(t--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var e,f,h,d=this,k=1<b.length,l=0,m=g(a,c),n=[],p={},r=!0,t=0;return this.$watch(m,function(){if(r?(r=!1,b(e,e,d)):b(e,h,d),k)if(C(e))if(qa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ua.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,m,p,r,q,w,x,t=b,u=[];n("$digest"),h.$$checkUrlChange(),this===M&&null!==e&&(h.defer.cancel(e),v()),c=null;do{for(r=!1,q=this,p=0;p<s.length;p++){try{(0,(x=s[p]).fn)(x.scope,x.locals)}catch(z){f(z)}c=null}s.length=0;a:do{if(p=q.$$watchers)for(p.$$digestWatchIndex=p.length;p.$$digestWatchIndex--;)try{if(a=p[p.$$digestWatchIndex])if(m=a.get,(g=m(q))===(k=a.last)||(a.eq?sa(g,k):da(g)&&da(k))){if(a===c){r=!1;break a}}else r=!0,c=a,a.last=a.eq?ra(g,null):g,(0,a.fn)(g,k===J?g:k,q),5>t&&(w=4-t,u[w]||(u[w]=[]),u[w].push({msg:D(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}))}catch(B){f(B)}if(!(p=q.$$watchersCount&&q.$$childHead||q!==this&&q.$$nextSibling))for(;q!==this&&!(p=q.$$nextSibling);)q=q.$parent}while(q=p);if((r||s.length)&&!t--)throw M.$$phase=null,d("infdig",b,u)}while(r||s.length);for(M.$$phase=null;I<A.length;)try{A[I++]()}catch(F){f(F)}A.length=I=0,h.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===M&&h.$$applicationDestroyed(),p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)r(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=z,this.$on=this.$watch=this.$watchGroup=function(){return z},this.$$listeners={},this.$$nextSibling=null,l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){M.$$phase||s.length||h.defer(function(){s.length&&M.$digest()}),s.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{M.$$phase=null}}catch(b){f(b)}finally{try{M.$digest()}catch(c){throw f(c),c}}},$applyAsync:function(a){var c=this;a&&u.push(function(){c.$eval(a)}),a=g(a),null===e&&(e=h.defer(function(){M.$apply(v)}))},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do{d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++}while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,r(e,1,a))}},$emit:function(a,b){var d,l,m,c=[],e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=ab([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,g=ab([e],arguments,1);c=d;){for(e.currentScope=c,h=0,k=(d=c.$$listeners[a]||[]).length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var M=new m,s=M.$$asyncQueue=[],A=M.$$postDigestQueue=[],u=M.$$applyAsyncQueue=[],I=0;return M}]}function Ee(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(d,c){var f,e=c?b:a;return""===(f=Ca(d).href)||f.match(e)?d:"unsafe:"+f}}}function Ld(a){var b=[];return u(a)&&q(a,function(a){b.push(function(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw ta("iwcard",a);return a=Kd(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+a+"$")}if(Xa(a))return new RegExp("^"+a.source+"$");throw ta("imatcher")}(a))}),b}function Qf(){this.SCE_CONTEXTS=oa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Ld(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Ld(a)),b},this.$get=["$injector",function(d){function c(a,b){return"self"===a?yd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw ta("unsafe")};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};return h[oa.HTML]=e(g),h[oa.CSS]=e(g),h[oa.URL]=e(g),h[oa.JS]=e(g),h[oa.RESOURCE_URL]=e(h[oa.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw ta("icontext",a,b);if(null===b||w(b)||""===b)return b;if("string"!=typeof b)throw ta("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||w(e)||""===e)return e;if((g=h.hasOwnProperty(d)?h[d]:null)&&e instanceof g)return e.$$unwrapTrustedValue();if(d===oa.RESOURCE_URL){var n,p,g=Ca(e.toString()),r=!1;for(n=0,p=a.length;n<p;n++)if(c(a[n],g)){r=!0;break}if(r)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){r=!1;break}if(r)return e;throw ta("insecurl",e.toString())}if(d===oa.HTML)return f(e);throw ta("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Pf(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>za)throw ta("iequirks");var c=pa(oa);c.isEnabled=function(){return a},c.trustAs=d.trustAs,c.getTrusted=d.getTrusted,c.valueOf=d.valueOf,a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ya),c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;return q(oa,function(a,b){var d=Q(b);c[("parse_as_"+d).replace(xc,gb)]=function(b){return e(a,b)},c[("get_trusted_"+d).replace(xc,gb)]=function(b){return f(a,b)},c[("trust_as_"+d).replace(xc,gb)]=function(b){return g(a,b)}}),c}]}function Rf(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=Z((/android (\d+)/.exec(Q((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h=g.body&&g.body.style,k=!1,l=!1;return h&&(k=!!("transition"in h||"webkitTransition"in h),l=!!("animation"in h||"webkitAnimation"in h)),{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&za)return!1;if(w(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ga(),transitions:k,animations:l,android:e}}]}function Tf(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(h,k){g.totalPendingRequests++,F(h)&&!w(d.get(h))||(h=f.getTrustedResourceUrl(h));var l=c.defaults&&c.defaults.transformResponse;return H(l)?l=l.filter(function(a){return a!==nc}):l===nc&&(l=null),c.get(h,S({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){return d.put(h,a.data),a.data},function(a){return k||(a=Dg("tpload",h,a.status,a.statusText),b(a)),e.reject(a)})}return g.totalPendingRequests=0,g}]}function Uf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){var g=[];return q(a=a.getElementsByClassName("ng-binding"),function(a){var c=ea.element(a).data("$binding");c&&q(c,function(c){d?new RegExp("(^|\\s)"+Kd(b)+"(\\s|\\||$)").test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Vf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){D(f)||(l=k,k=f,f=z);var q,m=va.call(arguments,3),n=u(l)&&!l,p=(n?c:d).defer(),r=p.promise;return q=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[r.$$timeoutId]}n||a.$apply()},k),r.$$timeoutId=q,g[q]=p,r}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].promise.catch(z),g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Ca(a){return za&&(aa.setAttribute("href",a),a=aa.href),aa.setAttribute("href",a),{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:aa.hostname,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}}function yd(a){return(a=F(a)?Ca(a):a).protocol===Md.protocol&&a.host===Md.host}function Wf(){this.$get=la(x)}function Nd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],0<(k=g.indexOf("="))&&(l=b(g.substring(0,k)),w(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function $f(){this.$get=Nd}function cd(a){function b(d,c){if(C(d)){var e={};return q(d,function(a,c){e[c]=b(c,a)}),e}return a.factory(d+"Filter",c)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Od),b("date",Pd),b("filter",Eg),b("json",Fg),b("limitTo",Gg),b("lowercase",Hg),b("number",Qd),b("orderBy",Rd),b("uppercase",Ig)}function Eg(){return function(a,b,d,c){if(!qa(a)){if(null==a)return a;throw L("filter")("notarray",a)}c=c||"$";var e;switch(yc(b)){case"function":break;case"boolean":case"null":case"number":case"string":e=!0;case"object":b=function(a,b,d,c){var e=C(a)&&d in a;return!0===b?b=sa:D(b)||(b=function(a,b){return!(w(a)||(null===a||null===b?a!==b:C(b)||C(a)&&!Wb(a)||(a=Q(""+a),b=Q(""+b),-1===a.indexOf(b))))}),function(f){return e&&!C(f)?Ea(f,a[d],b,d,!1):Ea(f,a,b,d,c)}}(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Ea(a,b,d,c,e,f){var g=yc(a),h=yc(b);if("string"===h&&"!"===b.charAt(0))return!Ea(a,b.substring(1),d,c,e);if(H(a))return a.some(function(a){return Ea(a,b,d,c,e)});switch(g){case"object":var k;if(e){for(k in a)if(k.charAt&&"$"!==k.charAt(0)&&Ea(a[k],b,d,c,!0))return!0;return!f&&Ea(a,b,d,c,!1)}if("object"===h){for(k in b)if(f=b[k],!D(f)&&!w(f)&&(g=k===c,!Ea(g?a:a[k],f,d,c,g,g)))return!1;return!0}return d(a,b);case"function":return!1;default:return d(a,b)}}function yc(a){return null===a?"null":typeof a}function Od(a){var b=a.NUMBER_FORMATS;return function(a,c,e){return w(c)&&(c=b.CURRENCY_SYM),w(e)&&(e=b.PATTERNS[1].maxFrac),null==a?a:Sd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Qd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Sd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Sd(a,b,d,c,e){if(!F(a)&&!ba(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="∞";else{for(function(a,b,d,c){var e=a.d,f=e.length-a.i;if(b=w(b)?Math.min(Math.max(d,f),c):+b,d=b+a.i,c=e[d],0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&&(e.unshift(b),a.i++)}(g=function(a){var d,c,e,f,g,b=0;for(-1<(c=a.indexOf(Td))&&(a=a.replace(Td,"")),0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length),e=0;a.charAt(e)===zc;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===zc;)g--;for(c-=e,d=[],f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}return c>Ud&&(d=d.splice(0,Ud-1),b=c-1,c=1),{d:d,e:b,i:c}}(h),e,b.minFrac,b.maxFrac),k=g.d,h=g.i,e=g.e,f=[],g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;for(0<h?f=k.splice(h,k.length):(f=k,k=[0]),h=[],k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join("")),k=h.join(d),f.length&&(k+=c+f.join("")),e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d,c){var e="";for((0>a||c&&0>=a)&&(c?a=1-a:(a=-a,e="-")),a=""+a;a.length<b;)a=zc+a;return d&&(a=a.substr(a.length-b)),e+a}function Y(a,b,d,c,e){return d=d||0,function(f){return f=f["get"+a](),(0<d||f>-d)&&(f+=d),0===f&&-12===d&&(f=12),Kb(f,b,c,e)}}function mb(a,b,d){return function(c,e){var f=c["get"+a]();return e[ub((d?"STANDALONE":"")+(b?"SHORT":"")+a)][f]}}function Vd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Wd(a){return function(b){var d=Vd(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d,b=1+Math.round(b/6048e5),Kb(b,a)}}function Ac(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Pd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Z(b[9]+b[10]),g=Z(b[9]+b[11])),h.call(a,Z(b[1]),Z(b[2])-1,Z(b[3])),f=Z(b[4]||0)-f,g=Z(b[5]||0)-g,h=Z(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var k,l,g="",h=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,F(c)&&(c=Mg.test(c)?Z(c):b(c)),ba(c)&&(c=new Date(c)),!ga(c)||!isFinite(c.getTime()))return c;for(;d;)(l=Ng.exec(d))?(h=ab(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();return f&&(m=Pc(f,m),c=Yb(c,f,!0)),q(h,function(b){k=Og[b],g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function Fg(){return function(a,b){return w(b)&&(b=2),cb(a,b)}}function Gg(){return function(a,b,d){return b=1/0===Math.abs(Number(b))?Number(b):Z(b),da(b)?a:(ba(a)&&(a=a.toString()),qa(a)?(d=!d||isNaN(d)?0:Z(d),d=0>d?Math.max(0,a.length+d):d,0<=b?Bc(a,d,d+b):0===d?Bc(a,b,a.length):Bc(a,Math.max(0,d+b),d)):a)}}function Bc(a,b,d){return F(a)?a.slice(b,d):va.call(a,b,d)}function Rd(a){function b(b){return b.map(function(b){var c=1,d=Ya;if(D(b))d=b;else if(F(b)&&("+"!==b.charAt(0)&&"-"!==b.charAt(0)||(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b)).constant)){var e=d();d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}return function(a,f,g,h){if(null==a)return a;if(!qa(a))throw L("orderBy")("notarray",a);H(f)||(f=[f]),0===f.length&&(f=["+"]);var k=b(f),l=g?-1:1,m=D(h)?h:function(a,b){var c=0,d=a.type;if(d===(k=b.type)){var k=a.value,l=b.value;"string"===d?(k=k.toLowerCase(),l=l.toLowerCase()):"object"===d&&(C(k)&&(k=a.index),C(l)&&(l=b.index)),k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c};return(a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:k.map(function(c){var e=c.get(a);return c=typeof e,null===e?(c="string",e="null"):"object"===c&&(D(e.valueOf)&&(e=e.valueOf(),d(e))||Wb(e)&&(e=e.toString(),d(e))),{value:e,type:c,index:b}})}})).sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l}),a=a.map(function(a){return a.value})}}function Qa(a){return D(a)&&(a={link:a}),a.restrict=a.restrict||"AC",la(a)}function Lb(a,b,d,c,e){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=e(b.name||b.ngForm||"")(d),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=Mb,this.$$element=a,this.$$animate=c,Xd(this)}function Xd(a){a.$$classCache={},a.$$classCache[Yd]=!(a.$$classCache[nb]=a.$$element.hasClass(nb))}function Zd(a){function b(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Tc(c,"-"):"",b(a,nb+c,!0===d),b(a,Yd+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,h){w(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,h)):(this.$pending&&e(this.$pending,a,h),$d(this.$pending)&&(this.$pending=void 0)),Ha(g)?g?(e(this.$error,a,h),c(this.$$success,a,h)):(c(this.$error,a,h),e(this.$$success,a,h)):(e(this.$error,a,h),e(this.$$success,a,h)),this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=$d(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid)),d(this,a,g=this.$pending&&this.$pending[a]?void 0:!this.$error[a]&&(!!this.$$success[a]||null)),this.$$parentForm.$setValidity(a,g,this)}}function $d(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Cc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Ra(a,b,d,c,e,f){var g=Q(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,l()})}var k,l=function(a){if(k&&(f.defer.cancel(k),k=null),!h){var e=b.val();a=a&&a.type,"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=T(e)),(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",m)}b.on("change",l),ae[g]&&c.$$hasNativeValidators&&g===d.type&&b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null,b.badInput===c&&b.typeMismatch===d||l(a)})}}),c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Nb(a,b){return function(d,c){var e,f;if(ga(d))return d;if(F(d)){if('"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1)),Pg.test(d))return new Date(d);if(a.lastIndex=0,e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function ob(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!=a.getTime())}function p(a){return u(a)&&!ga(a)?d(a)||void 0:a}Dc(e,f,g,h),Ra(0,f,g,h,k,l);var q,r=h&&h.$options.getOption("timezone");if(h.$$parserName=a,h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,q),r&&(a=Yb(a,r)),a):void 0}),h.$formatters.push(function(a){if(a&&!ga(a))throw pb("datefmt",a);return n(a)?((q=a)&&r&&(q=Yb(q,r,!0)),m("date")(a,c,r)):(q=null,"")}),u(g.min)||g.ngMin){var v;h.$validators.min=function(a){return!n(a)||w(v)||d(a)>=v},g.$observe("min",function(a){v=p(a),h.$validate()})}if(u(g.max)||g.ngMax){var t;h.$validators.max=function(a){return!n(a)||w(t)||d(a)<=t},g.$observe("max",function(a){t=p(a),h.$validate()})}}}function Dc(a,b,d,c){(c.$$hasNativeValidators=C(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function be(a){a.$$parserName="number",a.$parsers.push(function(b){return a.$isEmpty(b)?null:Qg.test(b)?parseFloat(b):void 0}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!ba(b))throw pb("numfmt",b);b=b.toString()}return b})}function Sa(a){return u(a)&&!ba(a)&&(a=parseFloat(a)),da(a)?void 0:a}function Ec(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function ce(a,b,d){var c=(0|(a=Number(a)))!==a,e=(0|b)!==b,f=(0|d)!==d;if(c||e||f){var g=c?Ec(a):0,h=e?Ec(b):0,k=f?Ec(d):0;g=Math.max(g,h,k);a*=g=Math.pow(10,g),b*=g,d*=g,c&&(a=Math.round(a)),e&&(b=Math.round(b)),f&&(d=Math.round(d))}return 0==(a-b)%d}function de(a,b,d,c,e){if(u(c)){if(!(a=a(c)).constant)throw pb("constexpr",d,c);return a(b)}return e}function Fc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function c(a){var b=a;return H(a)?b=a.map(c).join(" "):C(a)&&(b=Object.keys(a).filter(function(b){return a[b]}).join(" ")),b}a="ngClass"+a;var e;return["$parse",function(f){return{restrict:"AC",link:function(g,h,k){function l(a,b){var c=[];return q(a,function(a){(0<b||n[a])&&(n[a]=(n[a]||0)+b,n[a]===+(0<b)&&c.push(a))}),c.join(" ")}var r,n=h.data("$classCounts"),p=!0;n||(n=V(),h.data("$classCounts",n)),"ngClass"!==a&&(e||(e=f("$index",function(a){return 1&a})),g.$watch(e,function(a){if(a===b){var c=l((c=r)&&c.split(" "),1);k.$addClass(c)}else c=r,c=l(c&&c.split(" "),-1),k.$removeClass(c);p=a})),g.$watch(f(k[a],c),function(a){if(F(a)||(a=c(a)),p===b){var e=a,f=r&&r.split(" "),g=e&&e.split(" ");e=d(f,g),f=d(g,f),e=l(e,-1),f=l(f,1);k.$addClass(f),k.$removeClass(e)}r=a})}}}]}function Ob(a,b,d,c,e,f,g,h,k){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=k(d.name||"",!1)(a),this.$$parentForm=Mb,this.$options=Pb,this.$$parsedNgModel=e(d.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:a}),this.$$attr=d,this.$$element=c,this.$$animate=f,this.$$timeout=g,this.$$parse=e,this.$$q=h,this.$$exceptionHandler=b,Xd(this),function(a){a.$$scope.$watch(function(b){if((b=a.$$ngModelGet(b))!==a.$modelValue&&(a.$modelValue==a.$modelValue||b==b)){a.$modelValue=a.$$rawModelValue=b,a.$$parserValid=void 0;for(var d=a.$formatters,c=d.length,e=b;c--;)e=d[c](e);a.$viewValue!==e&&(a.$$updateEmptyClasses(e),a.$viewValue=a.$$lastCommittedViewValue=e,a.$render(),a.$$runValidators(a.$modelValue,a.$viewValue,z))}return b})}(this)}function Gc(a){this.$$options=a}function ee(a,b){q(b,function(b,c){u(a[c])||(a[c]=b)})}function Ta(a,b){a.prop("selected",b),a.attr("selected",b)}var za,B,na,ac,Sg=/^\/(.+)\/([a-z]*)$/,ua=Object.prototype.hasOwnProperty,Ic={objectMaxDepth:5},Q=function(a){return F(a)?a.toLowerCase():a},ub=function(a){return F(a)?a.toUpperCase():a},va=[].slice,sg=[].splice,Tg=[].push,ma=Object.prototype.toString,Mc=Object.getPrototypeOf,Fa=L("ng"),ea=x.angular||(x.angular={}),qb=0;za=x.document.documentMode;var da=Number.isNaN||function(a){return a!=a};z.$inject=[],Ya.$inject=[];var H=Array.isArray,qe=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,T=function(a){return F(a)?a.trim():a},Kd=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ga=function(){if(!u(Ga.rules)){var a=x.document.querySelector("[ng-csp]")||x.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ga.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ga;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ga.rules},rb=function(){if(u(rb.name_))return rb.name_;var a,b,c,e,d=Ja.length;for(b=0;b<d;++b)if(c=Ja[b],a=x.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},se=/:/g,Ja=["ng-","data-ng-","ng:","x-ng-"],ve=function(a){var b=a.currentScript;return!b||(b instanceof x.HTMLScriptElement||b instanceof x.SVGScriptElement)&&(b=b.attributes,[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");if(c.href=b.value,a.location.origin===c.origin)return!0;switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(x.document),ye=/[A-Z]/g,Uc=!1,Ia=3,De={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};W.expando="ng339";var hb=W.cache={},eg=1;W._data=function(a){return this.cache[a[this.expando]]||{}};var ag=/-([a-z])/g,Ug=/^-ms-/,zb={mouseleave:"mouseout",mouseenter:"mouseover"},dc=L("jqLite"),dg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,cc=/<|&#?\w+;/,bg=/<([\w:-]+)/,cg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ha={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ha.optgroup=ha.option,ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead,ha.th=ha.td;var jg=x.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Na=W.prototype={ready:ed,toString:function(){var a=[];return q(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return B(0<=a?this[a]:this[this.length+a])},length:0,push:Tg,sort:[].sort,splice:[].splice},Fb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Fb[Q(a)]=a});var jd={};q("input select option textarea button form details".split(" "),function(a){jd[a]=!0});var rd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};q({data:hc,removeData:gc,hasData:function(a){for(var b in hb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)gc(a[b])}},function(a,b){W[b]=a}),q({data:hc,inheritedData:Db,scope:function(a){return B.data(a,"$scope")||Db(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return B.data(a,"$isolateScope")||B.data(a,"$isolateScopeNoTemplate")},controller:gd,injector:function(a){return Db(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ab,css:function(a,b,d){if(b=wb(b.replace(Ug,"ms-")),!u(d))return a.style[b];a.style[b]=d},attr:function(a,b,d){if((c=a.nodeType)!==Ia&&2!==c&&8!==c&&a.getAttribute){var c=Q(b),e=Fb[c];if(!u(d))return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a;null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d)}},prop:function(a,b,d){if(!u(d))return a[b];a[b]=d},text:function(){function a(a,d){if(w(d)){var c=a.nodeType;return 1===c||c===Ia?a.textContent:""}a.textContent=d}return a.$dv="",a}(),val:function(a,b){if(w(b)){if(a.multiple&&"select"===wa(a)){var d=[];return q(a.options,function(a){a.selected&&d.push(a.value||a.text)}),d}return a.value}a.value=b},html:function(a,b){if(w(b))return a.innerHTML;xb(a,!0),a.innerHTML=b},empty:hd},function(a,b){W.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==hd&&w(2===a.length&&a!==Ab&&a!==gd?b:c)){if(C(b)){for(e=0;e<g;e++)if(a===hc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(g=w(e=a.$dv)?Math.min(g,1):g,f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}}),q({removeData:gc,on:function(a,b,d,c){if(u(c))throw dc("onargs");if(bc(a)){var e=(c=yb(a,!0)).events,f=c.handle;f||(f=c.handle=function(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(w(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||function(a,b,d){d.call(a,b)};1<g&&(f=pa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};return d.elem=a,d}(a,e));for(var g=(c=0<=b.indexOf(" ")?b.split(" "):[b]).length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f)),h.push(d)};g--;)b=c[g],zb[b]?(h(zb[b],ig),h(b,void 0,!0)):h(b)}},off:fd,one:function(a,b,d){(a=B(a)).on(b,function e(){a.off(b,d),a.off(b,e)}),a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;xb(a),q(new W(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a),d=b})},children:function(a){var b=[];return q(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){if(1===(d=a.nodeType)||11===d)for(var d=0,c=(b=new W(b)).length;d<c;d++)a.appendChild(b[d])},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new W(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){var d=B(b).eq(0).clone()[0],c=a.parentNode;c&&c.replaceChild(d,a),d.appendChild(a)},remove:Eb,detach:function(a){Eb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c)for(var e=0,f=(b=new W(b)).length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling),d=g}},addClass:Cb,removeClass:Bb,toggleClass:function(a,b,d){b&&q(b.split(" "),function(b){var e=d;w(e)&&(e=!Ab(a,b)),(e?Cb:Bb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:fc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=yb(a);(g=(g=g&&g.events)&&g[f])&&(c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:z,type:f,target:a},b.type&&(c=S(c,b)),b=pa(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){W.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)w(f)?(f=a(this[g],b,c,e),u(f)&&(f=B(f))):ec(f,a(this[g],b,c,e));return u(f)?f:this}}),W.prototype.bind=W.prototype.on,W.prototype.unbind=W.prototype.off;var Vg=Object.create(null);kd.prototype={_idx:function(a){return a===this._lastKey?this._lastIndex:(this._lastKey=a,this._lastIndex=this._keys.indexOf(a))},_transformKey:function(a){return da(a)?Vg:a},get:function(a){if(a=this._transformKey(a),-1!==(a=this._idx(a)))return this._values[a]},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length),this._keys[d]=a,this._values[d]=b},delete:function(a){return a=this._transformKey(a),-1!==(a=this._idx(a))&&(this._keys.splice(a,1),this._values.splice(a,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Gb=kd,Zf=[function(){this.$get=[function(){return Gb}]}],lg=/^([^(]+?)=>/,mg=/^[^(]*\(\s*([^)]*)\)/m,Wg=/,/,Xg=/^\s*(_?)(\S+?)\1\s*$/,kg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ya=L("$injector");eb.$$annotate=function(a,b,d){var c;if("function"==typeof a){if(!(c=a.$inject)){if(c=[],a.length){if(b)throw F(d)&&d||(d=a.name||function(a){return(a=ld(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(a)),ya("strictdi",d);q((b=ld(a))[1].split(Wg),function(a){a.replace(Xg,function(a,b,d){c.push(d)})})}a.$inject=c}}else H(a)?(b=a.length-1,sb(a[b],"fn"),c=a.slice(0,b)):sb(a,"fn",!0);return c};var fe=L("$animate"),qf=function(){this.$get=z},rf=function(){var a=new Gb,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;return b&&(b=F(b)?b.split(" "):H(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)})),d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=function(a){F(a)&&(a=a.split(" "));var b=V();return q(a,function(a){a.length&&(b[a]=!0)}),b}(b.attr("class")),e="",f="";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),q(b,function(a){e&&Cb(a,e),f&&Bb(a,f)}),a.delete(b)}}),b.length=0}return{enabled:z,on:z,off:z,pin:z,push:function(g,h,k,l){return l&&l(),(k=k||{}).from&&g.css(k.from),k.to&&g.css(k.to),(k.addClass||k.removeClass)&&(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),(h||l)&&(a.set(g,k),b.push(g),1===b.length&&c.$$postDigest(f))),(g=new d).complete(),g}}}]},of=["$provide",function(a){var b=this,d=null;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw fe("notcsel",c);var f=c+"-animation";b.$$registeredAnimations[c.substr(1)]=f,a.factory(f,d)},this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,fe("nongcls","ng-animate");return d},this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var l=d[e];if(1===l.nodeType){e=l;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(d,g,h,k){return g=g&&B(g),h=h&&B(h),g=g||h.parent(),b(d,g,h),a.push(d,"enter",ia(k))},move:function(d,g,h,k){return g=g&&B(g),h=h&&B(h),g=g||h.parent(),b(d,g,h),a.push(d,"move",ia(k))},leave:function(b,d){return a.push(b,"leave",ia(d),function(){b.remove()})},addClass:function(b,d,e){return e=ia(e),e.addClass=ib(e.addclass,d),a.push(b,"addClass",e)},removeClass:function(b,d,e){return e=ia(e),e.removeClass=ib(e.removeClass,d),a.push(b,"removeClass",e)},setClass:function(b,d,e,k){return k=ia(k),k.addClass=ib(k.addClass,d),k.removeClass=ib(k.removeClass,e),a.push(b,"setClass",k)},animate:function(b,d,e,k,l){return l=ia(l),l.from=l.from?S(l.from,d):d,l.to=l.to?S(l.to,e):e,l.tempClasses=ib(l.tempClasses,k||"ng-inline-animate"),a.push(b,"animate",l)}}}]}],tf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b),1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;return b(function(){a=!0}),function(d){a?d():b(d)}}}]},sf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[],this._tick=function(a){c()?e(a,0,!1):b(a)},this._state=0}return f.chain=function(a,b){function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()},f.all=function(a,b){function c(f){e=e&&f,++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})},f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:z,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},f}]},pf=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){return a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null),h||k.complete(),h=!0}),k}var g=e||{};g.$$prepared||(g=ra(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},fa=L("$compile"),lc=new function(){};Wc.$inject=["$provide","$$sanitizeUriProvider"],Ib.prototype.isFirstChange=function(){return this.previousValue===lc};var md=/^((?:x|data)[:\-_])/i,rg=/[:\-_]+(.)/g,td=L("$controller"),sd=/^(\S+)(\s+as\s+([\w$]+))?$/,Af=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof B&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},ud="application/json",pc={"Content-Type":ud+";charset=utf-8"},ug=/^\[|^\{(?!\{)/,vg={"[":/]$/,"{":/}$/},tg=/^\)]\}',?\n/,oc=L("$http"),Da=ea.$interpolateMinErr=L("$interpolate");Da.throwNoconcat=function(a){throw Da("noconcat",a)},Da.interr=function(a,b){return Da("interr",a,b.toString())};var If=function(){this.$get=function(){var b=ea.callbacks,d={};return{createCallback:function(c){var e="angular.callbacks."+(c="_"+(b.$$counter++).toString(36)),f=function(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}(c);return d[e]=b[c]=f,e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id],delete d[a]}}}},Yg=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,xg={http:80,https:443,ftp:21},kb=L("$location"),yg=/^\s*[\\/]{2,}/,Zg={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Jb("$$absUrl"),url:function(a){if(w(a))return this.$$url;var b=Yg.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Jb("$$protocol"),host:Jb("$$host"),port:Jb("$$port"),path:Cd("$$path",function(a){return"/"===(a=null!==a?a.toString():"").charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a)||ba(a))a=a.toString(),this.$$search=Rc(a);else{if(!C(a))throw kb("isrcharg");q(a=ra(a,{}),function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:w(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Cd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};q([Bd,tc,sc],function(a){a.prototype=Object.create(Zg),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==sc||!this.$$html5)throw kb("nostate");return this.$$state=w(b)?null:b,this.$$urlUpdatedByLocation=!0,this}});var Ua=L("$parse"),Bg={}.constructor.prototype.valueOf,Qb=V();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Qb[a]=!0});var $g={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wc=function(a){this.options=a};wc.prototype={constructor:wc,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(a=this.text.charAt(this.index))||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Qb[b],e=Qb[d];Qb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){throw d=d||this.index,b=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d,Ua("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=Q(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);c=c+f;if(e)"u"===f?((e=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=$g[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:c,constant:!0,value:d});d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=function(a,b){this.lexer=a,this.options=b};s.Program="Program",s.ExpressionStatement="ExpressionStatement",s.AssignmentExpression="AssignmentExpression",s.ConditionalExpression="ConditionalExpression",s.LogicalExpression="LogicalExpression",s.BinaryExpression="BinaryExpression",s.UnaryExpression="UnaryExpression",s.CallExpression="CallExpression",s.MemberExpression="MemberExpression",s.Identifier="Identifier",s.Literal="Literal",s.ArrayExpression="ArrayExpression",s.Property="Property",s.ObjectExpression="ObjectExpression",s.ThisExpression="ThisExpression",s.LocalsExpression="LocalsExpression",s.NGValueParameter="NGValueParameter",s.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Fd(a))throw Ua("lval");a={type:s.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var b,d,a=this.logicalOR();return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=ra(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:s.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do{a.push(this.filterChain())}while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:s.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;b={type:s.Property,kind:"init"},this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek()),a.push(b)}while(this.expect(","));return this.consume("}"),{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw Ua("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw Ua("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw Ua("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){var f=(a=this.tokens[a]).text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return!!(a=this.peek(a,b,d,c))&&(this.tokens.shift(),a)},selfReferential:{this:{type:s.ThisExpression},$locals:{type:s.LocalsExpression}}},Hd.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},U(a,b.$filter);var c,d="";return this.stage="assign",(c=Gd(a))&&(this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l")),c=Ed(a.body),b.stage="inputs",q(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}},b.state.computing=d;var h=b.nextId();b.recurse(a,h),b.return_(h),b.state.inputs.push(d),a.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(a),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,zg,Ag,Dd),this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;return q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,l,m,n,k=this;if(c=c||z,!f&&u(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case s.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a}),c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:m=this.escape(a.value),this.assign(b,m),c(b||m);break;case s.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){h=a}),m=a.operator+"("+this.ifDefined(h,0)+")",this.assign(b,m),c(m);break;case s.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a}),this.recurse(a.right,void 0,void 0,function(a){h=a}),m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")",this.assign(b,m),c(m);break;case s.LogicalExpression:b=b||this.nextId(),k.recurse(a.left,b),k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b)),c(b);break;case s.ConditionalExpression:b=b||this.nextId(),k.recurse(a.test,b),k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b)),c(b);break;case s.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.isNull(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}")),k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name))),c(b);break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){a.computed?(h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.computedMember(g,h),k.assign(b,m),d&&(d.computed=!0,d.name=h)):(e&&1!==e&&k.if_(k.isNull(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}")),m=k.nonComputedMember(g,a.property.name),k.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(b,"undefined")}),c(b)},!!e);break;case s.CallExpression:b=b||this.nextId(),a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b),l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){q(a.arguments,function(b){k.recurse(b,a.constant?void 0:k.nextId(),void 0,function(a){l.push(a)})}),m=g.name?k.member(g.context,g.name,g.computed)+"("+l.join(",")+")":h+"("+l.join(",")+")",k.assign(b,m)},function(){k.assign(b,"undefined")}),c(b)}));break;case s.AssignmentExpression:h=this.nextId(),g={},this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h),m=k.member(g.context,g.name,g.computed)+a.operator+h,k.assign(b,m),c(b||m)})},1);break;case s.ArrayExpression:l=[],q(a.elements,function(b){k.recurse(b,a.constant?void 0:k.nextId(),void 0,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),c(b||m);break;case s.ObjectExpression:l=[],n=!1,q(a.properties,function(a){a.computed&&(n=!0)}),n?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===s.Identifier?a.key.name:""+a.key.value,h=k.nextId(),k.recurse(a.value,h),k.assign(k.member(b,g,a.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===s.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m)),c(b||m);break;case s.ThisExpression:this.assign(b,"s"),c(b||"s");break;case s.LocalsExpression:this.assign(b,"l"),c(b||"l");break;case s.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;return c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){"),b(),c.push("}"),d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(F(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(ba(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if(void 0===a)return"undefined";throw Ua("esc")},nextId:function(a,b){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(b?"="+b:"")),d},current:function(){return this.state[this.state.computing]}},Id.prototype={compile:function(a){var b=this;U(a,b.$filter);var d,c;(d=Gd(a))&&(c=this.recurse(d));var e;(d=Ed(a.body))&&(e=[],q(d,function(a,c){var d=b.recurse(a);a.input=d,e.push(d),a.watchId=c}));var f=[];return q(a.body,function(a){f.push(b.recurse(a.expression))}),a=0===a.body.length?z:1===a.body.length?f[0]:function(a,b){var c;return q(f,function(d){c=d(a,b)}),c},c&&(a.assign=function(a,b,d){return c(a,d,b)}),e&&(a.inputs=e),a},recurse:function(a,b,d){var c,e,g,f=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return f.identifier(a.name,b,d);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,e,b,d);case s.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));return a=e.apply(void 0,n,f),b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var p,n=e(a,c,d,f);if(null!=n.value){p=[];for(var r=0;r<g.length;++r)p.push(g[r](a,c,d,f));p=n.value.apply(n.context,p)}return b?{value:p}:p};case s.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var n=c(a,d,f,g);return a=e(a,d,f,g),n.context[n.name]=a,b?{value:a}:a};case s.ArrayExpression:return g=[],q(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===s.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.LocalsExpression:return function(a,c){return b?{value:c}:c};case s.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=u(d)?+d:0,b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=u(d)?-d:-0,b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){return d=!a(d,c,e,f),b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=Dd(h,c),d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=(u(h)?h:0)-(u(c)?c:0),d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)*b(c,e,f,g),d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)/b(c,e,f,g),d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)%b(c,e,f,g),d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)===b(c,e,f,g),d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!==b(c,e,f,g),d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)==b(c,e,f,g),d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!=b(c,e,f,g),d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<b(c,e,f,g),d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>b(c,e,f,g),d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<=b(c,e,f,g),d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>=b(c,e,f,g),d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&&b(c,e,f,g),d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)||b(c,e,f,g),d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){return e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h),c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){return c=e&&a in e?e:c,d&&1!==d&&c&&null==c[a]&&(c[a]={}),e=c?c[a]:void 0,b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,h){var l,m,k=a(e,f,g,h);return null!=k&&(l=b(e,f,g,h),l+="",c&&1!==c&&k&&!k[l]&&(k[l]={}),m=k[l]),d?{context:k,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,h){return e=a(e,f,g,h),c&&1!==c&&e&&null==e[b]&&(e[b]={}),f=null!=e?e[b]:void 0,d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}},uc.prototype={constructor:uc,parse:function(a){a=this.ast.ast(a);var b=this.astCompiler.compile(a);return b.literal=0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression),b.constant=a.constant,b}};var ta=L("$sce"),oa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xc=/_([a-z])/g,Dg=L("$compile"),aa=x.document.createElement("a"),Md=Ca(x.location.href);Nd.$inject=["$document"],cd.$inject=["$provide"];var Ud=22,Td=".",zc="0";Od.$inject=["$locale"],Qd.$inject=["$locale"];var Og={yyyy:Y("FullYear",4,0,!1,!0),yy:Y("FullYear",2,0,!0,!0),y:Y("FullYear",1,0,!1,!0),MMMM:mb("Month"),MMM:mb("Month",!0),MM:Y("Month",2,1),M:Y("Month",1,1),LLLL:mb("Month",!1,!0),dd:Y("Date",2),d:Y("Date",1),HH:Y("Hours",2),H:Y("Hours",1),hh:Y("Hours",2,-12),h:Y("Hours",1,-12),mm:Y("Minutes",2),m:Y("Minutes",1),ss:Y("Seconds",2),s:Y("Seconds",1),sss:Y("Milliseconds",3),EEEE:mb("Day"),EEE:mb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){return a=-1*d,a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/60),2)+Kb(Math.abs(a%60),2))},ww:Wd(2),w:Wd(1),G:Ac,GG:Ac,GGG:Ac,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},Ng=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Mg=/^-?\d+$/;Pd.$inject=["$locale"];var Hg=la(Q),Ig=la(ub);Rd.$inject=["$parse"];var Fe=la({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ma.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};q(Fb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=Ba("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,0,e)}),vb[c]=function(){return{restrict:"A",priority:100,link:e}}}}),q(rd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){"ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Sg))?e.$set("ngPattern",new RegExp(c[1],c[2])):a.$watch(e[b],function(a){e.$set(b,a)})}}}}),q(["src","srcset","href"],function(a){var b=Ba("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ma.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),za&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Mb={$addControl:z,$$renameControl:function(a,b){a.$name=b},$removeControl:z,$setValidity:z,$setDirty:z,$setPristine:z,$setSubmitted:z};Lb.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Lb.prototype={$rollbackViewValue:function(){q(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){q(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Ka(a.$name,"input"),this.$$controls.push(a),a.$name&&(this[a.$name]=a),a.$$parentForm=this},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d],this[b]=a,a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name],q(this.$pending,function(b,d){this.$setValidity(d,null,a)},this),q(this.$error,function(b,d){this.$setValidity(d,null,a)},this),q(this.$$success,function(b,d){this.$setValidity(d,null,a)},this),$a(this.$$controls,a),a.$$parentForm=Mb},$setDirty:function(){this.$$animate.removeClass(this.$$element,Va),this.$$animate.addClass(this.$$element,Rb),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Va,Rb+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,q(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){q(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Zd({clazz:Lb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&($a(c,d),0===c.length&&delete a[b])}});var ge=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||z}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Lb,compile:function(d,f){d.addClass(Va).addClass(nb);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue(),n.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",p),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var r=g?c(n.$name):z;g&&(r(a,n),e.$observe(g,function(b){n.$name!==b&&(r(a,void 0),n.$$parentForm.$$renameControl(n,b),(r=c(n.$name))(a,n))})),d.on("$destroy",function(){n.$$parentForm.$removeControl(n),r(a,void 0),S(n,Mb)})}}}}}]},Ge=ge(),Se=ge(!0),Pg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ah=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,bh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Qg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,he=/^(\d{4,})-(\d{2})-(\d{2})$/,ie=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Hc=/^(\d{4,})-W(\d\d)$/,je=/^(\d{4,})-(\d\d)$/,ke=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ae=V();q(["date","datetime-local","month","time","week"],function(a){ae[a]=!0});var le={text:function(a,b,d,c,e,f){Ra(0,b,d,c,e,f),Cc(c)},date:ob("date",he,Nb(he,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ob("datetimelocal",ie,Nb(ie,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ob("time",ke,Nb(ke,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ob("week",Hc,function(a,b){if(ga(a))return a;if(F(a)){Hc.lastIndex=0;var d=Hc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Vd(c);e=7*(e-1);return b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds()),new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:ob("month",je,Nb(je,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Dc(0,b,0,c),be(c),Ra(0,b,d,c,e,f);var g,h;if((u(d.min)||d.ngMin)&&(c.$validators.min=function(a){return c.$isEmpty(a)||w(g)||a>=g},d.$observe("min",function(a){g=Sa(a),c.$validate()})),(u(d.max)||d.ngMax)&&(c.$validators.max=function(a){return c.$isEmpty(a)||w(h)||a<=h},d.$observe("max",function(a){h=Sa(a),c.$validate()})),u(d.step)||d.ngStep){var k;c.$validators.step=function(a,b){return c.$isEmpty(b)||w(k)||ce(b,g||0,k)},d.$observe("step",function(a){k=Sa(a),c.$validate()})}},url:function(a,b,d,c,e,f){Ra(0,b,d,c,e,f),Cc(c),c.$$parserName="url",c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||ah.test(d)}},email:function(a,b,d,c,e,f){Ra(0,b,d,c,e,f),Cc(c),c.$$parserName="email",c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||bh.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==T(d.ngTrim);w(d.name)&&b.attr("name",++qb),b.on("click",function(a){var g;b[0].checked&&(g=d.value,e&&(g=T(g)),c.$setViewValue(g,a&&a.type))}),c.$render=function(){var a=d.value;e&&(a=T(a)),b[0].checked=a===c.$viewValue},d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]),d.$observe(a,c)}Dc(0,b,0,c),be(c),Ra(0,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,n=m?0:void 0,p=m?100:void 0,r=m?1:void 0,q=b[0].validity;a=u(d.min),e=u(d.max),f=u(d.step);var s=c.$render;c.$render=m&&u(q.rangeUnderflow)&&u(q.rangeOverflow)?function(){s(),c.$setViewValue(b.val())}:s,a&&(c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(n)||b>=n},g("min",function(a){n=Sa(a),da(c.$modelValue)||(m?(a=b.val(),n>a&&(a=n,b.val(a)),c.$setViewValue(a)):c.$validate())})),e&&(c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(p)||b<=p},g("max",function(a){p=Sa(a),da(c.$modelValue)||(m?(a=b.val(),p<a&&(b.val(p),a=p<n?n:p),c.$setViewValue(a)):c.$validate())})),f&&(c.$validators.step=m?function(){return!q.stepMismatch}:function(a,b){return c.$isEmpty(b)||w(r)||ce(b,n||0,r)},g("step",function(a){r=Sa(a),da(c.$modelValue)||(m&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}))},checkbox:function(a,b,d,c,e,f,g,h){var k=de(h,a,"ngTrueValue",d.ngTrueValue,!0),l=de(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)}),c.$render=function(){b[0].checked=c.$viewValue},c.$isEmpty=function(a){return!1===a},c.$formatters.push(function(a){return sa(a,k)}),c.$parsers.push(function(a){return a?k:l})},hidden:z,button:z,submit:z,reset:z,file:z},Xc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(le[Q(g.type)]||le.text)(e,f,g,h[0],b,a,d,c)}}}}],ch=/^(true|false|\d+)$/,kf=function(){function a(a,d,c){var e=u(c)?c:9===za?"":null;a.prop("value",e),d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return ch.test(d.ngValue)?function(b,d,f){a(d,f,b=b.$eval(f.ngValue))}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},Ke=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,e){a.$$addBindingInfo(c,e.ngBind),c=c[0],b.$watch(e.ngBind,function(a){c.textContent=$b(a)})}}}}],Me=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],f.$observe("ngBindTemplate",function(a){d.textContent=w(a)?"":a})}}}}],Le=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return d.$$addBindingClass(c),function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml),b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],jf=la({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Ne=Fc("",!0),Pe=Fc("Odd",0),Oe=Fc("Even",1),Qe=Qa({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Re=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],bd={},dh={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ba("ng-"+a);bd[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b]);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};dh[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ue=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f,d[d.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:d},a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).done(function(a){!1!==a&&(l=null)}),h=null))})}}}],Ve=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ea.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var q,s,t,r=0,w=function(){s&&(s.remove(),s=null),q&&(q.$destroy(),q=null),t&&(d.leave(t).done(function(a){!1!==a&&(s=null)}),s=t,t=null)};c.$watch(f,function(f){var m=function(a){!1===a||!u(h)||h&&!c.$eval(h)||b()},s=++r;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&s===r){var b=c.$new();n.template=a,a=p(b,function(a){w(),d.enter(a,null,e).done(m)}),t=a,(q=b).$emit("$includeContentLoaded",f),c.$eval(g)}},function(){c.$$destroyed||s!==r||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),n.template=null)})}}}}],mf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ma.call(d[0]).match(/SVG/)?(d.empty(),a(dd(e.template,x.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],We=Qa({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),hf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?T(e):e;c.$parsers.push(function(a){if(!w(a)){var b=[];return a&&q(a.split(g),function(a){a&&b.push(f?T(a):a)}),b}}),c.$formatters.push(function(a){if(H(a))return a.join(e)}),c.$isEmpty=function(a){return!a||!a.length}}}},nb="ng-valid",Yd="ng-invalid",Va="ng-pristine",Rb="ng-dirty",pb=L("ngModel");Ob.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Ob.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);return D(c)&&(c=a(b)),c},this.$$ngModelSet=function(a,c){D(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw pb("nonassign",this.$$attr.ngModel,xa(this.$$element))},$render:z,$isEmpty:function(a){return w(a)||""===a||null===a||a!=a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Rb),this.$$animate.addClass(this.$$element,Va)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Va),this.$$animate.addClass(this.$$element,Rb),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!da(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function f(a,b){h===k.$$currentValidationRunId&&k.$setValidity(a,b)}function g(a){h===k.$$currentValidationRunId&&d(a)}this.$$currentValidationRunId++;var h=this.$$currentValidationRunId,k=this;!function(){var a=k.$$parserName||"parse";return w(k.$$parserValid)?(f(a,null),!0):(k.$$parserValid||(q(k.$validators,function(a,b){f(b,null)}),q(k.$asyncValidators,function(a,b){f(b,null)})),f(a,k.$$parserValid),k.$$parserValid)}()?g(!1):function(){var c=!0;return q(k.$validators,function(d,e){var g=Boolean(d(a,b));c=c&&g,f(e,g)}),!!c||(q(k.$asyncValidators,function(a,b){f(b,null)}),!1)}()?function(){var c=[],d=!0;q(k.$asyncValidators,function(e,g){var k=e(a,b);if(!k||!D(k.then))throw pb("nopromise",k);f(g,void 0),c.push(k.then(function(){f(g,!0)},function(){d=!1,f(g,!1)}))}),c.length?k.$$q.all(c).then(function(){g(d)},z):g(!0)}():g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=!w(a)||void 0)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),w(a)){this.$$parserValid=!1;break}da(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a,e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope()),this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),q(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");ba(b[a])?b=b[a]:ba(b.default)&&(b=b.default),this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0<b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a)}},Zd({clazz:Ob,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Pb,gf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ob,priority:1,compile:function(b){return b.addClass(Va).addClass("ng-untouched").addClass(nb),{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm,(f=f[2])&&(g.$options=f.$options),g.$$initGetterSetters(),b.$addControl(g),e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)}),a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){h.$setTouched()}var h=f[0];h.$options.getOption("updateOn")&&c.on(h.$options.getOption("updateOn"),function(a){h.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){h.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],eh=/(\s+|^)default(\s+|$)/;Gc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;return a=S({},a),q(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=T(d.replace(eh,function(){return a.updateOnDefault=!0," "})))},this),b&&(delete a["*"],ee(a,this.$$options)),ee(a,Pb.$$options),new Gc(a)}},Pb=new Gc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var lf=function(){function a(a,d){this.$$attrs=a,this.$$scope=d}return a.$inject=["$attrs","$scope"],a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Pb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Xe=Qa({terminal:!0,priority:1e3}),fh=L("ngOptions"),gh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ef=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=f}function f(a){var b;if(!q&&qa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(gh);if(!n)throw fh("iexp",a,xa(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var s=n[9];b=d(n[2]?n[1]:p);var v=a&&d(a)||b,t=s&&d(s),u=s?function(a,b){return t(c,b)}:function(a){return Pa(a)},w=function(a,b){return u(a,G(a,b))},A=d(n[2]||n[1]),x=d(n[3]||""),I=d(n[4]||""),K=d(n[8]),E={},G=q?function(a,b){return E[q]=b,E[p]=a,E}:function(a){return E[p]=a,E};return{trackBy:s,getTrackByValue:w,getWatchables:d(K,function(a){for(var b=[],d=f(a=a||[]),e=d.length,g=0;g<e;g++){var l=a[h=a===d?g:d[g]],h=G(l,h);l=u(l,h);b.push(l),(n[2]||n[1])&&(l=A(c,h),b.push(l)),n[4]&&(h=I(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=K(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=G(d[p],p),r=v(c,q);r=new e(p=u(r,q),r,A(c,q),x(c,q),q=I(c,q));a.push(r),b[p]=r}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[w(a)]},getViewValueFromOption:function(a){return s?ra(a.viewValue):a.viewValue}}}}}var e=x.document.createElement("option"),f=x.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=z},post:function(d,h,k,l){function m(a){var b=(a=A.getOptionFromViewValue(a))&&a.element;return b&&!b.selected&&(b.selected=!0),a}function p(){var a=A&&r.readValue();if(A)for(var b=A.items.length-1;0<=b;b--){var c=A.items[b];Eb(u(c.group)?c.element.parentNode:c.element)}A=z.getOptions();var d={};x&&h.prepend(r.emptyOption),A.items.forEach(function(a){var b;if(u(a.group)){(b=d[a.group])||(b=f.cloneNode(!1),I.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=I,c=e.cloneNode(!1);b.appendChild(c),function(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),b.value=a.selectValue}(a,c)}),h[0].appendChild(I),s.$render(),s.$isEmpty(a)||(b=r.readValue(),(z.trackBy||v?sa(a,b):a===b)||(s.$setViewValue(b),s.$render()))}var r=l[0],s=l[1],v=k.multiple;l=0;for(var t=h.children(),w=t.length;l<w;l++)if(""===t[l].value){r.hasEmptyOption=!0,r.emptyOption=t.eq(l);break}var x=!!r.emptyOption;B(e.cloneNode(!1)).val("?");var A,z=c(k.ngOptions,h,d),I=b[0].createDocumentFragment();r.generateUnknownOptionValue=function(a){return"?"},v?(r.writeValue=function(a){var b=a&&a.map(m)||[];A.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})},r.readValue=function(){var b=[];return q(h.val()||[],function(a){(a=A.selectValueMap[a])&&!a.disabled&&b.push(A.getViewValueFromOption(a))}),b},z.trackBy&&d.$watchCollection(function(){if(H(s.$viewValue))return s.$viewValue.map(function(a){return z.getTrackByValue(a)})},function(){s.$render()})):(r.writeValue=function(a){var b=A.selectValueMap[h.val()],c=A.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected"),c?(h[0].value!==c.selectValue&&(r.removeUnknownOption(),r.unselectEmptyOption(),h[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):x?r.selectEmptyOption():r.unknownOption.parent().length?r.updateUnknownOption(a):r.renderUnknownOption(a)},r.readValue=function(){var a=A.selectValueMap[h.val()];return a&&!a.disabled?(r.unselectEmptyOption(),r.removeUnknownOption(),A.getViewValueFromOption(a)):null},z.trackBy&&d.$watch(function(){return z.getTrackByValue(s.$viewValue)},function(){s.$render()})),x&&(r.emptyOption.remove(),a(r.emptyOption)(d),8===r.emptyOption[0].nodeType?(r.hasEmptyOption=!1,r.registerOption=function(a,b){""===b.val()&&(r.hasEmptyOption=!0,r.emptyOption=b,r.emptyOption.removeClass("ng-scope"),s.$render(),b.on("$destroy",function(){r.hasEmptyOption=!1,r.emptyOption=void 0}))}):r.emptyOption.removeClass("ng-scope")),h.empty(),p(),d.$watchCollection(z.getWatchables,p)}}}}],Ye=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var x,l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},r={},s=b.startSymbol(),v=b.endSymbol(),t=s+l+"-"+n+v,u=ea.noop;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+Q(c[2]),p[c]=g.attr(h.$attr[b]))}),q(p,function(a,d){r[d]=b(a.replace(c,t))}),f.$watch(l,function(b){var c=parseFloat(b),e=da(c);e||c in p||(c=a.pluralCat(c-n)),c===x||e&&da(x)||(u(),e=r[c],w(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),u=z,k()):u=f.$watch(e,k),x=c)})}}}],Ze=["$parse","$animate","$compile",function(a,b,d){var c=L("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d,e&&(a[e]=m),a.$index=b,a.$first=0===b,a.$last=b===n-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0==(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h);if(!(l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw c("iexp",h);var l,m=l[1],n=l[2],p=l[3],r=l[4];if(!(l=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw c("iidexp",m);var s=l[3]||l[1],v=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var t,u,w,x,z={$id:Pa};return r?t=a(r):(w=function(a,b){return Pa(b)},x=function(a){return a}),function(a,d,f,g,l){t&&(u=function(b,c,d){return v&&(z[v]=b),z[s]=c,z.$index=d,t(a,z)});var m=V();a.$watchCollection(n,function(f){var g,n,t,B,D,F,C,G,E,H,r=d[0],z=V();if(p&&(a[p]=f),qa(f))G=f,n=u||w;else for(H in n=u||x,G=[],f)ua.call(f,H)&&"$"!==H.charAt(0)&&G.push(H);for(B=G.length,H=Array(B),g=0;g<B;g++)if(D=f===G?g:G[g],F=f[D],C=n(D,F,g),m[C])E=m[C],delete m[C],z[C]=E,H[g]=E;else{if(z[C])throw q(H,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,C,F);H[g]={id:C,scope:void 0,clone:void 0},z[C]=!0}for(t in m){if(E=m[t],C=tb(E.clone),b.leave(C),C[0].parentNode)for(g=0,n=C.length;g<n;g++)C[g].$$NG_REMOVED=!0;E.scope.$destroy()}for(g=0;g<B;g++)if(D=f===G?g:G[g],F=f[D],(E=H[g]).scope){t=r;do{t=t.nextSibling}while(t&&t.$$NG_REMOVED);E.clone[0]!==t&&b.move(tb(E.clone),null,r),r=E.clone[E.clone.length-1],e(E.scope,g,s,F,v,D,B)}else l(function(a,c){E.scope=c;var d=k.cloneNode(!1);a[a.length++]=d,b.enter(a,null,r),r=d,E.clone=a,z[E.id]=E,e(E.scope,g,s,F,v,D,B)});m=z})}}}}],$e=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Te=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],af=Qa(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),bf=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;k.length;)a.cancel(k.pop());for(d=0,e=l.length;d<e;++d){var s=tb(h[d].clone);l[d].$destroy(),(k[d]=a.leave(s)).done(m(k,d))}h.length=0,l.length=0,(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen"),h.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],cf=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){q(d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a}),function(a){c.cases["!"+a]=c.cases["!"+a]||[],c.cases["!"+a].push({transclude:e,element:b})})}}),df=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:e,element:b})}}),hh=L("ngTransclude"),ff=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());return b.empty(),function(a,b,f,g,h){function k(){d(a,function(a){b.append(a)})}if(!h)throw hh("orphan",xa(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude=""),h(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;d<f;d++){var g=a[d];if(g.nodeType!==Ia||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(k(),c.$destroy())},null,f=f.ngTransclude||f.ngTranscludeSlot),f&&!h.isSlotFilled(f)&&k()}}}}],He=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],ih={$setViewValue:z,$render:z},jh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1,e.ngModelCtrl.$render()}))}function c(a){h||(h=!0,b.$$postDigest(function(){b.$$destroyed||(h=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&&e.ngModelCtrl.$render())}))}var e=this,f=new Gb;e.selectValueMap={},e.ngModelCtrl=ih,e.multiple=!1,e.unknownOption=B(x.document.createElement("option")),e.hasEmptyOption=!1,e.emptyOption=void 0,e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),a.prepend(e.unknownOption),Ta(e.unknownOption,!0),a.val(b)},e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),Ta(e.unknownOption,!0),a.val(b)},e.generateUnknownOptionValue=function(a){return"? "+Pa(a)+" ?"},e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()},e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Ta(e.emptyOption,!0))},e.unselectEmptyOption=function(){e.hasEmptyOption&&e.emptyOption.removeAttr("selected")},b.$on("$destroy",function(){e.renderUnknownOption=z}),e.readValue=function(){var b=(b=a.val())in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null},e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&&Ta(B(c),!1),e.hasOption(b)?(e.removeUnknownOption(),c=Pa(b),a.val(c in e.selectValueMap?c:b),Ta(B(a[0].options[a[0].selectedIndex]),!0)):null==b&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(b):e.renderUnknownOption(b)},e.addOption=function(a,b){if(8!==b[0].nodeType){Ka(a,'"option value"'),""===a&&(e.hasEmptyOption=!0,e.emptyOption=b);var c=f.get(a)||0;f.set(a,c+1),d()}},e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.delete(a),""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))},e.hasOption=function(a){return!!f.get(a)};var g=!1,h=!1;e.registerOption=function(a,b,f,g,h){if(f.$attr.ngValue){var q,s=NaN;f.$observe("value",function(a){var d,f=b.prop("selected");u(s)&&(e.removeOption(q),delete e.selectValueMap[s],d=!0),s=Pa(a),q=a,e.selectValueMap[s]=a,e.addOption(a,b),b.attr("value",s),d&&f&&c()})}else g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");u(q)&&(e.removeOption(q),d=!0),q=a,e.addOption(a,b),d&&f&&c()}):h?a.$watch(h,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d),e.addOption(a,b),d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){("true"===a||a&&b.prop("selected"))&&(e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render()))}),b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b),d(),(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],Ie=function(){return{restrict:"E",require:["select","?ngModel"],controller:jh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption(),a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0,e.readValue=function(){var a=[];return q(b.find("option"),function(b){b.selected&&!b.disabled&&(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))}),a},e.writeValue=function(a){q(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Ta(B(b),c)})};var g,h=NaN;a.$watch(function(){h!==f.$viewValue||sa(g,f.$viewValue)||(g=pa(f.$viewValue),f.$render()),h=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=z},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Je=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;return u(d.ngValue)||(u(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text())),function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],Zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Yc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(F(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw L("ngPattern")("noregexp",f,a,xa(b));e=a||void 0,c.$validate()}),c.$validators.pattern=function(a,b){return c.$isEmpty(b)||w(e)||e.test(b)}}}}},ad=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=Z(a),e=da(a)?-1:a,c.$validate()}),c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},$c=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=Z(a)||0,c.$validate()}),c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};x.angular.bootstrap?x.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var a;if(!Uc){var b=rb();(na=w(b)?x.jQuery:b?x[b]:void 0)&&na.fn.on?(B=na,S(na.fn,{scope:Na.scope,isolateScope:Na.isolateScope,controller:Na.controller,injector:Na.injector,inheritedData:Na.inheritedData}),a=na.cleanData,na.cleanData=function(b){for(var c,f,e=0;null!=(f=b[e]);e++)(c=na._data(f,"events"))&&c.$destroy&&na(f).triggerHandler("$destroy");a(b)}):B=W,ea.element=B,Uc=!0}}(),function(a){S(a,{errorHandlingConfig:me,bootstrap:Sc,copy:ra,extend:S,merge:oe,equals:sa,element:B,forEach:q,injector:eb,noop:z,bind:bb,toJson:cb,fromJson:Oc,identity:Ya,isUndefined:w,isDefined:u,isString:F,isFunction:D,isObject:C,isNumber:ba,isElement:Ub,isArray:H,version:De,isDate:ga,lowercase:Q,uppercase:ub,callbacks:{$$counter:0},getTestability:xe,reloadWithDebugInfo:we,$$minErr:L,$$csp:Ga,$$encodeUriSegment:db,$$encodeUriQuery:$,$$stringify:$b}),(ac=function(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=L("$injector"),c=L("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||L,b(a,"module",function(){var a={};return function(f,g,h){var k={};if("hasOwnProperty"===f)throw c("badname","module");return g&&a.hasOwnProperty(f)&&(a[f]=null),b(a,f,function(){function a(b,c,d,f){return f||(f=e),function(){return f[d||"push"]([b,c,arguments]),v}}function b(a,c,d){return d||(d=e),function(b,e){return e&&D(e)&&(e.$$moduleName=f),d.push([a,c,arguments]),v}}if(!g)throw d("nomod",f);var e=[],p=[],r=[],J=a("$injector","invoke","push",p),v={_invokeQueue:e,_configBlocks:p,_runBlocks:r,info:function(a){if(u(a)){if(!C(a))throw c("aobj","value");return k=a,this}return k},requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",p),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:J,run:function(a){return r.push(a),this}};return h&&J(h),v})}})}(x))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Ee}),a.provider("$compile",Wc).directive({a:Fe,input:Xc,textarea:Xc,form:Ge,script:He,select:Ie,option:Je,ngBind:Ke,ngBindHtml:Le,ngBindTemplate:Me,ngClass:Ne,ngClassEven:Oe,ngClassOdd:Pe,ngCloak:Qe,ngController:Re,ngForm:Se,ngHide:Te,ngIf:Ue,ngInclude:Ve,ngInit:We,ngNonBindable:Xe,ngPluralize:Ye,ngRepeat:Ze,ngShow:$e,ngStyle:af,ngSwitch:bf,ngSwitchWhen:cf,ngSwitchDefault:df,ngOptions:ef,ngTransclude:ff,ngModel:gf,ngList:hf,ngChange:jf,pattern:Yc,ngPattern:Yc,required:Zc,ngRequired:Zc,minlength:$c,ngMinlength:$c,maxlength:ad,ngMaxlength:ad,ngValue:kf,ngModelOptions:lf}).directive({ngInclude:mf}).directive(vb).directive(bd),a.provider({$anchorScroll:nf,$animate:of,$animateCss:pf,$$animateJs:qf,$$animateQueue:rf,$$AnimateRunner:sf,$$animateAsyncRun:tf,$browser:uf,$cacheFactory:vf,$controller:wf,$document:xf,$$isDocumentHidden:yf,$exceptionHandler:zf,$filter:cd,$$forceReflow:Af,$interpolate:Bf,$interval:Cf,$http:Df,$httpParamSerializer:Ef,$httpParamSerializerJQLike:Ff,$httpBackend:Gf,$xhrFactory:Hf,$jsonpCallbacks:If,$location:Jf,$log:Kf,$parse:Lf,$rootScope:Mf,$q:Nf,$$q:Of,$sce:Pf,$sceDelegate:Qf,$sniffer:Rf,$templateCache:Sf,$templateRequest:Tf,$$testability:Uf,$timeout:Vf,$window:Wf,$$rAF:Xf,$$jqLite:Yf,$$Map:Zf,$$cookieReader:$f})}]).info({angularVersion:"1.6.4"})}(ea),ea.module("ngLocale",[],["$provide",function(a){a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=0|a,f=c;return void 0===f&&(f=Math.min(function(a){var b=(a+="").indexOf(".");return-1==b?0:a.length-b-1}(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),B(function(){ue(x.document,Sc)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]=t["@uirouter/angularjs"]||{},t.angular)}(this,function(t,e){"use strict";function r(t){function e(r){return r.length>=n?t.apply(null,r):function(){return e(r.concat([].slice.apply(arguments)))}}var r=[].slice.apply(arguments,[1]),n=t.length;return e(r)}function n(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)&&e.apply(null,r)}}function a(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)||e.apply(null,r)}}function u(t,e){return function(r){return r[t].apply(r,e)}}function s(t){return function(e){for(var r=0;r<t.length;r++)if(t[r][0](e))return t[r][1](e)}}function c(t){if(te(t)&&t.length){var e=t.slice(0,-1),r=t.slice(-1);return!(e.filter(Ht(Zt)).length||r.filter(Ht(Kt)).length)}return Kt(t)}function f(t){return t}function l(){}function h(t,e,r,n,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(r())},a=function(t){return function(){return e[t]=o(t),e[t].apply(null,arguments)}};return(n=n||Object.keys(t())).reduce(function(t,e){return t[e]=i?a(e):o(e),t},e)}function p(t,e){return-1!==t.indexOf(e)}function d(t,e){var r=t.indexOf(e);return r>=0&&t.splice(r,1),t}function v(t,e){return t.push(e),e}function m(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.concat({}).reverse(),i=pe.apply(null,n);return pe({},i,g(t||{},Object.keys(i)))}function y(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function g(t,e){var r={};for(var n in t)-1!==e.indexOf(n)&&(r[n]=t[n]);return r}function w(t,e){return Object.keys(t).filter(Ht(me(e))).reduce(function(e,r){return e[r]=t[r],e},{})}function _(t,e){return b(t,It(e))}function $(t,e){var r=te(t),n=r?[]:{},i=r?function(t){return n.push(t)}:function(t,e){return n[e]=t};return he(t,function(t,r){e(t,r)&&i(t,r)}),n}function S(t,e){var r;return he(t,function(t,n){r||e(t,n)&&(r=t)}),r}function b(t,e){var r=te(t)?[]:{};return he(t,function(t,n){return r[n]=e(t,n)}),r}function R(t,e){return t.push(e),t}function E(t,e){return void 0===e&&(e="assert failure"),function(r){var n=t(r);if(!n)throw new Error(Kt(e)?e(r):e);return n}}function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var r,n=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),i=[];for(r=0;r<n;r++)switch(t.length){case 1:i.push([t[0][r]]);break;case 2:i.push([t[0][r],t[1][r]]);break;case 3:i.push([t[0][r],t[1][r],t[2][r]]);break;case 4:i.push([t[0][r],t[1][r],t[2][r],t[3][r]]);break;default:i.push(t.map(function(t){return t[r]}))}return i}function C(t,e){var r,n;if(te(e)&&(r=e[0],n=e[1]),!Zt(r))throw new Error("invalid parameters to applyPairs");return t[r]=n,t}function P(t){return t.length&&t[t.length-1]||void 0}function x(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n=Object.keys(r),i=0;i<n.length;i++)t[n[i]]=r[n[i]]}return t}function j(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var r=typeof t;if(r!==typeof e||"object"!==r)return!1;var n=[t,e];if(qt(te)(n))return function(t,e){return t.length===e.length&&T(t,e).reduce(function(t,e){return t&&j(e[0],e[1])},!0)}(t,e);if(qt(ee)(n))return t.getTime()===e.getTime();if(qt(re)(n))return t.toString()===e.toString();if(qt(Kt)(n))return!0;if([Kt,te,ee,re].map(Dt).reduce(function(t,e){return t||!!e(n)},!1))return!1;var i,o={};for(i in t){if(!j(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o[i])return!1;return!0}function V(t){return t?"[ui-view#"+t.id+" tag in template from '"+(t.creationContext&&t.creationContext.name||"(root)")+"' state]: fqn: '"+t.fqn+"', name: '"+t.name+"@"+t.creationContext+"')":"ui-view (defunct)"}function A(e){return Yt(e)?t.Category[e]:t.Category[t.Category[e]]}function H(t,e){var n=Zt(e)?[e]:e;return!!(Kt(n)?n:function(t){for(var e=n,r=0;r<e.length;r++){var i=new Lt(e[r]);if(i&&i.matches(t.name)||!i&&e[r]===t.name)return!0}return!1})(t)}function q(t,e,r){function n(t,n,i){void 0===i&&(i={});var a=new Qe(e,r,n,t,i);return o.push(a),function(){a._deregistered=!0,ye(o)(a)}}var o=(t._registeredHooks=t._registeredHooks||{})[r.name]=[];return t[r.name]=n,n}function F(t){function e(){return t.value}return t=Xe(t)&&{value:t}||t,e.__cacheable=!0,pe(t,{$$fn:c(t.value)?t.value:e})}function B(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function G(t,e){for(;e.length<t;)e+=" ";return e}function W(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function z(t){var e=J(t),r=e.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:e,i=t.name||"";return i&&n.match(/function \(/)?"function "+i+n.substr(9):n}function J(t){var e=te(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function Q(t){function e(t){if(Xt(t)){if(-1!==r.indexOf(t))return"[circular ref]";r.push(t)}return vr(t)}var r=[];return JSON.stringify(t,function(t,r){return e(r)}).replace(/\\"/g,'"')}function K(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(f)}}function Y(t,e){return Zt(P(t))&&Zt(e)?t.slice(0,-1).concat(P(t)+e):R(t,e)}function Z(t){return t.name}function X(t){return t.self.$$state=function(){return t},t.self}function tt(t){return t.parent&&t.parent.data&&(t.data=t.self.data=ve(t.parent.data,t.data)),t.data}function et(t){return t.parent?t.parent.path.concat(t):[t]}function rt(t){var e=t.parent?pe({},t.parent.includes):{};return e[t.name]=!0,e}function nt(t){var a=function(t){return t.provide||t.token},u=s([[It("resolveFn"),function(t){return new ir(a(t),t.resolveFn,t.deps,t.policy)}],[It("useFactory"),function(t){return new ir(a(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[It("useClass"),function(t){return new ir(a(t),function(){return new t.useClass},[],t.policy)}],[It("useValue"),function(t){return new ir(a(t),function(){return t.useValue},[],t.policy,t.useValue)}],[It("useExisting"),function(t){return new ir(a(t),f,[t.useExisting],t.policy)}]]),c=s([[i(It("val"),Zt),function(t){return new ir(t.token,f,[t.val],t.policy)}],[i(It("val"),te),function(t){return new ir(t.token,P(t.val),t.val.slice(0,-1),t.policy)}],[i(It("val"),Kt),function(t){return new ir(t.token,t.val,function(t){var e=ae.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"}(t.val),t.policy)}]]),l=s([[Nt(ir),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},u],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},u],[function(t){return!!(t&&t.val&&(Zt(t.val)||te(t.val)||Kt(t.val)))},c],[Ut(!0),function(t){throw new Error("Invalid resolve value: "+Q(t))}]]),h=t.resolve;return(te(h)?h:function(t,e){return Object.keys(t||{}).map(function(r){return{token:r,val:t[r],deps:void 0,policy:e[r]}})}(h,t.resolvePolicy||{})).map(l)}function it(t,e){var r=["",""],n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return n;switch(e.squash){case!1:r=["(",")"+(e.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+e.squash+"|",")?"]}return n+r[0]+e.type.pattern.source+r[1]}function at(t){if(!(Kt(t)||Zt(t)||Nt(We)(t)||We.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Kt(t)?t:Ut(t)}function ut(t){t.addResolvable({token:Wr,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:pr,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function st(t){return function(e,r){return(0,r.$$state()[t])(e,r)}}function ct(t,e){var n=e.$$state().lazyLoad,i=n._promise;if(!i){i=n._promise=ae.$q.when(n(t,e)).then(function(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}).then(function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete n._promise,t},function(t){return delete n._promise,ae.$q.reject(t)})}return i}function ft(t){var e=t._ignoredReason();if(e){Ge.traceTransitionIgnored(t);var r=t.router.globals.transition;return"SameAsCurrent"===e&&r&&r.abort(),Ne.ignored().toPromise()}}function lt(t){if(!t.valid())throw new Error(t.error())}function ht(t){var e=function(t){return t||""},r=Cn(t).map(e),n=r[0],i=r[1],o=Pn(n).map(e);return{path:o[0],search:o[1],hash:i,url:t}}function pt(t,e,r,n){return function(i){var a=i.locationService=new r(i),u=i.locationConfig=new n(i,e);return{name:t,service:a,configuration:u,dispose:function(t){t.dispose(a),t.dispose(u)}}}}function dt(t){return ae.$injector=En,ae.$q=bn,{name:"vanilla.services",$q:bn,$injector:En,dispose:function(){return null}}}function vt(){var t=null;return function(e,r){return t=t||ae.$injector.get("$templateFactory"),[new Zn(e,r,t)]}}function mt(t){if(!t.parent)return{};var n=["component","bindings","componentProvider"],i=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),o=n.concat(i);if(zt(t.views)&&Kn(o,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+o.filter(function(e){return zt(t[e])}).join(", "));var a={},u=t.views||{$default:g(t,o)};return he(u,function(e,r){if(r=r||"$default",Zt(e)&&(e={component:e}),e=pe({},e),Kn(n,e)&&Kn(i,e))throw new Error("Cannot combine: "+n.join("|")+" with: "+i.join("|")+" in stateview: '"+r+"@"+t.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=r;var o=Hr.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=o.uiViewName,e.$uiViewContextAnchor=o.uiViewContextAnchor,a[r]=e}),a}function gt(t){function e(t,e,n,i,o,a){return r._runtimeServices(i,t,n,e),delete li.router,delete li.$get,li}(li=this.router=new Wr).stateProvider=new ri(li.stateRegistry,li.stateService),li.stateRegistry.decorator("views",mt),li.stateRegistry.decorator("onExit",ni("onExit")),li.stateRegistry.decorator("onRetain",ni("onRetain")),li.stateRegistry.decorator("onEnter",ni("onEnter")),li.viewService._pluginapi._viewConfigFactory("ng1",vt());var r=li.locationService=li.locationConfig=new ii(t);return ii.monkeyPatchPathParameterType(li),li.router=li,li.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],li}function wt(t,e,r){ae.$injector=t,ae.$q=e,r.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(Ee,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn)})}function _t(t){t.$watch(function(){Ge.approximateDigests++})}function $t(t){var e,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t="("+r[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function St(t){var e=t.parent().inheritedData("$uiView"),r=At("$cfg.path")(e);return r?P(r).state.name:void 0}function bt(t,e,r){var n=r.uiState||t.current.name,i=pe(function(t,e){return{relative:St(t)||e.$current,inherit:!0,source:"sref"}}(e,t),r.uiStateOpts||{}),o=t.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function Rt(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function Et(t,e,r,n,i){return function(o){var a=o.which||o.button,u=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var s=r(function(){e.go(u.uiState,u.uiStateParams,u.uiStateOpts)});o.preventDefault();var c=n.isAnchor&&!u.href?1:0;o.preventDefault=function(){c--<=0&&r.cancel(s)}}}}function Ct(t,e,r,n){var i;n&&(i=n.events),te(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,u=i;a<u.length;a++){var s=u[a];t[o](s,r)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",n=0,o=i;n<o.length;n++){var a=o[n];t[e](a,r)}})}function Pt(t){var e=function(e,r,n){return t.is(e,r,n)};return e.$stateful=!0,e}function kt(t){var e=function(e,r,n){return t.includes(e,r,n)};return e.$stateful=!0,e}function Ot(t,r,n,i,o,a){var u=At("viewDecl.controllerAs"),s=At("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return i.empty(),function(i,c){var f=c.data("$uiView");if(!f)return c.html(a),void t(c.contents())(i);var l=f.$cfg||{viewDecl:{},getTemplate:e.noop},h=l.path&&new fr(l.path);c.html(l.getTemplate(c,h)||a),Ge.traceUIViewFill(f.$uiView,c.html());var p=t(c.contents()),d=l.controller,v=u(l),m=s(l),y=h&&mi(h);if(i[m]=y,d){var g=r(d,pe({},y,{$scope:i,$element:c}));v&&(i[v]=g,i[v][m]=y),c.data("$ngControllerController",g),c.children().data("$ngControllerController",g),xt(o,n,g,i,l)}if(Zt(l.viewDecl.component))var w=l.viewDecl.component,_=W(w),$=new RegExp("^(x-|data-)?"+_+"$","i"),b=i.$watch(function(){var t=[].slice.call(c[0].children).filter(function(t){return t&&t.tagName&&$.exec(t.tagName)});return t&&Qn.element(t).data("$"+w+"Controller")},function(t){t&&(xt(o,n,t,i,l),b())});p(i)}}}}function xt(t,e,r,n,i){!Kt(r.$onInit)||i.viewDecl.component&&_i||r.$onInit();var o=P(i.path).state.self,a={bind:r};if(Kt(r.uiOnParamsChanged)){var s=new fr(i.path).getResolvable("$transition$").data;n.$on("$destroy",e.onSuccess({},function(t){if(t!==s&&-1===t.exiting().indexOf(o)){var e=t.params("to"),n=t.params("from"),i=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(Ee,[]),a=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(Ee,[]),u=i.filter(function(t){var r=a.indexOf(t);return-1===r||!a[r].type.equals(e[t.id],n[t.id])});if(u.length){var c=u.map(function(t){return t.id}),f=$(e,function(t,e){return-1!==c.indexOf(e)});r.uiOnParamsChanged(f,t)}}},a))}if(Kt(r.uiCanExit)){var f=$i++,l=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[f]||l(t.redirectedFrom()))},p={exiting:o.name};n.$on("$destroy",e.onBefore(p,function(e){var n,i=e._uiCanExitIds=e._uiCanExitIds||{};return l(e)||(n=t.when(r.uiCanExit(e))).then(function(t){return i[f]=!1!==t}),n},a))}}var It=function(t){return function(e){return e&&e[t]}},Vt=r(function(t,e,r){return r&&r[t]===e}),At=function(t){return i.apply(null,t.split(".").map(It))},Ht=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return!t.apply(null,e)}},qt=function(t){return function(e){return e.reduce(function(e,r){return e&&!!t(r)},!0)}},Dt=function(t){return function(e){return e.reduce(function(e,r){return e||!!t(r)},!1)}},Nt=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},Ft=function(t){return function(e){return t===e}},Ut=function(t){return function(){return t}},Lt=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),Mt=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var r=ve(ve(e,t.prototype));return e.$$state=function(){return r},r.self=e,r.__stateObjectCache={nameGlob:Lt.fromString(r.name)},r},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=m(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(Se(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||S(Se(this.params),Vt("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();Mt.isStateClass=function(t){return Kt(t)&&!0===t.__uiRouterState},Mt.isState=function(t){return Xt(t.__stateObjectCache)};var Bt=Object.prototype.toString,Gt=function(t){return function(e){return typeof e===t}},Wt=Gt("undefined"),zt=Ht(Wt),Jt=function(t){return null===t},Qt=a(Jt,Wt),Kt=Gt("function"),Yt=Gt("number"),Zt=Gt("string"),Xt=function(t){return null!==t&&"object"==typeof t},te=Array.isArray,ee=function(t){return"[object Date]"===Bt.call(t)},re=function(t){return"[object RegExp]"===Bt.call(t)},ne=Mt.isState,ie=o(Xt,i(It("then"),Kt)),oe=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},ae={$q:void 0,$injector:void 0},se=("undefined"==typeof window?{}:window).angular||{},ce=se.fromJson||JSON.parse.bind(JSON),fe=se.toJson||JSON.stringify.bind(JSON),le=se.copy||function(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),pe(e,t)},he=se.forEach||function(t,e,r){if(te(t))return t.forEach(e,r);Object.keys(t).forEach(function(r){return e(t[r],r)})},pe=Object.assign||x,de=se.equals||j,ve=function(t,e){return pe(Object.create(t),e)},me=r(p),ye=r(d),ge=r(v),we=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),ye(t,e)})},_e=function(t,e){return pe(t,e)},$e=b,Se=function(t){return Object.keys(t).map(function(e){return t[e]})},be=function(t,e){return t&&e},Re=function(t,e){return t||e},Ee=function(t,e){return t.concat(e)},Te=function(t,e){return te(e)?t.concat(e.reduce(Te,[])):R(t,e)},Ce=function(t,e){return me(t,e)?t:R(t,e)},Pe=function(t){return t.reduce(Ee,[])},ke=function(t){return t.reduce(Te,[])},Oe=E,xe=E,je=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},Ie=function(t,e){return void 0===e&&(e=Ut(!0)),function(r,n){return e(r)&&e(n)?t(r)-t(n):0}},Ve=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,r){return t.reduce(function(t,n){return t||n(e,r)},0)}},Ae=function(t){return t.catch(function(t){return 0})&&t},He=function(t){return Ae(ae.$q.reject(t))},qe=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(t.RejectType||(t.RejectType={}));var De=0,Ne=function(){function e(t,e,r){this.$id=De++,this.type=t,this.message=e,this.detail=r}return e.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():Q(t)}(this.detail),e=this;return"Transition Rejection($id: "+e.$id+" type: "+e.type+", message: "+e.message+", detail: "+t+")"},e.prototype.toPromise=function(){return pe(He(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&Nt(e)(t._transitionRejection)},e.superseded=function(r,n){var i=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",r);return n&&n.redirected&&(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(r){return new e(t.RejectType.INVALID,"This transition is invalid",r)},e.ignored=function(r){return new e(t.RejectType.IGNORED,"The transition was ignored",r)},e.aborted=function(r){return new e(t.RejectType.ABORTED,"The transition has been aborted",r)},e.errored=function(r){return new e(t.RejectType.ERROR,"The transition errored",r)},e.normalize=function(t){return Nt(e)(t)?t:e.errored(t)},e}();!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(t.Category||(t.Category={}));var Ue=At("$id"),Le=At("router.$id"),Me=function(t){return"Transition #"+Ue(t)+"-"+Le(t)},Be=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,r){var n=this;r.length||(r=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),r.map(A).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[A(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Me(e)+": Started  -> "+Q(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Me(e)+": Ignored  <> "+Q(e))},e.prototype.traceHookInvocation=function(e,r,n){if(this.enabled(t.Category.HOOK)){var i=At("traceData.hookType")(n)||"internal",o=At("traceData.context.state.name")(n)||At("traceData.context")(n)||"unknown",a=z(e.registeredHook.callback);console.log(Me(r)+":   Hook -> "+i+" context: "+o+", "+B(200,a))}},e.prototype.traceHookResult=function(e,r,n){this.enabled(t.Category.HOOK)&&console.log(Me(r)+":   <- Hook returned: "+B(200,Q(e)))},e.prototype.traceResolvePath=function(e,r,n){this.enabled(t.Category.RESOLVE)&&console.log(Me(n)+":         Resolving "+e+" ("+r+")")},e.prototype.traceResolvableResolved=function(e,r){this.enabled(t.Category.RESOLVE)&&console.log(Me(r)+":               <- Resolved  "+e+" to: "+B(200,Q(e.data)))},e.prototype.traceError=function(e,r){this.enabled(t.Category.TRANSITION)&&console.log(Me(r)+": <- Rejected "+Q(r)+", reason: "+e)},e.prototype.traceSuccess=function(e,r){this.enabled(t.Category.TRANSITION)&&console.log(Me(r)+": <- Success  "+Q(r)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,r,n){void 0===n&&(n=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+G(30,e)+" "+V(r)+n)},e.prototype.traceUIViewConfigUpdated=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+r+"'")},e.prototype.traceUIViewFill=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+B(200,r))},e.prototype.traceViewServiceEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(t){return"[ViewConfig#"+t.$id+" from '"+(t.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+t.viewDecl.$uiViewName+"@"+t.viewDecl.$uiViewContextAnchor+"'"}(r))},e.prototype.traceViewServiceUIViewEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+V(r))},e}(),Ge=new Be;!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}));var We=function(){function t(t,e,r,n){void 0===n&&(n={}),this._identifier=t,this._definition=e,this._options=n,this._params=r||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+fe(this.params())},t}();We.isDef=function(t){return t&&t.state&&(Zt(t.state)||Zt(t.state.name))};var ze={current:l,transition:null,traceData:{},bind:null},Je=function(){function e(e,r,n,i){var o=this;this.transition=e,this.stateContext=r,this.registeredHook=n,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(i,ze),this.type=n.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var r=this.getNotCurrentRejection();if(r)return r;var n=this.options;Ge.traceHookInvocation(this,this.transition,n);var o=function(r){return e.eventType.getErrorHandler(t)(r)},a=function(r){return e.eventType.getResultHandler(t)(r)};try{var u=e.callback.call(n.bind,t.transition,t.stateContext);return!this.type.synchronous&&ie(u)?u.catch(function(t){return Ne.normalize(t).toPromise()}).then(a,o):a(u)}catch(t){return o(Ne.normalize(t))}}},e.prototype.handleHookResult=function(t){var e=this;return this.getNotCurrentRejection()||(ie(t)?t.then(function(t){return e.handleHookResult(t)}):(Ge.traceHookResult(t,this.transition,this.options),!1===t?Ne.aborted("Hook aborted transition").toPromise():Nt(We)(t)?Ne.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?Ne.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Ne.aborted().toPromise():this.isSuperseded()?Ne.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var e=this.options,r=this.registeredHook;return(At("traceData.hookType")(e)||"internal")+" context: "+(At("traceData.context.state.name")(e)||At("traceData.context")(e)||"unknown")+", "+B(200,J(r.callback))},e.chain=function(t,e){return t.reduce(function(t,e){return t.then(function(){return e.invokeHook()})},e||ae.$q.when())},e.invokeHooks=function(t,r){for(var n=0;n<t.length;n++){var i=t[n].invokeHook();if(ie(i)){var o=t.slice(n+1);return e.chain(o,i).then(r)}}return r()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e}();Je.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},Je.LOG_REJECTED_RESULT=function(t){return function(e){ie(e)&&e.catch(function(e){return t.logError(Ne.normalize(e))})}},Je.LOG_ERROR=function(t){return function(e){return t.logError(e)}},Je.REJECT_ERROR=function(t){return function(t){return He(t)}},Je.THROW_ERROR=function(t){return function(t){throw t}};var Qe=function(){function e(t,e,r,n,i){void 0===i&&(i={}),this.tranSvc=t,this.eventType=e,this.callback=r,this.matchCriteria=n,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var r=t.filter(function(t){return H(t.state,e)});return r.length?r:null},e.prototype._getDefaultMatchCriteria=function(){return b(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var r=this,n=pe(this._getDefaultMatchCriteria(),this.matchCriteria);return Se(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,o){var a=o.scope===t.TransitionHookScope.STATE,u=e[o.name]||[],s=a?u:[P(u)];return i[o.name]=r._matchingNodes(s,n[o.name]),i},{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return Se(e).every(f)?e:null},e}(),Ke=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(Ee,[]).filter(f)},e.prototype.buildHooks=function(e){var r=this.transition,n=r.treeChanges(),i=this.getMatchingHooks(e,n);if(!i)return[];var o={transition:r,current:r.options().current};return i.map(function(i){return i.matches(n)[e.criteriaMatchPath.name].map(function(n){var a=pe({bind:i.bind,traceData:{hookType:e.name,context:n}},o),u=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?n.state.self:null,s=new Je(r,u,i,a);return{hook:i,node:n,transitionHook:s}})}).reduce(Ee,[]).sort(function(t){return void 0===t&&(t=!1),function(e,r){var n=t?-1:1,i=(e.node.state.path.length-r.node.state.path.length)*n;return 0!==i?i:r.hook.priority-e.hook.priority}}(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,r){var n=e.hookPhase===t.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(n?[i]:[this.transition,i]).map(function(t){return t.getHooks(e.name)}).filter(Oe(te,"broken event named: "+e.name)).reduce(Ee,[]).filter(function(t){return t.matches(r)})},e}(),Ye=function(){function t(t){this.pattern=/.*/,this.inherit=!0,pe(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,e){function r(t){return te(t)?t:zt(t)?[t]:[]}function n(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function i(t,e){return function(i){if(te(i)&&0===i.length)return i;var a=b(r(i),t);return!0===e?0===$(a,function(t){return!t}).length:n(a)}}function o(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var a=this;["encode","decode","equals","$normalize"].forEach(function(e){var r=t[e].bind(t),n="equals"===e?o:i;a[e]=n(r)}),pe(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:i(t.is.bind(t),!0),$arrayMode:e})}(this,t)},t}(),Ze=Object.prototype.hasOwnProperty,Xe=function(t){return 0===["value","type","squash","array","dynamic"].filter(Ze.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(t.DefType||(t.DefType={}));var tr=function(){function e(e,r,n,i,o){r=function(e,r,n,i,o){if(e.type&&r&&"string"!==r.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&&r&&"string"===r.name&&o.type(e.type))return o.type(e.type);if(r)return r;if(!e.type){var a=n===t.DefType.CONFIG?"any":n===t.DefType.PATH?"path":n===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof Ye?e.type:o.type(e.type)}(n=F(n),r,i,e,o.paramTypes);var a=function(){var r={array:i===t.DefType.SEARCH&&"auto"},o=e.match(/\[\]$/)?{array:!0}:{};return pe(r,o,n).array}();r=a?r.$asArray(a,i===t.DefType.SEARCH):r;var u=void 0!==n.value||i===t.DefType.SEARCH,s=zt(n.dynamic)?!!n.dynamic:!!r.dynamic,c=zt(n.raw)?!!n.raw:!!r.raw,f=function(t,e,r){var n=t.squash;if(!e||!1===n)return!1;if(!zt(n)||null==n)return r;if(!0===n||Zt(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(n,u,o.defaultSquashPolicy()),l=function(t,e,r,n){var i,o,a=[{from:"",to:r||e?void 0:""},{from:null,to:r||e?void 0:""}];return i=te(t.replace)?t.replace:[],Zt(n)&&i.push({from:n,to:void 0}),o=b(i,It("from")),$(a,function(t){return-1===o.indexOf(t.from)}).concat(i)}(n,a,u,f),h=zt(n.inherit)?!!n.inherit:!!r.inherit;pe(this,{id:e,type:r,location:i,isOptional:u,dynamic:s,raw:c,squash:f,replace:l,inherit:h,array:a,config:n})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var r=0,n=e.replace;r<n.length;r++){var i=n[r];if(i.from===t)return i.to}return t}(t),Wt(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!ae.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=ae.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((Wt(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var r=this.type.encode(e);return!(Zt(r)&&!this.type.pattern.exec(r))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var r={},n=0,i=t;n<i.length;n++){var o=i[n];r[o.id]=o.value(e[o.id])}return r},e.changed=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),t.filter(function(t){return!t.type.equals(e[t.id],r[t.id])})},e.equals=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),0===e.changed(t,r,n).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(be,!0)},e}(),er=function(){function t(e){if(e instanceof t){var r=e;this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=pe({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&&r.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,r){return C(t,e(r))},{}),this},t.prototype.parameter=function(t){return S(this.paramSchema,Vt("id",t))},t.prototype.equals=function(t,e){var r=this.diff(t,e);return r&&0===r.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var r=e?e(this):this.paramSchema;return tr.changed(r,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),rr=function(){function t(){}return t.makeTargetState=function(t){var e=P(t).state;return new We(e,e,t.map(It("paramValues")).reduce(_e,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new er(t).applyRawParams(e)})},t.buildToPath=function(e,r){var n=t.buildPath(r);return r.options().inherit?t.inheritParams(e,n,Object.keys(r.params())):n},t.applyViewConfigs=function(e,r,n){r.filter(function(t){return me(n,t.state)}).forEach(function(n){var i=Se(n.state.views||{}),o=t.subPath(r,function(t){return t===n}),a=i.map(function(t){return e.createViewConfig(o,t)});n.views=a.reduce(Ee,[])})},t.inheritParams=function(t,e,r){void 0===r&&(r=[]);var o=t.map(function(t){return t.paramSchema}).reduce(Ee,[]).filter(function(t){return!t.inherit}).map(It("id"));return e.map(function(e){var i=pe({},e&&e.paramValues),a=g(i,r);i=w(i,r);var u=w(function(t,e){var r=S(t,Vt("state",e));return pe({},r&&r.paramValues)}(t,e.state)||{},o),s=pe(i,u,a);return new er(e.state).applyRawParams(s)})},t.treeChanges=function(e,r,n){for(var o=0,a=Math.min(e.length,r.length);o<a&&e[o].state!==n&&function(e,r){return e.equals(r,t.nonDynamicParams)}(e[o],r[o]);)o++;var u,s,c,f,l;s=(u=e).slice(0,o),c=u.slice(o);var h=s.map(function(t,e){var n=er.clone(t);return n.paramValues=r[e].paramValues,n});return f=r.slice(o),l=h.concat(f),{from:u,to:l,retained:s,exiting:c,entering:f}},t.matching=function(t,e,r){var n=!1;return T(t,e).reduce(function(t,e){var i=e[0],o=e[1];return(n=n||!i.equals(o,r))?t:t.concat(i)},[])},t.equals=function(e,r,n){return e.length===r.length&&t.matching(e,r,n).length===e.length},t.subPath=function(t,e){var r=S(t,e),n=t.indexOf(r);return-1===n?void 0:t.slice(0,n+1)},t}();rr.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},rr.paramValues=function(t){return t.reduce(function(t,e){return pe(t,e.paramValues)},{})};var nr={when:"LAZY",async:"WAIT"},ir=function(){function t(e,r,n,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)pe(this,e);else if(Kt(r)){if(null==e||void 0==e)throw new Error("new Resolvable(): token argument is required");if(!Kt(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=r,this.deps=n||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?ae.$q.when(this.data):void 0}else if(Xt(e)&&e.token&&Kt(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},r=t&&t.resolvePolicy||{};return{when:e.when||r.when||nr.when,async:e.async||r.async||nr.async}},t.prototype.resolve=function(t,e){var r=this,n=ae.$q,u=t.findNode(this),s=u&&u.state,c="RXWAIT"===this.getPolicy(s).async?function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})}:f;return this.promise=n.when().then(function(){return n.all(t.getDependencies(r).map(function(r){return r.get(t,e)}))}).then(function(t){return r.resolveFn.apply(null,t)}).then(c).then(function(t){return r.data=t,r.resolved=!0,Ge.traceResolvableResolved(r,e),r.data})},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+Q(this.token)+", requires: ["+this.deps.map(Q)+"])"},t.prototype.clone=function(){return new t(this)},t}();ir.fromData=function(t,e){return new ir(t,function(){return e},null,null,e)};var or={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},ar=or.when,ur=[ar.EAGER,ar.LAZY],sr=[ar.EAGER],cr="Native Injector",fr=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(Ce,[])},t.prototype.getResolvable=function(t){return P(this._path.map(function(t){return t.resolvables}).reduce(Ee,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(rr.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var r=S(this._path,Vt("state",e)),n=t.map(function(t){return t.token});r.resolvables=r.resolvables.filter(function(t){return-1===n.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var r=this;void 0===t&&(t="LAZY");var i=(me(ur,t)?t:"LAZY")===or.when.EAGER?sr:ur;Ge.traceResolvePath(this._path,t,e);var o=function(t,e){return function(n){return me(t,r.getPolicy(n)[e])}},a=this._path.reduce(function(t,n){var a=n.resolvables.filter(o(i,"when")),u=a.filter(o(["NOWAIT"],"async")),s=a.filter(Ht(o(["NOWAIT"],"async"))),c=r.subContext(n.state),f=function(t){return t.get(c,e).then(function(e){return{token:t.token,value:e}})};return u.forEach(f),t.concat(s.map(f))},[]);return ae.$q.all(a)},t.prototype.injector=function(){return this._injector||(this._injector=new lr(this))},t.prototype.findNode=function(t){return S(this._path,function(e){return me(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,r=this.findNode(t),i=(rr.subPath(this._path,function(t){return t===r})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var r=i.filter(function(e){return e.token===t});if(r.length)return P(r);var n=e.injector().getNative(t);if(!n)throw new Error("Could not find Dependency Injection token: "+Q(t));return new ir(t,function(){return n},[],n)})},t}(),lr=function(){function t(t){this.context=t,this.native=this.get(cr)||ae.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+Q(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):ae.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),hr=It("self"),pr=function(){function e(e,r,n){var i=this;if(this._deferred=ae.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Ke(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,this._targetState=r,!r.valid())throw new Error(r.error());this._options=pe({current:Ut(this)},r.options()),this.$id=n.transitionService._transitionCount++;var o=rr.buildToPath(e,r);this._treeChanges=rr.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Je.invokeHooks(a,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return q(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});rr.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return P(this._treeChanges.from).state},e.prototype.$to=function(){return P(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!H(this.$to(),t.to)||t.from&&!H(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(It("paramValues")).reduce(_e,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var r=this._treeChanges[e];return t&&(r=rr.subPath(r,function(e){return e.state===t||e.state.name===t})),new fr(r).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new fr(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=Nt(ir)(t)?t:new ir(t);var r="string"==typeof e?e:e.name,n=this._treeChanges.to,i=S(n,function(t){return t.state.name===r});new fr(n).addResolvables([t],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return b(this._treeChanges.entering,It("state")).map(hr)},e.prototype.exiting=function(){return b(this._treeChanges.exiting,It("state")).map(hr).reverse()},e.prototype.retained=function(){return b(this._treeChanges.retained,It("state")).map(hr)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var r=this._treeChanges[t];return(r=e?r.filter(Vt("state",e)):r).map(It("views")).filter(f).reduce(Ee,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,r=this;null!=(r=r.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var n={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(n.location="replace");var i=pe({},this.options(),t.options(),n);t=new We(t.identifier(),t.$state(),t.params(),i);var o=this.router.transitionService.create(this._treeChanges.from,t),a=this._treeChanges.entering,u=o._treeChanges.entering;return rr.matching(u,a,rr.nonDynamicParams).filter(Ht(function(t){return function(e){return t&&e.state.includes[t.name]}}(t.options().reloadState))).forEach(function(t,e){t.resolvables=a[e].resolvables}),o},e.prototype._changedParams=function(){var t=this._treeChanges;if(!(this._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||T(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce(Re,!1))){var e=t.to.map(function(t){return t.paramSchema}),r=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return T(e,r[0],r[1]).map(function(t){var e=t[0],r=t[1],n=t[2];return tr.changed(e,r,n)}).reduce(Ee,[])}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(Re,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,r=function(t,r){if(t.length!==r.length)return!1;var n=rr.matching(t,r);return t.length===n.filter(function(t){return!e||!t.state.includes[e.name]}).length},n=this.treeChanges(),i=t&&t.treeChanges();return i&&r(i.to,n.to)&&r(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&r(n.from,n.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,r=Je.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},s=n(t.TransitionHookPhase.BEFORE);return Je.invokeHooks(s,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),Ge.traceTransitionStart(e),ae.$q.when(void 0)}).then(function(){var e=n(t.TransitionHookPhase.RUN);return Je.invokeHooks(e,function(){return ae.$q.when(void 0)})}).then(function(){Ge.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),r(n(t.TransitionHookPhase.SUCCESS))},function(i){Ge.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,r(n(t.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){Wt(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();return t.self.abstract?"Cannot transition to abstract state '"+t.name+"'":tr.validates(t.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+t.name+"'"},e.prototype.toString=function(){var t=this.from(),e=this.to(),r=function(t){return null!==t["#"]&&void 0!==t["#"]?t:w(t,["#"])};return"Transition#"+this.$id+"( '"+(Xt(t)?t.name:t)+"'"+fe(r(this._treeChanges.from.map(It("paramValues")).reduce(_e,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Xt(e)?e.name:e)+"'"+fe(r(this.params()))+" )"},e}();pr.diToken=pr;var dr=null,vr=function(t){var e=Ne.isRejectionPromise;return(dr=dr||s([[Ht(zt),Ut("undefined")],[Jt,Ut("null")],[ie,Ut("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[Nt(Ne),u("toString")],[Nt(pr),u("toString")],[Nt(ir),u("toString")],[c,z],[Ut(!0),f]]))(t)},mr=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return-1===r?[e,""]:[e.substr(0,r),e.substr(r+1)]}},yr=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=g(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=ve(b(this.defaultTypes,function(t,e){return new Ye(pe({name:e},t))}),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,r){if(!zt(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Ye(pe({name:t},e)),r&&(this.typeQueue.push({name:t,def:r}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");pe(this.types[t.name],ae.$injector.invoke(t.def))}},t}();!function(){var t=function(t){var e=function(t){return null!=t?t.toString():t},r={encode:e,decode:e,is:Nt(String),pattern:/.*/,equals:function(t,e){return t==e}};return pe({},r,t)};pe(yr.prototype,{string:t({}),path:t({pattern:/[^\/]*/}),query:t({}),hash:t({inherit:!1}),int:t({decode:function(t){return parseInt(t,10)},is:function(t){return!Qt(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:t({encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:Nt(Boolean),pattern:/0|1/}),date:t({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&t[n]()===e[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:t({encode:fe,decode:ce,is:Nt(Object),equals:de,pattern:/[^\/]*/}),any:t({encode:f,decode:f,is:function(){return!0},equals:de})})}();var gr=function(){function t(t){void 0===t&&(t={}),pe(this,t)}return t.prototype.$inherit=function(t,e,r){var n,i=y(e,r),o={},a=[];for(var u in i)if(i[u]&&i[u].params&&(n=Object.keys(i[u].params)).length)for(var s in n)a.indexOf(n[s])>=0||(a.push(n[s]),o[n[s]]=this[n[s]]);return pe({},o,t)},t}(),_r=function(t,e){return function(r){var n=r;n&&n.url&&n.name&&n.name.match(/\.\*\*$/)&&(n.url+="{remainder:any}");var i=function(t){if(!Zt(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(n.url),o=r.parent,a=i?t.compile(i.val,{params:r.params||{},paramMap:function(t,e){return!1===n.reloadOnSearch&&e&&(t=pe(t||{},{dynamic:!0})),t}}):n.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+r+"'");return i&&i.root?a:(o&&o.navigable||e()).url.append(a)}},$r=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},Sr=function(t){return function(e){var n=e.url&&e.url.parameters({inherit:!1})||[],i=Se($e(w(e.params||{},n.map(It("id"))),function(e,r){return t.fromConfig(r,null,e)}));return n.concat(i).map(function(t){return[t.id,t]}).reduce(C,{})}},br=function(){function t(t,e){this.matcher=t;var n=this,i=function(){return t.find("")},o=function(t){return""===t.name};this.builders={name:[Z],self:[X],parent:[function(e){return o(e)?null:t.find(n.parentName(e))||i()}],data:[tt],url:[_r(e,i)],navigable:[$r(o)],params:[Sr(e.paramFactory)],views:[],path:[et],includes:[rt],resolvables:[nt]}}return t.prototype.builder=function(t,e){var r=this.builders,n=r[t]||[];return Zt(t)&&!zt(e)?n.length>1?n:n[0]:Zt(t)&&Kt(e)?(r[t]=n,r[t].push(e),function(){return r[t].splice(r[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var r=this.matcher,n=this.builders,i=this.parentName(t);if(i&&!r.find(i,void 0,!1))return null;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o].reduce(function(t,e){return function(r){return e(r,t)}},l);t[o]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",r=e.split(".");if(r.length>1){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return"**"===r.pop()&&r.pop(),r.join(".")}return t.parent?Zt(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var r=Zt(t.parent)?t.parent:t.parent.name;return r?r+"."+e:e},t}(),Rr=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,r){if(void 0===r&&(r=!0),t||""===t){var n=Zt(t),i=n?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(n||!(n||o!==t&&o.self!==t)))return o;if(n&&r){var u=Se(this._states).filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)});return u.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",u.map(function(t){return t.name})),u[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var r=this.find(e),n=t.split("."),i=0,o=n.length,a=r;i<o;i++)if(""!==n[i]||0!==i){if("^"!==n[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+r.name+"'");a=a.parent}else a=r;var u=n.slice(i).join(".");return a.name+(a.name&&u?".":"")+u},t}(),Er=function(){function t(t,e,r,n,i){this.$registry=t,this.$urlRouter=e,this.states=r,this.builder=n,this.listeners=i,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,r=Mt.create(t),n=r.name;if(!Zt(n))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(n)||me(e.map(It("name")),n))throw new Error("State '"+n+"' is already defined");return e.push(r),this.flush(),r},t.prototype.flush=function(){for(var t=this,e=this,r=e.queue,n=e.states,i=e.builder,o=[],a=[],u={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};r.length>0;){var c=r.shift(),f=c.name,l=i.build(c),h=a.indexOf(c);if(l){var p=s(f);if(p&&p.name===f)throw new Error("State '"+f+"' is already defined");var d=s(f+".**");d&&this.$registry.deregister(d),n[f]=c,this.attachRoute(c),h>=0&&a.splice(h,1),o.push(c)}else{var v=u[f];if(u[f]=r.length,h>=0&&v===r.length)return r.push(c),n;h<0&&a.push(c),r.push(c)}}return o.length&&this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))}),n},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),Tr=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new Rr(this.states),this.builder=new br(this.matcher,t.urlMatcherFactory),this.stateQueue=new Er(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){ye(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,r=this.get().map(function(t){return t.$$state()}),n=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(n(e))},i=n([t]),o=[t].concat(i).reverse();return o.forEach(function(t){var r=e._router.urlRouter;r.rules().filter(Vt("state",t)).forEach(r.removeRule.bind(r)),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var r=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",r.map(function(t){return t.self}))}),r},t.prototype.get=function(t,e){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return r.states[t].self});var n=this.matcher.find(t,e);return n&&n.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),Pr=K("/"),kr=function(){function e(t,r,n,i){var o=this;this.config=i,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:f});for(var a,u,s,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=0,p=[],d=function(r){if(!e.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+t+"'");if(S(o._params,Vt("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+t+"'")},v=function(e,n){var i=e[2]||e[3],a=n?e[4]:e[4]||("*"===e[1]?".*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:t.substring(h,e.index),type:a?r.type(a)||function(t){return ve(r.type(n?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=c.exec(t))&&!((u=v(a,!1)).segment.indexOf("?")>=0);)d(u.id),this._params.push(n.fromPath(u.id,u.type,this.config.paramMap(u.cfg,!1))),this._segments.push(u.segment),p.push([u.segment,P(this._params)]),h=c.lastIndex;var y=(s=t.substring(h)).indexOf("?");if(y>=0){var g=s.substring(y);if(s=s.substring(0,y),g.length>0)for(h=0;a=l.exec(g);)u=v(a,!0),d(u.id),this._params.push(n.fromSearch(u.id,u.type,this.config.paramMap(u.cfg,!0))),h=c.lastIndex}this._segments.push(s),this._compiled=p.map(function(t){return it.apply(null,t)}).concat(it(s))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,r,n){var i=this;void 0===e&&(e={}),void 0===n&&(n={});var o=function(t,e,r){return t[e]=t[e]||r()}(this._cache,"pattern",function(){return new RegExp(["^",Pe(i._cache.path.map(It("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(t);if(!o)return null;var a=this.parameters(),u=a.filter(function(t){return!t.isSearch()}),s=a.filter(function(t){return t.isSearch()}),c=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),f={};if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var l=0;l<c;l++){for(var h=u[l],p=o[l+1],d=0;d<h.replace.length;d++)h.replace[d].from===p&&(p=h.replace[d].to);p&&!0===h.array&&(p=function(t){var e=function(t){return t.split("").reverse().join("")};return b(b(e(p).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}()),zt(p)&&(p=h.type.decode(p)),f[h.id]=h.value(p)}return s.forEach(function(t){for(var r=e[t.id],n=0;n<t.replace.length;n++)t.replace[n].from===r&&(r=t.replace[n].to);zt(r)&&(r=t.type.decode(r)),f[t.id]=t.value(r)}),r&&(f["#"]=r),f},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:Pe(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var r=this;void 0===e&&(e={});var n=this._cache.parent;return function(){for(var e=0,n=r._params;e<n.length;e++){var i=n[e];if(i.id===t)return i}}()||!1!==e.inherit&&n&&n.parameter(t,e)||null},e.prototype.validates=function(t){return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(r){return function(t,e){return!t||t.validates(e)}(r,t[r.id])}).reduce(be,!0)},e.prototype.format=function(t){function r(e){var r=e.value(t[e.id]),n=e.validates(r),i=e.isDefaultValue(r);return{param:e,value:r,isValid:n,isDefaultValue:i,squash:!!i&&e.squash,encoded:e.type.encode(r)}}void 0===t&&(t={});var n=this._cache.path,i=n.map(e.pathSegmentsAndParams).reduce(Ee,[]).map(function(t){return Zt(t)?t:r(t)}),o=n.map(e.queryParams).reduce(Ee,[]).map(r);if(i.concat(o).filter(function(t){return!1===t.isValid}).length)return null;var u=i.reduce(function(t,r){if(Zt(r))return t+r;var n=r.squash,i=r.encoded,o=r.param;return!0===n?t.match(/\/$/)?t.slice(0,-1):t:Zt(n)?t+n:!1!==n?t:null==i?t:te(i)?t+b(i,e.encodeDashes).join("-"):o.raw?t+i:t+encodeURIComponent(i)},""),s=o.map(function(t){var e=t.param,r=t.squash,n=t.encoded,i=t.isDefaultValue;if(!(null==n||i&&!1!==r)&&(te(n)||(n=[n]),0!==n.length))return e.raw||(n=b(n,encodeURIComponent)),n.map(function(t){return e.id+"="+t})}).filter(f).reduce(Ee,[]).join("&");return u+(s?"?"+s:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return T(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(Ee,[]).filter(function(t){return""!==t&&zt(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,r){var n,i,a=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(Ee,[]).reduce(Y,[]).map(function(t){return Zt(t)?Pr(t):t}).reduce(Ee,[])}(t).map(function(t){return"/"===t?1:Zt(t)?2:t instanceof tr?3:void 0})},u=T(a(t),a(r));for(i=0;i<u.length;i++)if(0!=(n=u[i][0]-u[i][1]))return n;return 0},e}();kr.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;var Or=function(){function e(){var e=this;this.paramTypes=new yr,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return pe({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(r,n,i){return new tr(r,n,i,t.DefType.CONFIG,e)},fromPath:function(r,n,i){return new tr(r,n,i,t.DefType.PATH,e)},fromSearch:function(r,n,i){return new tr(r,n,i,t.DefType.SEARCH,e)}},pe(this,{UrlMatcher:kr,Param:tr})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=zt(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=zt(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if(zt(t)&&!0!==t&&!1!==t&&!Zt(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=zt(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new kr(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!Xt(t))return!1;var e=!0;return he(kr.prototype,function(r,n){Kt(r)&&(e=e&&zt(t[n])&&Kt(t[n]))}),e},e.prototype.type=function(t,e,r){var n=this.paramTypes.type(t,e,r);return zt(e)?this:n},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),xr=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var r=this,n=s([[Zt,function(t){return n(r.compile(t))}],[Nt(kr),function(t){return r.fromUrlMatcher(t,e)}],[ne,function(t){return r.fromState(t,r.router)}],[Nt(RegExp),function(t){return r.fromRegExp(t,e)}],[Kt,function(t){return new Ir(t,e)}]]),i=n(t);if(!i)throw new Error("invalid 'what' in when()");return i},t.prototype.fromUrlMatcher=function(t,e){var i=e;Zt(e)&&(e=this.router.urlMatcherFactory.compile(e)),Nt(kr)(e)&&(i=function(t){return e.format(t)});var o={urlMatcher:t,matchPriority:function(e){var r=t.parameters().filter(function(t){return t.isOptional});return r.length?r.filter(function(t){return e[t.id]}).length/r.length:1e-6},type:"URLMATCHER"};return pe(new Ir(function(e){var r=t.exec(e.path,e.search,e.hash);return t.validates(r)&&r},i),o)},t.prototype.fromState=function(t,e){var n={state:t,type:"STATE"};return pe(this.fromUrlMatcher(t.url,function(r){var n=e.stateService,i=e.globals;n.href(t,r)!==n.href(i.current,i.params)&&n.transitionTo(t,r,{inherit:!0,source:"url"})}),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=Zt(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}:e,o={regexp:t,type:"REGEXP"};return pe(new Ir(function(e){return t.exec(e.path)},n),o)},t}();xr.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return zt(t[e])})};var jr,Ir=function(){return function(t,e){var r=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-r.$id},this.handler=e||f}}(),Vr=It("urlMatcher");jr=Ve(Ie(i(It("priority"),function(t){return-t})),Ie(i(It("type"),function(t){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[t]})),function(t,e){return Vr(t)&&Vr(e)?kr.compare(Vr(t),Vr(e)):0},Ie(It("$id"),me(["REGEXP","RAW","OTHER"])));var Ar=function(){function t(e){this._sortFn=jr,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new xr(e),h(Ut(t.prototype),this,Ut(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules.sort(this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.match=function(t){var e=this;this.ensureSorted(),t=pe({path:"",search:{},hash:""},t);var r=this.rules();this._otherwiseFn&&r.push(this._otherwiseFn);for(var n,i=0;i<r.length&&(!n||0===this._sortFn(r[i],n.rule));i++){var o=function(r){var n=r.match(t,e._router);return n&&{match:n,rule:r,weight:r.matchPriority(n)}}(r[i]);n=!n||o&&o.weight>n.weight?o:n}return n},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,r=e.urlService,n=e.stateService,i={path:r.path(),search:r.search(),hash:r.hash()},o=this.match(i);s([[Zt,function(t){return r.url(t,!0)}],[We.isDef,function(t){return n.go(t.state,t.params,t.options)}],[Nt(We),function(t){return n.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(t){return e.sync(t)});this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;t?this.location=e.path():e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,r){var n=r&&!!r.replace;this._router.urlService.url(t.format(e||{}),n)},t.prototype.href=function(t,e,r){var n=t.format(e);if(null==n)return null;r=r||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===n||(n="#"+i.hashPrefix()+n),n=function(t,e,r,n){return"/"===n?t:e?n.slice(0,-1)+t:r?n.slice(1)+t:t}(n,o,r.absolute,i.baseHref()),!r.absolute||!n)return n;var a=!o&&n?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,a,n].join("")},t.prototype.rule=function(t){var e=this;if(!xr.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){ye(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=at(t);this._otherwiseFn=this.urlRuleFactory.create(Ut(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=at(t);this.rule(this.urlRuleFactory.create(function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)},e))},t.prototype.when=function(t,e,r){var n=this.urlRuleFactory.create(t,e);return zt(r&&r.priority)&&(n.priority=r.priority),this.rule(n),n},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}(),Hr=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var r=this._viewConfigFactories[e.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+e.$type);var n=r(t,e);return te(n)?n:[n]},t.prototype.deactivateViewConfig=function(t){Ge.traceViewServiceEvent("<- Removing",t),ye(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){Ge.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function n(t){for(var e=t.viewDecl.$context,r=0;++r&&e.parent;)e=e.parent;return r}var i=this,o=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(C,{}),a=r(function(t,e,r,n){return e*(t(r)-t(n))});this._uiViews.sort(a(function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)},1)).map(function(e){var r=i._viewConfigs.filter(t.matches(o,e));return r.length>1&&r.sort(a(n,-1)),[e,r[0]]}).forEach(function(t){var e=t[0],r=t[1];-1!==i._uiViews.indexOf(e)&&e.configUpdated(r)})},t.prototype.registerUIView=function(t){Ge.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn}).length&&Ge.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(Ge.traceViewServiceUIViewEvent("<- Deregistering",t),ye(e)(t)):Ge.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(It("fqn"))},t.prototype.active=function(){return this._uiViews.filter(It("$config")).map(It("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var r=e.split("@"),n=r[0]||"$default",i=Zt(r[1])?r[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);return o&&(i=o[1],n=o[2]),"!"===n.charAt(0)&&(n=n.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(".").reduce(function(t,e){return t.parent},t).name:"."===i&&(i=t.name),{uiViewName:n,uiViewContextAnchor:i}},t}();Hr.matches=function(t,e){return function(r){if(e.$type!==r.viewDecl.$type)return!1;var n=r.viewDecl,i=n.$uiViewName.split("."),o=e.fqn.split(".");if(!de(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,u=o.slice(0,a).join("."),s=t[u].creationContext;return n.$uiViewContextAnchor===(s&&s.name)}};var qr=function(){function t(){this.params=new gr,this.lastStartedTransitionId=-1,this.transitionHistory=new qe([],1),this.successfulTransitions=new qe([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),Dr=function(t){return t.reduce(function(t,e){return t[e]=oe(e),t},{dispose:l})},Nr=["url","path","search","hash","onChange"],Fr=["port","protocol","host","baseHref","html5Mode","hashPrefix"],Ur=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Lr=["sort","when","initial","otherwise","rules","rule","removeRule"],Mr=["deferIntercept","listen","sync","match"],Br=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var r=function(){return t.locationService};h(r,this,r,Nr,e);var n=function(){return t.locationConfig};h(n,this.config,n,Fr,e);var i=function(){return t.urlMatcherFactory};h(i,this.config,i,Ur);var o=function(){return t.urlRouter};h(o,this.rules,o,Lr),h(o,this,o,Mr)}return t.prototype.url=function(t,e,r){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t}();Br.locationServiceStub=Dr(Nr),Br.locationConfigStub=Dr(Fr);var Gr=0,Wr=function(){function t(t,e){void 0===t&&(t=Br.locationServiceStub),void 0===e&&(e=Br.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=Gr++,this._disposed=!1,this._disposables=[],this.trace=Ge,this.viewService=new Hr,this.transitionService=new $n(this),this.globals=new qr,this.urlMatcherFactory=new Or,this.urlRouter=new Ar(this),this.stateRegistry=new Tr(this),this.stateService=new Sn(this),this.urlService=new Br(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&Kt(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),ye(e._disposables,t)}catch(t){}}))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var r=new t(this,e);if(!r.name)throw new Error("Required property `name` missing on plugin: "+r);return this._disposables.push(r),this._plugins[r.name]=r},t.prototype.getPlugin=function(t){return t?this._plugins[t]:Se(this._plugins)},t}(),Jr=function(t){function e(e){if(e)return e instanceof We?e:Zt(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var r=t.to().redirectTo;if(r){var n=t.router.stateService;return Kt(r)?ae.$q.when(r(t)).then(e):e(r)}},Kr=st("onExit"),Zr=st("onRetain"),tn=st("onEnter"),rn=function(t){return new fr(t.treeChanges().to).resolvePath("EAGER",t).then(l)},on=function(t,e){return new fr(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(l)},un=function(t){var e=ae.$q,r=t.views("entering");if(r.length)return e.all(r.map(function(t){return e.when(t.load())})).then(l)},cn=function(t){var e=t.views("entering"),r=t.views("exiting");if(e.length||r.length){var n=t.router.viewService;r.forEach(function(t){return n.deactivateViewConfig(t)}),e.forEach(function(t){return n.activateViewConfig(t)}),n.sync()}},ln=function(t){var e=t.router.globals,n=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,le(t.params(),e.params)},{priority:1e4}),t.promise.then(n,n)},pn=function(t){var e=t.options(),r=t.router.stateService,n=t.router.urlRouter;if("url"!==e.source&&e.location&&r.$current.navigable){var i={replace:"replace"===e.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!0)},vn=function(t){var r=t.router,n=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return ct(t,e)});return ae.$q.all(n).then(function(){if("url"!==t.originalTransition().options().source){var e=t.targetState();return r.stateService.target(e.identifier(),e.params(),e.options())}var n=r.urlService,i=n.match(n.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,u=i.match;return r.stateService.target(a,u,t.options())}r.urlService.sync()})},yn=function(){return function(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=Je.HANDLE_RESULT),void 0===a&&(a=Je.REJECT_ERROR),void 0===u&&(u=!1),this.name=t,this.hookPhase=e,this.hookOrder=r,this.criteriaMatchPath=n,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=u}}(),_n={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},$n=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=h(Ut(this),{},Ut(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,r){},e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.dispose=function(t){Se(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,ye(t,e)})})},e.prototype.create=function(t,e){return new pr(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,r=Je,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,r.LOG_REJECTED_RESULT,r.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,r=t.TransitionHookScope.TRANSITION;this._definePathType("to",r),this._definePathType("from",r),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=Je.HANDLE_RESULT),void 0===a&&(a=Je.REJECT_ERROR),void 0===u&&(u=!1);var s=new yn(t,e,r,n,i,o,a,u);this._eventTypes.push(s),q(this,this,s)},e.prototype._getEvents=function(t){return(zt(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var r=t.hookPhase-e.hookPhase;return 0===r?t.hookOrder-e.hookOrder:r})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=function(t){return t.onCreate({},ut)}(this),t.ignored=function(t){return t.onBefore({},ft,{priority:-9999})}(this),t.invalid=function(t){return t.onBefore({},lt,{priority:-1e4})}(this),t.redirectTo=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Jr)}(this),t.onExit=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Kr)}(this),t.onRetain=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Zr)}(this),t.onEnter=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},tn)}(this),t.eagerResolve=function(t){return t.onStart({},rn,{priority:1e3})}(this),t.lazyResolve=function(t){return t.onEnter({entering:Ut(!0)},on,{priority:1e3})}(this),t.loadViews=function(t){return t.onFinish({},un)}(this),t.activateViews=function(t){return t.onSuccess({},cn)}(this),t.updateGlobals=function(t){return t.onCreate({},ln)}(this),t.updateUrl=function(t){return t.onSuccess({},pn,{priority:9999})}(this),t.lazyLoad=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},vn)}(this)},e}(),Sn=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof Ne?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=Object.keys(e.prototype).filter(Ht(me(["current","$current","params","transition"])));h(Ut(e.prototype),this,Ut(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(l),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function r(){var t=s.dequeue();return void 0===t?Ne.invalid(e.error()).toPromise():ae.$q.when(t(e,i,c)).then(f).then(function(t){return t||r()})}var n=this,i=rr.makeTargetState(t),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},u=a(),s=new qe(this.invalidCallbacks.slice()),c=new fr(t).injector(),f=function(t){if(t instanceof We){var e=t;return(e=n.target(e.identifier(),e.params(),e.options())).valid()?a()!==u?Ne.superseded().toPromise():n.transitionTo(e.identifier(),e.params(),e.options()):Ne.invalid(e.error()).toPromise()}};return r()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){ye(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!zt(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,r){var i=m(r,{relative:this.$current,inherit:!0},_n);return this.transitionTo(t,e,i)},e.prototype.target=function(t,e,r){if(void 0===r&&(r={}),Xt(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=!0===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&&!r.reloadState)throw new Error("No such reload state '"+(Zt(r.reload)?r.reload:r.reload.name)+"'");var i=n.matcher.find(t,r.relative);return new We(t,i,e,r)},e.prototype.getCurrentPath=function(){var t=this,r=this.router.globals.successfulTransitions.peekTail();return r?r.treeChanges().to:[new er(t.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,r,n){var i=this;void 0===r&&(r={}),void 0===n&&(n={});var o=this.router,a=o.globals;n=m(n,_n),n=pe(n,{current:function(){return a.transition}});var u=this.target(e,r,n),s=this.getCurrentPath();if(!u.exists())return this._handleInvalidTargetState(s,u);if(!u.valid())return He(u.error());var c=function(e){return function(r){if(r instanceof Ne){var n=o.globals.lastStartedTransitionId===e.$id;if(r.type===t.RejectType.IGNORED)return n&&o.urlRouter.update(),ae.$q.when(a.current);var u=r.detail;if(r.type===t.RejectType.SUPERSEDED&&r.redirected&&u instanceof We){var s=e.redirect(u);return s.run().catch(c(s))}if(r.type===t.RejectType.ABORTED)return n&&o.urlRouter.update(),ae.$q.reject(r)}return i.defaultErrorHandler()(r),ae.$q.reject(r)}},f=this.router.transitionService.create(s,u),l=f.run().catch(c(f));return Ae(l),pe(l,{transition:f})},e.prototype.is=function(t,e,r){r=m(r,{relative:this.$current});var n=this.router.stateRegistry.matcher.find(t,r.relative);if(zt(n)){if(this.$current!==n)return!1;if(!e)return!0;var i=n.parameters({inherit:!0,matchingKeys:e});return tr.equals(i,tr.values(i,e),this.params)}},e.prototype.includes=function(t,e,r){r=m(r,{relative:this.$current});var n=Zt(t)&&Lt.fromString(t);if(n){if(!n.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,r.relative),o=this.$current.includes;if(zt(i)){if(!zt(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return tr.equals(a,tr.values(a,e),this.params)}},e.prototype.href=function(t,e,r){r=m(r,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var n=this.router.stateRegistry.matcher.find(t,r.relative);if(!zt(n))return null;r.inherit&&(e=this.params.$inherit(e,this.$current,n));var i=n&&r.lossy?n.navigable:n;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,e,{absolute:r.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var r=this.get(t);if(!r||!r.lazyLoad)throw new Error("Can not lazy load "+t);var n=this.getCurrentPath(),i=rr.makeTargetState(n);return e=e||this.router.transitionService.create(n,i),ct(e,r)},e}(),bn={when:function(t){return new Promise(function(e,r){return e(t)})},reject:function(t){return new Promise(function(e,r){r(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t},all:function(t){if(te(t))return Promise.all(t);if(Xt(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return bn.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},Rn={},En={get:function(t){return Rn[t]},has:function(t){return null!=En.get(t)},invoke:function(t,e,r){var n=pe({},Rn,r||{}),i=En.annotate(t),o=Oe(function(t){return n.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=i.filter(o).map(function(t){return n[t]});return Kt(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!c(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(te(t))return t.slice(0,-1);var e=t.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(/([^\s,]+)/g)||[]}},Tn=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return-1===r?[e,""]:[e.substr(0,r),e.substr(r+1)]}},Cn=Tn("#"),Pn=Tn("?"),kn=Tn("="),On=function(t){return t?t.replace(/^#/,""):""},xn=function(t,e){var r=e[0],n=e[1];return t.hasOwnProperty(r)?te(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n,t},jn=function(t){return t.split("&").filter(f).map(kn).reduce(xn,{})},In=function(t){var e=t.path(),r=t.search(),n=t.hash(),i=Object.keys(r).map(function(t){var e=r[t];return(te(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(Ee,[]).join("&");return e+(i?"?"+i:"")+(n?"#"+n:"")},Vn=function(){function t(t,e){var r=this;this.fireAfterUpdate=e,this._listener=function(t){return r._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return ht(r._get()).hash},this.path=function(){return ht(r._get()).path},this.search=function(){return jn(ht(r._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return t.prototype.url=function(t,e){if(void 0===e&&(e=!0),zt(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)){var r=pe(new Event("locationchange"),{url:t});this._listeners.forEach(function(t){return t(r)})}return In(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return ye(e._listeners,t)}},t.prototype.dispose=function(t){we(this._listeners)},t}(),An=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hn=function(t){function e(e){var r=t.call(this,e,!1)||this;return window.addEventListener("hashchange",r._listener,!1),r}return An(e,t),e.prototype._get=function(){return On(this._location.hash)},e.prototype._set=function(t,e,r,n){this._location.hash=r},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)},e}(Vn),qn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dn=function(t){function e(e){return t.call(this,e,!0)||this}return qn(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,r,n){this._url=r},e}(Vn),Nn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fn=function(t){function e(e){var r=t.call(this,e,!0)||this;return r._config=e.urlService.config,window.addEventListener("popstate",r._listener,!1),r}return Nn(e,t),e.prototype._get=function(){var t=this._location,e=t.pathname,r=t.hash,n=t.search;return n=Pn(n)[1],r=Cn(r)[1],e+(n?"?"+n:"")+(r?"$"+n:"")},e.prototype._set=function(t,e,r,n){var o=this._config,a=this._history,u=o.baseHref()+r;n?a.replaceState(t,e,u):a.pushState(t,e,u)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)},e}(Vn),Un=function(){return function(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return zt(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=l}}(),Ln=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.host},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return zt(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return zt(t)?this._baseHref=t:this._baseHref||this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base");return this._baseHref=t.length?t[0].href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}(),Mn=pt("vanilla.hashBangLocation",!1,Hn,Ln),Bn=pt("vanilla.pushStateLocation",!0,Fn,Ln),Gn=pt("vanilla.memoryLocation",!1,Dn,Un),Wn=function(){function t(){}return t.prototype.dispose=function(t){},t}(),zn=Object.freeze({fromJson:ce,toJson:fe,copy:le,forEach:he,extend:pe,equals:de,identity:f,noop:l,createProxyFunctions:h,inherit:ve,inArray:me,_inArray:p,removeFrom:ye,_removeFrom:d,pushTo:ge,_pushTo:v,deregAll:we,defaults:m,mergeR:_e,ancestors:y,pick:g,omit:w,pluck:_,filter:$,find:S,mapObj:$e,map:b,values:Se,allTrueR:be,anyTrueR:Re,unnestR:Ee,flattenR:Te,pushR:R,uniqR:Ce,unnest:Pe,flatten:ke,assertPredicate:Oe,assertMap:xe,assertFn:E,pairs:je,arrayTuples:T,applyPairs:C,tail:P,_extend:x,sortBy:Ie,composeSort:Ve,silenceUncaughtInPromise:Ae,silentRejection:He,notImplemented:oe,services:ae,Glob:Lt,curry:r,compose:n,pipe:i,prop:It,propEq:Vt,parse:At,not:Ht,and:o,or:a,all:qt,any:Dt,is:Nt,eq:Ft,val:Ut,invoke:u,pattern:s,isUndefined:Wt,isDefined:zt,isNull:Jt,isNullOrUndefined:Qt,isFunction:Kt,isNumber:Yt,isString:Zt,isObject:Xt,isArray:te,isDate:ee,isRegExp:re,isState:ne,isInjectable:c,isPromise:ie,Queue:qe,maxLength:B,padString:G,kebobString:W,functionToString:z,fnToString:J,stringify:Q,beforeAfterSubstr:mr,splitOnDelim:K,joinNeighborsR:Y,get Category(){return t.Category},Trace:Be,trace:Ge,get DefType(){return t.DefType},Param:tr,ParamTypes:yr,StateParams:gr,ParamType:Ye,PathNode:er,PathUtils:rr,resolvePolicies:or,defaultResolvePolicy:nr,Resolvable:ir,NATIVE_INJECTOR_TOKEN:cr,ResolveContext:fr,resolvablesBuilder:nt,StateBuilder:br,StateObject:Mt,StateMatcher:Rr,StateQueueManager:Er,StateRegistry:Tr,StateService:Sn,TargetState:We,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Ke,matchState:H,RegisteredHook:Qe,makeEvent:q,get RejectType(){return t.RejectType},Rejection:Ne,Transition:pr,TransitionHook:Je,TransitionEventType:yn,defaultTransOpts:_n,TransitionService:$n,UrlMatcher:kr,UrlMatcherFactory:Or,UrlRouter:Ar,UrlRuleFactory:xr,BaseUrlRule:Ir,UrlService:Br,ViewService:Hr,UIRouterGlobals:qr,UIRouter:Wr,$q:bn,$injector:En,BaseLocationServices:Vn,HashLocationService:Hn,MemoryLocationService:Dn,PushStateLocationService:Fn,MemoryLocationConfig:Un,BrowserLocationConfig:Ln,splitHash:Cn,splitQuery:Pn,splitEqual:kn,trimHashVal:On,keyValsToObjectR:xn,getParams:jn,parseUrl:ht,buildUrl:In,locationPluginFactory:pt,servicesPlugin:dt,hashLocationPlugin:Mn,pushStateLocationPlugin:Bn,memoryLocationPlugin:Gn,UIRouterPluginBase:Wn}),Jn=angular,Qn=e&&e.module?e:Jn,Kn=function(t,e){return t.reduce(function(t,r){return t||zt(e[r])},!1)},Yn=0,Zn=function(){function t(t,e,r){var n=this;this.path=t,this.viewDecl=e,this.factory=r,this.$id=Yn++,this.loaded=!1,this.getTemplate=function(t,e){return n.component?n.factory.makeComponentTemplate(t,e,n.component,n.viewDecl.bindings):n.template}}return t.prototype.load=function(){var t=this,e=ae.$q,r=new fr(this.path),n=this.path.reduce(function(t,e){return pe(t,e.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,n,r)),controller:e.when(this.getController(r))};return e.all(i).then(function(e){return Ge.traceViewServiceEvent("Loaded",t),t.controller=e.controller,pe(t,e.template),t})},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!c(e))return this.viewDecl.controller;var r=ae.$injector.annotate(e),n=te(e)?P(e):e;return new ir("",n,r).get(t)},t}(),Xn=function(){function t(){var t=this;this._useHttp=Qn.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,r,n){return t.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),t.$http=e,t.$templateCache=r,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,r){var n=function(t){return ae.$q.when(t).then(function(t){return{template:t}})},i=function(t){return ae.$q.when(t).then(function(t){return{component:t}})};return zt(t.template)?n(this.fromString(t.template,e)):zt(t.templateUrl)?n(this.fromUrl(t.templateUrl,e)):zt(t.templateProvider)?n(this.fromProvider(t.templateProvider,e,r)):zt(t.component)?i(t.component):zt(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,r)):n("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return Kt(t)?t(e):t},t.prototype.fromUrl=function(t,e){return Kt(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,r){var n=ae.$injector.annotate(t),i=te(t)?P(t):t;return new ir("",i,n).get(r)},t.prototype.fromComponentProvider=function(t,e,r){var n=ae.$injector.annotate(t),i=te(t)?P(t):t;return new ir("",i,n).get(r)},t.prototype.makeComponentTemplate=function(t,e,r,n){n=n||{};var i=Qn.version.minor>=3?"::":"",o=function(t){var e=W(t);return/^(x|data)-/.exec(e)?"x-"+e:e},u=function(t){var e=ae.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(ti).reduce(Ee,[])}(r).map(function(r){var a=r.name,u=r.type,s=o(a);if(t.attr(s)&&!n[a])return s+"='"+t.attr(s)+"'";var c=n[a]||a;if("@"===u)return s+"='{{"+i+"$resolve."+c+"}}'";if("&"===u){var f=e.getResolvable(c),l=f&&f.data,h=l&&ae.$injector.annotate(l)||[];return s+"='$resolve."+c+(te(l)?"["+(l.length-1)+"]":"")+"("+h.join(",")+")'"}return s+"='"+i+"$resolve."+c+"'"}).join(" "),s=o(r);return"<"+s+" "+u+"></"+s+">"},t}(),ti=function(t){return ei(Xt(t.bindToController)?t.bindToController:t.scope)},ei=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return zt(t)&&te(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},ri=function(){function t(e,r){this.stateRegistry=e,this.stateService=r,h(Ut(t.prototype),this,Ut(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return Xt(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),ni=function(t){return function(e,r){var i=e[t],o="onExit"===t?"from":"to";return i?function(t,e){var r=new fr(t.treeChanges(o)),n=pe(mi(r),{$state$:e,$transition$:t});return ae.$injector.invoke(i,this,n)}:void 0}},ii=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=Ut(t);h(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return ye(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=Xt(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,r){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),r&&this.$location.state(r),this.$location.url()},t.prototype._runtimeServices=function(t,e,r,n){var i=this;this.$location=e,this.$sniffer=r,t.$on("$locationChangeSuccess",function(t){return i._urlListeners.forEach(function(e){return e(t)})});var o=Ut(e),a=Ut(n);h(o,this,o,["replace","path","search","hash"]),h(o,this,o,["port","protocol","host"]),h(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t}(),oi=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!Kt(t))throw new Error("'rule' must be a function");var n=new Ir(function(){return t(ae.$injector,e._router.locationService)},f);return this._urlRouter.rule(n),this},t.prototype.otherwise=function(t){var e=this,r=this._urlRouter;if(Zt(t))r.otherwise(t);else{if(!Kt(t))throw new Error("'rule' must be a string or function");r.otherwise(function(){return t(ae.$injector,e._router.locationService)})}return this},t.prototype.when=function(e,r){return(te(r)||Kt(r))&&(r=t.injectableHandler(this._router,r)),this._urlRouter.when(e,r),this},t.injectableHandler=function(t,e){return function(r){return ae.$injector.invoke(e,null,{$match:r,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();Qn.module("ui.router.angular1",[]);var ai=Qn.module("ui.router.init",[]),ui=Qn.module("ui.router.util",["ng","ui.router.init"]),si=Qn.module("ui.router.router",["ui.router.util"]),ci=Qn.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),fi=Qn.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),li=(Qn.module("ui.router.compat",["ui.router"]),null);gt.$inject=["$locationProvider"];var hi=function(t){return["$uiRouterProvider",function(e){var r=e.router[t];return r.$get=function(){return r},r}]};wt.$inject=["$injector","$q","$uiRouter"];_t.$inject=["$rootScope"],ai.provider("$uiRouter",gt),si.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new oi(t)}]),ui.provider("$urlService",hi("urlService")),ui.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return li.urlMatcherFactory}]),ui.provider("$templateFactory",function(){return new Xn}),ci.provider("$stateRegistry",hi("stateRegistry")),ci.provider("$uiRouterGlobals",hi("globals")),ci.provider("$transitions",hi("transitionService")),ci.provider("$state",["$uiRouterProvider",function(){return pe(li.stateProvider,{$get:function(){return li.stateService}})}]),ci.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),fi.factory("$view",function(){return li.viewService}),fi.service("$trace",function(){return Ge}),fi.run(_t),ui.run(["$urlMatcherFactory",function(t){}]),ci.run(["$state",function(t){}]),si.run(["$urlRouter",function(t){}]),ai.run(wt);var vi,mi=function(t){return t.getTokens().filter(Zt).map(function(e){var r=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(r).async?r.promise:r.data]}).reduce(C,{})};vi=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function u(){var t=p();l&&l(),f&&(l=f.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var s,c=Rt(i),f=a[1]||a[0],l=null,h={},p=function(){return bt(r,i,h)},d=$t(o.uiSref);h.uiState=d.state,h.uiStateOpts=o.uiSrefOpts?n.$eval(o.uiSrefOpts):{},d.paramExpr&&(n.$watch(d.paramExpr,function(t){h.uiStateParams=pe({},t),u()},!0),h.uiStateParams=pe({},n.$eval(d.paramExpr))),u(),n.$on("$destroy",t.stateRegistry.onStatesChanged(u)),n.$on("$destroy",t.transitionService.onSuccess({},u)),c.clickable&&(s=Et(i,r,e,c,p),Ct(i,n,s,h.uiStateOpts))}}}];var yi;yi=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function u(){var t=d();h&&h(),f&&(h=f.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var s,c=Rt(i),f=a[1]||a[0],h=null,p={},d=function(){return bt(r,i,p)},v=["uiState","uiStateParams","uiStateOpts"],m=v.reduce(function(t,e){return t[e]=l,t},{});v.forEach(function(t){p[t]=o[t]?n.$eval(o[t]):null,o.$observe(t,function(e){m[t](),m[t]=n.$watch(e,function(e){p[t]=e,u()},!0)})}),u(),n.$on("$destroy",t.stateRegistry.onStatesChanged(u)),n.$on("$destroy",t.transitionService.onSuccess({},u)),c.clickable&&(s=Et(i,r,e,c,d),Ct(i,n,s,p.uiStateOpts))}}}];var gi;gi=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,r,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){function a(t){t.promise.then(s)}function u(e,r,n){var a={state:t.get(e,St(i))||{name:e},params:r,activeClass:n};return h.push(a),function(){ye(h)(a)}}function s(){var r=function(t){return t.split(/\s/).filter(f)},n=function(t){return t.map(function(t){return t.activeClass}).map(r).reduce(Ee,[])},o=n(h).concat(r(c)).reduce(Ce,[]),a=n(h.filter(function(e){return t.includes(e.state.name,e.params)})),s=!!h.filter(function(e){return t.is(e.state.name,e.params)}).length?r(c):[],l=a.concat(s).reduce(Ce,[]),p=o.filter(function(t){return!me(l,t)});e.$evalAsync(function(){l.forEach(function(t){return i.addClass(t)}),p.forEach(function(t){return i.removeClass(t)})})}var c,l,h=[];c=r(o.uiSrefActiveEq||"",!1)(e);try{l=e.$eval(o.uiSrefActive)}catch(t){}l=l||r(o.uiSrefActive||"",!1)(e),Xt(l)&&he(l,function(t,r){if(Zt(t)){var n=$t(t);u(n.state,e.$eval(n.paramExpr),r)}}),this.$$addStateInfo=function(t,e){if(!(Xt(l)&&h.length>0)){var r=u(t,e,l);return s(),r}},e.$on("$stateChangeSuccess",s),e.$on("$destroy",n.transitionService.onStart({},a)),n.globals.transition&&a(n.globals.transition),s()}]}}],Qn.module("ui.router.state").directive("uiSref",vi).directive("uiSrefActive",gi).directive("uiSrefActiveEq",gi).directive("uiState",yi),Pt.$inject=["$state"],kt.$inject=["$state"],Qn.module("ui.router.state").filter("isState",Pt).filter("includedByState",kt);var wi;wi=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,r,n,i){function o(t,r){return{enter:function(t,r,n){Qn.version.minor>2?e.enter(t,null,r).then(n):e.enter(t,null,r,n)},leave:function(t,r){Qn.version.minor>2?e.leave(t).then(r):e.leave(t,r)}}}var u={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},s={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,c,f){return function(e,c,l){function d(t){var n=e.$new(),o=i.defer(),a=i.defer(),u={$cfg:t,$uiView:E},s={$animEnter:o.promise,$animLeave:a.promise,$$animLeave:a};n.$emit("$viewContentLoading",R);var l=f(n,function(t){t.data("$uiViewAnim",s),t.data("$uiView",u),$.enter(t,c,function(){o.resolve(),y&&y.$emit("$viewContentAnimationEnded"),(zt(_)&&!_||e.$eval(_))&&r(t)}),function(){if(v&&(Ge.traceUIViewEvent("Removing (previous) el",v.data("$uiView")),v.remove(),v=null),y&&(Ge.traceUIViewEvent("Destroying scope",E),y.$destroy(),y=null),m){var t=m.data("$uiViewAnim");Ge.traceUIViewEvent("Animate out",t),$.leave(m,function(){t.$$animLeave.resolve(),v=null}),v=m,m=null}}()});m=l,(y=n).$emit("$viewContentLoaded",t||S),y.$eval(w)}var v,m,y,g,w=l.onload||"",_=l.autoscroll,$=o(),S=void 0,b=c.inheritedData("$uiView")||u,R=n(l.uiView||l.name||"")(e)||"$default",E={$type:"ng1",id:s.count++,name:R,fqn:b.$uiView.fqn?b.$uiView.fqn+"."+R:R,config:null,configUpdated:function(t){(!t||t instanceof Zn)&&(function(t,e){return t===e}(S,t)||(Ge.traceUIViewConfigUpdated(E,t&&t.viewDecl&&t.viewDecl.$context),S=t,d(t)))},get creationContext(){var t=At("$cfg.viewDecl.$context")(b),e=At("$uiView.creationContext")(b);return t||e}};Ge.traceUIViewEvent("Linking",E),c.data("$uiView",{$uiView:E}),d(),g=t.registerUIView(E),e.$on("$destroy",function(){Ge.traceUIViewEvent("Destroying/Unregistering",E),g()})}}};return s}],Ot.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var _i="function"==typeof Qn.module("ui.router").component,$i=0;Qn.module("ui.router.state").directive("uiView",wi),Qn.module("ui.router.state").directive("uiView",Ot),Qn.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,r){return t?e:function(t){return r(function(){t[0].scrollIntoView()},0,!1)}}]}),t.core=zn,t.default="ui.router",t.fromJson=ce,t.toJson=fe,t.copy=le,t.forEach=he,t.extend=pe,t.equals=de,t.identity=f,t.noop=l,t.createProxyFunctions=h,t.inherit=ve,t.inArray=me,t._inArray=p,t.removeFrom=ye,t._removeFrom=d,t.pushTo=ge,t._pushTo=v,t.deregAll=we,t.defaults=m,t.mergeR=_e,t.ancestors=y,t.pick=g,t.omit=w,t.pluck=_,t.filter=$,t.find=S,t.mapObj=$e,t.map=b,t.values=Se,t.allTrueR=be,t.anyTrueR=Re,t.unnestR=Ee,t.flattenR=Te,t.pushR=R,t.uniqR=Ce,t.unnest=Pe,t.flatten=ke,t.assertPredicate=Oe,t.assertMap=xe,t.assertFn=E,t.pairs=je,t.arrayTuples=T,t.applyPairs=C,t.tail=P,t._extend=x,t.sortBy=Ie,t.composeSort=Ve,t.silenceUncaughtInPromise=Ae,t.silentRejection=He,t.notImplemented=oe,t.services=ae,t.Glob=Lt,t.curry=r,t.compose=n,t.pipe=i,t.prop=It,t.propEq=Vt,t.parse=At,t.not=Ht,t.and=o,t.or=a,t.all=qt,t.any=Dt,t.is=Nt,t.eq=Ft,t.val=Ut,t.invoke=u,t.pattern=s,t.isUndefined=Wt,t.isDefined=zt,t.isNull=Jt,t.isNullOrUndefined=Qt,t.isFunction=Kt,t.isNumber=Yt,t.isString=Zt,t.isObject=Xt,t.isArray=te,t.isDate=ee,t.isRegExp=re,t.isState=ne,t.isInjectable=c,t.isPromise=ie,t.Queue=qe,t.maxLength=B,t.padString=G,t.kebobString=W,t.functionToString=z,t.fnToString=J,t.stringify=Q,t.beforeAfterSubstr=mr,t.splitOnDelim=K,t.joinNeighborsR=Y,t.Trace=Be,t.trace=Ge,t.Param=tr,t.ParamTypes=yr,t.StateParams=gr,t.ParamType=Ye,t.PathNode=er,t.PathUtils=rr,t.resolvePolicies=or,t.defaultResolvePolicy=nr,t.Resolvable=ir,t.NATIVE_INJECTOR_TOKEN=cr,t.ResolveContext=fr,t.resolvablesBuilder=nt,t.StateBuilder=br,t.StateObject=Mt,t.StateMatcher=Rr,t.StateQueueManager=Er,t.StateRegistry=Tr,t.StateService=Sn,t.TargetState=We,t.HookBuilder=Ke,t.matchState=H,t.RegisteredHook=Qe,t.makeEvent=q,t.Rejection=Ne,t.Transition=pr,t.TransitionHook=Je,t.TransitionEventType=yn,t.defaultTransOpts=_n,t.TransitionService=$n,t.UrlMatcher=kr,t.UrlMatcherFactory=Or,t.UrlRouter=Ar,t.UrlRuleFactory=xr,t.BaseUrlRule=Ir,t.UrlService=Br,t.ViewService=Hr,t.UIRouterGlobals=qr,t.UIRouter=Wr,t.$q=bn,t.$injector=En,t.BaseLocationServices=Vn,t.HashLocationService=Hn,t.MemoryLocationService=Dn,t.PushStateLocationService=Fn,t.MemoryLocationConfig=Un,t.BrowserLocationConfig=Ln,t.splitHash=Cn,t.splitQuery=Pn,t.splitEqual=kn,t.trimHashVal=On,t.keyValsToObjectR=xn,t.getParams=jn,t.parseUrl=ht,t.buildUrl=In,t.locationPluginFactory=pt,t.servicesPlugin=dt,t.hashLocationPlugin=Mn,t.pushStateLocationPlugin=Bn,t.memoryLocationPlugin=Gn,t.UIRouterPluginBase=Wn,t.watchDigests=_t,t.getLocals=mi,t.getNg1ViewConfigFactory=vt,t.ng1ViewsBuilder=mt,t.Ng1ViewConfig=Zn,t.StateProvider=ri,t.UrlRouterProvider=oi,Object.defineProperty(t,"__esModule",{value:!0})}),function(e,n){"use strict";var r=["ng","oc.lazyLoad"],o={},t=[],i=[],a=[],s=[],u=e.noop,c={},d=[];e.module("oc.lazyLoad",["ng"]).provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(l,f,p,m,v,y){function L(n,o,t){if(o){var i,s,l,f=[];for(i=o.length-1;i>=0;i--)if(s=o[i],e.isString(s)||(s=E(s)),s&&-1===d.indexOf(s)&&(!w[s]||-1!==a.indexOf(s))){var h=-1===r.indexOf(s);if(l=g(s),h&&(r.push(s),L(n,l.requires,t)),l._runBlocks.length>0)for(c[s]=[];l._runBlocks.length>0;)c[s].push(l._runBlocks.shift());e.isDefined(c[s])&&(h||t.rerun)&&(f=f.concat(c[s])),j(n,l._invokeQueue,s,t.reconfig),j(n,l._configBlocks,s,t.reconfig),u(h?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",s),o.pop(),d.push(s)}var p=n.getInstanceInjector();e.forEach(f,function(e){p.invoke(e)})}}function $(n,r){function t(n,r){var o,t=!0;return r.length&&(o=i(n),e.forEach(r,function(e){t=t&&i(e)!==o})),t}function i(n){return e.isArray(n)?M(n.toString()):e.isObject(n)?M(S(n)):e.isDefined(n)&&null!==n?M(n.toString()):n}var a=n[2][0],s=n[1],c=!1;e.isUndefined(o[r])&&(o[r]={}),e.isUndefined(o[r][s])&&(o[r][s]={});var d=function(e,n){o[r][s].hasOwnProperty(e)||(o[r][s][e]=[]),t(n,o[r][s][e])&&(c=!0,o[r][s][e].push(n),u("ocLazyLoad.componentLoaded",[r,s,e]))};if(e.isString(a))d(a,n[2][1]);else{if(!e.isObject(a))return!1;e.forEach(a,function(n,r){e.isString(n)?d(n,a[1]):d(r,n)})}return c}function j(n,r,o,i){if(r){var a,s,u,c;for(a=0,s=r.length;s>a;a++)if(u=r[a],e.isArray(u)){if(null!==n){if(!n.hasOwnProperty(u[0]))throw new Error("unsupported provider "+u[0]);c=n[u[0]]}var d=$(u,o);if("invoke"!==u[1])d&&e.isDefined(c)&&c[u[1]].apply(c,u[2]);else{var l=function(n){var r=t.indexOf(o+"-"+n);(-1===r||i)&&(-1===r&&t.push(o+"-"+n),e.isDefined(c)&&c[u[1]].apply(c,u[2]))};if(e.isFunction(u[2][0]))l(u[2][0]);else if(e.isArray(u[2][0]))for(var f=0,h=u[2][0].length;h>f;f++)e.isFunction(u[2][0][f])&&l(u[2][0][f])}}}}function E(n){var r=null;return e.isString(n)?r=n:e.isObject(n)&&n.hasOwnProperty("name")&&e.isString(n.name)&&(r=n.name),r}function _(n){if(!e.isString(n))return!1;try{return g(n)}catch(r){if(/No module/.test(r)||r.message.indexOf("$injector:nomod")>-1)return!1}}var w={},O={$controllerProvider:l,$compileProvider:p,$filterProvider:m,$provide:f,$injector:v,$animateProvider:y},x=!1,b=!1,z=[],D={};z.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(n){e.isDefined(n.modules)&&(e.isArray(n.modules)?e.forEach(n.modules,function(e){w[e.name]=e}):w[n.modules.name]=n.modules),e.isDefined(n.debug)&&(x=n.debug),e.isDefined(n.events)&&(b=n.events)},this._init=function(o){if(0===i.length){var t=[o],a=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,c=function(e){return e&&t.push(e)};e.forEach(a,function(n){a[n]=!0,c(document.getElementById(n)),n=n.replace(":","\\:"),void 0!==o[0]&&o[0].querySelectorAll&&(e.forEach(o[0].querySelectorAll("."+n),c),e.forEach(o[0].querySelectorAll("."+n+"\\:"),c),e.forEach(o[0].querySelectorAll("["+n+"]"),c))}),e.forEach(t,function(n){if(0===i.length){var r=" "+o.className+" ",t=u.exec(r);t?i.push((t[2]||"").replace(/\s+/g,",")):e.forEach(n.attributes,function(e){0===i.length&&a[e.name]&&i.push(e.value)})}})}0!==i.length||(n.jasmine||n.mocha)&&e.isDefined(e.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");var d=function l(n){if(-1===r.indexOf(n)){r.push(n);var o=e.module(n);j(null,o._invokeQueue,n),j(null,o._configBlocks,n),e.forEach(o.requires,l)}};e.forEach(i,function(e){d(e)}),i=[],s.pop()};var S=function(n){try{return JSON.stringify(n)}catch(r){var o=[];return JSON.stringify(n,function(n,r){if(e.isObject(r)&&null!==r){if(-1!==o.indexOf(r))return;o.push(r)}return r})}},M=function(e){var n,r,o,t=0;if(0==e.length)return t;for(n=0,o=e.length;o>n;n++)r=e.charCodeAt(n),t=(t<<5)-t+r,t|=0;return t};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(n,t,a,c,l){function f(e){var r=l.defer();return n.error(e.message),r.reject(e),r.promise}var p,m=c("ocLazyLoad");return x||(n={},n.error=e.noop,n.warn=e.noop,n.info=e.noop),O.getInstanceInjector=function(){return p||(p=t.data("$injector")||e.injector())},u=function(e,r){b&&a.$broadcast(e,r),x&&n.info(e,r)},{_broadcast:u,_$log:n,_getFilesCache:function(){return m},toggleWatch:function(e){e?s.push(!0):s.pop()},getModuleConfig:function(n){if(!e.isString(n))throw new Error("You need to give the name of the module to get");return w[n]?e.copy(w[n]):null},setModuleConfig:function(n){if(!e.isObject(n))throw new Error("You need to give the module config object to set");return w[n.name]=n,n},getModules:function(){return r},isLoaded:function(n){var o=function(e){var n=r.indexOf(e)>-1;return n||(n=!!_(e)),n};if(e.isString(n)&&(n=[n]),e.isArray(n)){var t,i;for(t=0,i=n.length;i>t;t++)if(!o(n[t]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:E,_getModule:function(e){try{return g(e)}catch(n){throw(/No module/.test(n)||n.message.indexOf("$injector:nomod")>-1)&&(n.message='The module "'+S(e)+'" that you are trying to load does not exist. '+n.message),n}},moduleExists:_,_loadDependencies:function(n,r){var o,t,i,a=[],s=this;if(null===(n=s._getModuleName(n)))return l.when();try{o=s._getModule(n)}catch(u){return f(u)}return t=s.getRequires(o),e.forEach(t,function(o){if(e.isString(o)){var t=s.getModuleConfig(o);if(null===t)return void z.push(o);o=t,t.name=void 0}if(s.moduleExists(o.name))return 0!==(i=o.files.filter(function(e){return s.getModuleConfig(o.name).files.indexOf(e)<0})).length&&s._$log.warn('Module "',n,'" attempted to redefine configuration for dependency. "',o.name,'"\n Additional Files Loaded:',i),e.isDefined(s.filesLoader)?void a.push(s.filesLoader(o,r).then(function(){return s._loadDependencies(o)})):f(new Error("Error: New dependencies need to be loaded from external files ("+o.files+"), but no loader has been defined."));if(e.isArray(o)){var u=[];e.forEach(o,function(e){var n=s.getModuleConfig(e);null===n?u.push(e):n.files&&(u=u.concat(n.files))}),u.length>0&&(o={files:u})}else e.isObject(o)&&o.hasOwnProperty("name")&&o.name&&(s.setModuleConfig(o),z.push(o.name));if(e.isDefined(o.files)&&0!==o.files.length){if(!e.isDefined(s.filesLoader))return f(new Error('Error: the module "'+o.name+'" is defined in external files ('+o.files+"), but no loader has been defined."));a.push(s.filesLoader(o,r).then(function(){return s._loadDependencies(o)}))}}),l.all(a)},inject:function(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],t=this,a=l.defer();if(e.isDefined(n)&&null!==n){if(e.isArray(n)){var s=[];return e.forEach(n,function(e){s.push(t.inject(e,r,o))}),l.all(s)}t._addToLoadList(t._getModuleName(n),!0,o)}if(i.length>0){var u=i.slice();!function f(e){z.push(e),D[e]=a.promise,t._loadDependencies(e,r).then(function(){try{d=[],L(O,z,r)}catch(e){return t._$log.error(e.message),void a.reject(e)}i.length>0?f(i.shift()):a.resolve(u)},function(e){a.reject(e)})}(i.shift())}else{if(r&&r.name&&D[r.name])return D[r.name];a.resolve()}return a.promise},getRequires:function(n){var o=[];return e.forEach(n.requires,function(e){-1===r.indexOf(e)&&o.push(e)}),o},_invokeQueue:j,_registerInvokeList:$,_register:L,_addToLoadList:h,_unregister:function(n){e.isDefined(n)&&e.isArray(n)&&e.forEach(n,function(e){o[e]=void 0})}}}],this._init(e.element(n.document))}]);var f=e.bootstrap;e.bootstrap=function(n,l,g){return r=["ng","oc.lazyLoad"],o={},t=[],i=[],a=[],s=[],u=e.noop,c={},d=[],e.forEach(l.slice(),function(e){h(e,!0,!0)}),f(n,l,g)};var h=function(n,r,o){(s.length>0||r)&&e.isString(n)&&-1===i.indexOf(n)&&(i.push(n),o&&a.push(n))},g=e.module;e.module=function(e,n,r){return h(e,!1,!0),g(e,n,r)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(n,r,o,t,i){return{restrict:"A",terminal:!0,priority:1e3,compile:function(i,a){var s=i[0].innerHTML;return i.html(""),function(i,a,u){var c=t(u.ocLazyLoad);i.$watch(function(){return c(i)||u.ocLazyLoad},function(t){e.isDefined(t)&&n.load(t).then(function(){o.enter(s,a),r(a.contents())(i)})},!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(n,r,o,t){var a=!1,s=o.document.getElementsByTagName("head")[0]||o.document.getElementsByTagName("body")[0];return n.buildElement=function(u,c,d){var l,f,h=r.defer(),g=n._getFilesCache(),p=function(e){var n=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+n:e+"&_dc="+n:e+"?_dc="+n};switch(e.isUndefined(g.get(c))&&g.put(c,h.promise),u){case"css":(l=o.document.createElement("link")).type="text/css",l.rel="stylesheet",l.href=!1===d.cache?p(c):c;break;case"js":(l=o.document.createElement("script")).src=!1===d.cache?p(c):c;break;default:g.remove(c),h.reject(new Error('Requested type "'+u+'" is not known. Could not inject "'+c+'"'))}l.onload=l.onreadystatechange=function(e){l.readyState&&!/^c|loade/.test(l.readyState)||f||(l.onload=l.onreadystatechange=null,f=1,n._broadcast("ocLazyLoad.fileLoaded",c),h.resolve(l))},l.onerror=function(){g.remove(c),h.reject(new Error("Unable to load "+c))},l.async=d.serie?0:1;var m=s.lastChild;if(d.insertBefore){var v=e.element(e.isDefined(window.jQuery)?d.insertBefore:document.querySelector(d.insertBefore));v&&v.length>0&&(m=v[0])}if(m.parentNode.insertBefore(l,m),"css"==u){var y=o.navigator.userAgent.toLowerCase();if(y.indexOf("phantomjs/1.9")>-1)a=!0;else if(/iP(hone|od|ad)/.test(o.navigator.platform)){var L=o.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),$=parseFloat([parseInt(L[1],10),parseInt(L[2],10),parseInt(L[3]||0,10)].join("."));a=6>$}else if(y.indexOf("android")>-1){var j=parseFloat(y.slice(y.indexOf("android")+8));a=4.4>j}else if(y.indexOf("safari")>-1){var E=y.match(/version\/([\.\d]+)/i);a=E&&E[1]&&parseFloat(E[1])<6}if(a)var _=1e3,w=t(function(){try{l.sheet.cssRules,t.cancel(w),l.onload()}catch(e){--_<=0&&l.onerror()}},20)}return h.promise},n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.filesLoader=function(o){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=[],a=[],s=[],u=[],c=null,d=n._getFilesCache();n.toggleWatch(!0),e.extend(t,o);var l=function(r){var o,l=null;if(e.isObject(r)&&(l=r.type,r=r.path),c=d.get(r),e.isUndefined(c)||!1===t.cache){if(null!==(o=/^(css|less|html|htm|js)?(?=!)/.exec(r))&&(l=o[1],r=r.substr(o[1].length+1,r.length)),!l)if(null!==(o=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(r)))l=o[1];else{if(n.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!n.jsLoader.hasOwnProperty("requirejs"))return void n._$log.error("File type could not be determined. "+r);l="js"}"css"!==l&&"less"!==l||-1!==i.indexOf(r)?"html"!==l&&"htm"!==l||-1!==a.indexOf(r)?"js"===l||-1===s.indexOf(r)?s.push(r):n._$log.error("File type is not valid. "+r):a.push(r):i.push(r)}else c&&u.push(c)};if(t.serie?l(t.files.shift()):e.forEach(t.files,function(e){l(e)}),i.length>0){var f=r.defer();n.cssLoader(i,function(r){e.isDefined(r)&&n.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(n._$log.error(r),f.reject(r)):f.resolve()},t),u.push(f.promise)}if(a.length>0){var h=r.defer();n.templatesLoader(a,function(r){e.isDefined(r)&&n.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(n._$log.error(r),h.reject(r)):h.resolve()},t),u.push(h.promise)}if(s.length>0){var g=r.defer();n.jsLoader(s,function(r){e.isDefined(r)&&(n.jsLoader.hasOwnProperty("ocLazyLoadLoader")||n.jsLoader.hasOwnProperty("requirejs"))?(n._$log.error(r),g.reject(r)):g.resolve()},t),u.push(g.promise)}if(0===u.length){var p=r.defer(),m="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return n._$log.error(m),p.reject(m),p.promise}return t.serie&&t.files.length>0?r.all(u).then(function(){return n.filesLoader(o,t)}):r.all(u).finally(function(e){return n.toggleWatch(!1),e})},n.load=function(o){var t,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=this,s=null,u=[],c=r.defer(),d=e.copy(o),l=e.copy(i);if(e.isArray(d))return e.forEach(d,function(e){u.push(a.load(e,l))}),r.all(u).then(function(e){c.resolve(e)},function(e){c.reject(e)}),c.promise;if(e.isString(d)?(s=a.getModuleConfig(d))||(s={files:[d]}):e.isObject(d)&&(s=e.isDefined(d.path)&&e.isDefined(d.type)?{files:[d]}:a.setModuleConfig(d)),null===s){return t='Module "'+(a._getModuleName(d)||"unknown")+'" is not configured, cannot load.',n._$log.error(t),c.reject(new Error(t)),c.promise}e.isDefined(s.template)&&(e.isUndefined(s.files)&&(s.files=[]),e.isString(s.template)?s.files.push(s.template):e.isArray(s.template)&&s.files.concat(s.template));var h=e.extend({},l,s);return e.isUndefined(s.files)&&e.isDefined(s.name)&&n.moduleExists(s.name)?n.inject(s.name,h,!0):(n.filesLoader(s,h).then(function(){n.inject(null,h).then(function(e){c.resolve(e)},function(e){c.reject(e)})},function(e){c.reject(e)}),c.promise)},n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.cssLoader=function(o,t,i){var a=[];e.forEach(o,function(e){a.push(n.buildElement("css",e,i))}),r.all(a).then(function(){t()},function(e){t(e)})},n.cssLoader.ocLazyLoadLoader=!0,n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.jsLoader=function(o,t,i){var a=[];e.forEach(o,function(e){a.push(n.buildElement("js",e,i))}),r.all(a).then(function(){t()},function(e){t(e)})},n.jsLoader.ocLazyLoadLoader=!0,n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(n,r,o,t){return n.templatesLoader=function(i,a,s){var u=[],c=n._getFilesCache();return e.forEach(i,function(n){var i=o.defer();u.push(i.promise),t.get(n,s).then(function(o){var t=o.data;e.isString(t)&&t.length>0&&e.forEach(e.element(t),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&r.put(e.id,e.innerHTML)}),e.isUndefined(c.get(n))&&c.put(n,!0),i.resolve()}).catch(function(e){i.reject(new Error('Unable to load template file "'+n+'": '+e.data))})}),o.all(u).then(function(){a()},function(e){a(e)})},n.templatesLoader.ocLazyLoadLoader=!0,n}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,n){var r;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),t=o.length>>>0;if(0===t)return-1;var i=+n||0;if(Math.abs(i)===1/0&&(i=0),i>=t)return-1;for(r=Math.max(i>=0?i:t-Math.abs(i),0);t>r;){if(r in o&&o[r]===e)return r;r++}return-1}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function i(a){return r?{width:a.scrollWidth+"px"}:{height:a.scrollHeight+"px"}}function j(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(n(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:i(f[0])}).start().finally(k):a.addClass(f,"in",{css:{overflow:"hidden"},to:i(f[0])}).then(k)},angular.noop)}function k(){f.removeClass("collapsing").addClass("collapse").css(s),o(d)}function l(){return f.hasClass("collapse")||f.hasClass("in")?void b.resolve(p(d)).then(function(){f.css(i(f[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:t}).start().finally(m):a.removeClass(f,"in",{to:t}).then(m)},angular.noop):m()}function m(){f.css(t),f.removeClass("collapsing").addClass("collapse"),q(d)}var n=c(g.expanding),o=c(g.expanded),p=c(g.collapsing),q=c(g.collapsed),r=!1,s={},t={};(r=!!("horizontal"in g))?(s={width:""},t={width:"0"}):(s={height:""},t={height:"0"}),d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(s),d.$watch(g.uibCollapse,function(a){a?l():j()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(a,b,c){c.$observe("disabled",function(a){c.$set("tabindex",a?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){(angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers)&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){b.addClass("panel"),d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(b,c,d,e){b.$watch(function(){return e[d.uibAccordionTransclude]},function(b){if(b){var d=angular.element(c[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));d.html(""),d.append(b)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(a,b,c,d,e){a.closeable=!!c.close,b.addClass("alert"),c.$set("role","alert"),a.closeable&&b.addClass("alert-dismissible");var f=angular.isDefined(c.dismissOnTimeout)?d(c.dismissOnTimeout)(a.$parent):null;f&&e(function(){a.close()},parseInt(f,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);a&&!angular.isDefined(d.uncheckable)||b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?g(c.btnCheckboxFalse,!1):e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(a){for(var b=0;b<p.length;b++)p[b].slide.active=b===a}function g(c,d,g){if(!s){if(angular.extend(c,{direction:g}),angular.extend(p[r].slide||{},{direction:g}),e.enabled(b)&&!a.$currentTransition&&p[d].element&&o.slides.length>1){p[d].element.data(q,c.direction);var h=o.getCurrentIndex();angular.isNumber(h)&&p[h].element&&p[h].element.data(q,c.direction),a.$currentTransition=!0,e.on("addClass",p[d].element,function(b,c){"close"===c&&(a.$currentTransition=null,e.off("addClass",b))})}a.active=c.index,r=c.index,f(d),k()}}function h(a){for(var b=0;b<p.length;b++)if(p[b].slide===a)return b}function i(){m&&(c.cancel(m),m=null)}function k(){i();var b=+a.interval;!isNaN(b)&&b>0&&(m=c(l,b))}function l(){var b=+a.interval;n&&!isNaN(b)&&b>0&&p.length?a.next():a.pause()}var m,n,o=this,p=o.slides=a.slides=[],q="uib-slideDirection",r=a.active,s=!1;b.addClass("carousel"),o.addSlide=function(b,c){p.push({slide:b,element:c}),p.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===p.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),r=b.index,a.active=b.index,f(r),o.select(p[h(b)]),1===p.length&&a.play())},o.getCurrentIndex=function(){for(var a=0;a<p.length;a++)if(p[a].slide.index===r)return a},o.next=a.next=function(){var b=(o.getCurrentIndex()+1)%p.length;return 0===b&&a.noWrap()?void a.pause():o.select(p[b],"next")},o.prev=a.prev=function(){var b=o.getCurrentIndex()-1<0?p.length-1:o.getCurrentIndex()-1;return a.noWrap()&&b===p.length-1?void a.pause():o.select(p[b],"prev")},o.removeSlide=function(b){var c=h(b);p.splice(c,1),p.length>0&&r===c?c>=p.length?(r=p.length-1,a.active=r,f(r),o.select(p[p.length-1])):(r=c,a.active=r,f(r),o.select(p[c])):r>c&&(r--,a.active=r),0===p.length&&(r=null,a.active=null)},o.select=a.select=function(b,c){var d=h(b.slide);void 0===c&&(c=d>o.getCurrentIndex()?"next":"prev"),b.slide.index===r||a.$currentTransition||g(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===p.length-1&&a.noWrap()},a.pause=function(){a.noPause||(n=!1,i())},a.play=function(){n||(n=!0,k())},b.on("mouseenter",a.pause),b.on("mouseleave",a.play),a.$on("$destroy",function(){s=!0,i()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",k),a.$watchCollection("slides",function(b){b.length||(a.$currentTransition=null)}),a.$watch("active",function(a){if(angular.isNumber(a)&&r!==a){for(var b=0;b<p.length;b++)if(p[b].slide.index===a){a=b;break}p[a]&&(f(a),o.select(p[a]),r=a)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(a){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(b,c,d,e){c.addClass("item"),e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(b){a[b?"addClass":"removeClass"](c,"active")})}}}]).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c="uib-slideDirection";return{beforeAddClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i+" "+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if("active"===e){var g=!1,i="next"===d.data(c)?"left":"right",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(a,b,c,d,e){function f(a){return e(s,{key:a},!0)[0]}function g(a){var b=[],c=a.split(""),e=a.indexOf("'");if(e>-1){var f=!1;a=a.split("");for(var g=e;g<a.length;g++)f?("'"===a[g]&&(g+1<a.length&&"'"===a[g+1]?(a[g+1]="$",c[g+1]=""):(c[g]="",f=!1)),a[g]="$"):"'"===a[g]&&(a[g]="$",c[g]="",f=!0);a=a.join("")}return angular.forEach(s,function(d){var e=a.indexOf(d.key);if(e>-1){a=a.split(""),c[e]="("+d.regex+")",a[e]="$";for(var f=e+1,g=e+d.key.length;g>f;f++)c[f]="",a[f]="$";a=a.join(""),b.push({index:e,key:d.key,apply:d.apply,matcher:d.regex})}}),{regex:new RegExp("^"+c.join("")+"$"),map:d(b,"index")}}function j(a,b){for(var c=a.substr(b),d=0;d<s.length;d++)if(new RegExp("^"+s[d].key).test(c)){var e=s[d];return{endIdx:b+e.key.length,parser:e.formatter}}return{endIdx:b+1,parser:function(){return c.charAt(0)}}}function l(a){return parseInt(a,10)}function o(a,b){a=a.replace(/:/g,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function p(a,b){return(a=new Date(a.getTime())).setMinutes(a.getMinutes()+b),a}function q(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset();return p(a,c*(o(b,d)-d))}var r,s,t=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){r=b.id,this.parsers={},this.formatters={},s=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){a=+a,this.year=69>a?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){var b=a.getMonth();return/^[0-9]$/.test(b)?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){var b=a.getDate();return/^[1-9]$/.test(b)?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=l(c+d),this.minutes+=l(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(a){return c(a,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"G")}}],angular.version.major>=1&&angular.version.minor>4&&s.push({key:"LLLL",regex:b.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.STANDALONEMONTH.indexOf(a)},formatter:function(a){return c(a,"LLLL")}})},this.init(),this.getParser=function(a){var b=f(a);return b&&b.apply||null},this.overrideParser=function(a,b){var c=f(a);c&&angular.isFunction(b)&&(this.parsers={},c.apply=b)}.bind(this),this.filter=function(a,c){if(!angular.isDate(a)||isNaN(a)||!c)return"";c=b.DATETIME_FORMATS[c]||c,b.id!==r&&this.init(),this.formatters[c]||(this.formatters[c]=function(a){for(var b,c,d=[],e=0;e<a.length;)if(angular.isNumber(c)){if("'"===a.charAt(e))(e+1>=a.length||"'"!==a.charAt(e+1))&&(d.push(function(a,b,c){return function(){return a.substr(b+1,c-b-1)}}(a,c,e)),c=null);else if(e===a.length)for(;c<a.length;)b=j(a,c),d.push(b),c=b.endIdx;e++}else"'"!==a.charAt(e)?(b=j(a,e),d.push(b.parser),e=b.endIdx):(c=e,e++);return d}(c));return this.formatters[c].reduce(function(b,c){return b+c(a)},"")},this.parse=function(c,d,e){if(!angular.isString(c)||!d)return c;d=(d=b.DATETIME_FORMATS[d]||d).replace(t,"\\$&"),b.id!==r&&this.init(),this.parsers[d]||(this.parsers[d]=g(d));var f=this.parsers[d],h=f.regex,i=f.map,j=c.match(h),l=!1;if(j&&j.length){var m,n;angular.isDate(e)&&!isNaN(e.getTime())?m={year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}:(e&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=j.length;p>o;o++){var q=i[o-1];"Z"===q.matcher&&(l=!0),q.apply&&q.apply.call(m,j[o])}var s=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return function(a,b,c){return!(1>c)&&(1===b&&c>28?29===c&&(a%4==0&&a%100!=0||a%400==0):3!==b&&5!==b&&8!==b&&10!==b||31>c)}(m.year,m.month,m.date)&&(!angular.isDate(e)||isNaN(e.getTime())||l?(n=new Date(0),s.call(n,m.year,m.month,m.date),u.call(n,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(n=new Date(e),s.call(n,m.year,m.month,m.date),u.call(n,m.hours,m.minutes,m.seconds,m.milliseconds))),n}},this.toTimezone=function(a,b){return a&&b?q(a,b):a},this.fromTimezone=function(a,b){return a&&b?q(a,b,!0):a},this.timezoneToOffset=o,this.addDateMinutes=p,this.convertTimezoneToLocal=q}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(d,e){function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){return a.scope.$eval(m)===b?(c=a,!0):void 0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],o=l[1].split(",");return function(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}var o=this,p={$setViewValue:angular.noop},q={},r=[];b.addClass("uib-datepicker"),c.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:i.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":o[b]=angular.isDefined(a.datepickerOptions[b])?e(a.datepickerOptions[b])(a.$parent):i[b];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":o[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:i[b];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?o.startingDay=a.datepickerOptions.startingDay:angular.isNumber(i.startingDay)?o.startingDay=i.startingDay:o.startingDay=(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+b,function(a){a?angular.isDate(a)?o[b]=l.fromTimezone(new Date(a),q.getOption("timezone")):(j&&g.warn("Literal date support has been deprecated, please switch to date object usage"),o[b]=new Date(h(a,"medium"))):o[b]=i[b]?l.fromTimezone(new Date(i[b]),q.getOption("timezone")):null,o.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){o[b]=a[b]=angular.isDefined(c)?c:a.datepickerOptions[b],("minMode"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)<o.modes.indexOf(o[b])||"maxMode"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)>o.modes.indexOf(o[b]))&&(a.datepickerMode=o[b],a.datepickerOptions.datepickerMode=o[b])}):o[b]=a[b]=i[b]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(c.disabled)||!1,angular.isDefined(c.ngDisabled)&&r.push(a.$parent.$watch(c.ngDisabled,function(b){a.disabled=b,o.refreshView()})),a.isActive=function(b){return 0===o.compare(b.date,o.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(b){q=function(b){var c;if(angular.version.minor<6)c=b.$options||a.datepickerOptions.ngModelOptions||i.ngModelOptions||{},c.getOption=function(a){return c[a]};else{var d=b.$options.getOption("timezone")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(i.ngModelOptions?i.ngModelOptions.timezone:null);c=b.$options.createChild(i.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(b.$options).createChild({timezone:d})}return c}(p=b),a.datepickerOptions.initDate?(o.activeDate=l.fromTimezone(a.datepickerOptions.initDate,q.getOption("timezone"))||new Date,a.$watch("datepickerOptions.initDate",function(a){a&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(o.activeDate=l.fromTimezone(a,q.getOption("timezone")),o.refreshView())})):o.activeDate=new Date;var c=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(c)?l.fromTimezone(new Date,q.getOption("timezone")):l.fromTimezone(c,q.getOption("timezone")),p.$render=function(){o.render()}},this.render=function(){if(p.$viewValue){var a=new Date(p.$viewValue);!isNaN(a)?this.activeDate=l.fromTimezone(a,q.getOption("timezone")):k||g.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=p.$viewValue?new Date(p.$viewValue):null;b=l.fromTimezone(b,q.getOption("timezone")),p.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=p.$viewValue?new Date(p.$viewValue):null;d=l.fromTimezone(d,q.getOption("timezone"));var e=new Date;e=l.fromTimezone(e,q.getOption("timezone"));var f=this.compare(b,e),g={date:b,label:l.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:0>f,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),o.activeDate&&0===this.compare(g.date,o.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===o.minMode){var c=p.$viewValue?l.fromTimezone(new Date(p.$viewValue),q.getOption("timezone")):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=l.toTimezone(c,q.getOption("timezone")),p.$setViewValue(c),p.$render()}else o.activeDate=b,m(o.modes[o.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(a){var b=o.activeDate.getFullYear()+a*(o.step.years||0),c=o.activeDate.getMonth()+a*(o.step.months||0);o.activeDate.setFullYear(b,c,1),o.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===o.maxMode&&1===b||a.datepickerMode===o.minMode&&-1===b||(m(o.modes[o.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};a.$on("uib:datepicker.focus",function(){o.element[0].focus()}),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),o.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(o.isDisabled(o.activeDate))return;a.select(o.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(o.handleKeyDown(c,b),o.refreshView()):a.toggleMode("up"===c?1:-1)},b.on("keydown",function(b){a.$apply(function(){a.keydown(b)})}),a.$on("$destroy",function(){for(;r.length;)r.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!=0||a%100==0&&a%400!=0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(1-h);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)(b=new Date(this.activeDate)).setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,this.monthColumns),a.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=this.monthColumns;else if("right"===a)c+=1;else if("down"===a)c+=this.monthColumns;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());f>g;g++)(b=new Date(this.activeDate)).setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibYearpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d,e_normal=/(auto|scroll)/,e_hidden=/(auto|scroll|hidden)/,f={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){function d(a){return"static"===(b.getComputedStyle(a).position||"static")}for(var e=(c=this.getRawNode(c)).offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&d(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find("body");f.addClass("uib-position-body-scrollbar-measure"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass("uib-position-body-scrollbar-measure")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e_hidden:e_normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e_hidden:e_normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j="absolute"===i.position,k=c.parentElement||h;if(k===h||"fixed"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&"static"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){var d=(c=this.getRawNode(c)).getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){e=!1!==e;var f=(c=this.getRawNode(c)).getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,"")),a=a.split("-"),a[0]=a[0]||"top",f.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",f.secondary.test(a[1])||(a[1]="center"),a[2]=!!b,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m_width=g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),m_height=h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)));if(d[0]="top"===d[0]&&m_height>k.top&&m_height<=k.bottom?"bottom":"bottom"===d[0]&&m_height>k.bottom&&m_height<=k.top?"top":"left"===d[0]&&m_width>k.left&&m_width<=k.right?"right":"right"===d[0]&&m_width>k.right&&m_width<=k.left?"left":d[0],d[1]="top"===d[1]&&m_height-i.height>k.bottom&&m_height-i.height<=k.top?"bottom":"bottom"===d[1]&&m_height-i.height>k.top&&m_height-i.height<=k.bottom?"top":"left"===d[1]&&m_width-i.width>k.right&&m_width-i.width<=k.left?"right":"right"===d[1]&&m_width-i.width>k.left&&m_width-i.width<=k.right?"left":d[1],"center"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m_width-i.width<=k.right?d[1]="left":k.right+n<0&&m_width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m_height/2;k.top+o<0&&m_height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m_height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},adjustTop:function(a,b,c,d){return-1!==a.indexOf("top")&&c!==d?{top:b.top-d+"px"}:void 0},positionArrow:function(a,c){var d=(a=this.getRawNode(a)).querySelector(".tooltip-inner, .popover-inner");if(d){var e=angular.element(d).hasClass("tooltip-inner"),g=e?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if("center"===(c=this.parsePlacement(c))[1])return void angular.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";k+=f.vertical.test(c[0])?c[0]+"-"+c[1]:c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case"top":h.bottom=e?"0":"-"+j;break;case"bottom":h.top=e?"0":"-"+j;break;case"left":h.right=e?"0":"-"+j;break;case"right":h.left=e?"0":"-"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,x,a.date);if(isNaN(c))for(var d=0;d<J.length;d++)if(c=l.parse(b,J[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.toTimezone(b,H.getOption("timezone"))}return H.getOption("allowInvalid")?a:void 0}function s(a,b){var d=a||b;return!c.ngRequired&&!d||(angular.isNumber(d)&&(d=new Date(d)),!d||(!(!angular.isDate(d)||isNaN(d))||!!angular.isString(d)&&!isNaN(q(d))))}function t(c){if(a.isOpen||!a.disabled){var d=I[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(I[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,z);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}var x,y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=[];this.init=function(e){if(G=e,H=function(a){var b;return angular.version.minor<6?(b=angular.isObject(a.$options)?a.$options:{timezone:null},b.getOption=function(a){return b[a]}):b=a.$options,b}(G),y=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,z=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,A=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,B=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,C=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,J=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(x=m.html5Types[c.type],K=!0):(x=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==x&&(x=c,G.$modelValue=null,!x))throw new Error("uibDatepickerPopup must have a date format specified.")})),!x)throw new Error("uibDatepickerPopup must have a date format specified.");if(K&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":B}),(E=angular.element(D.children()[0])).attr("template-url",C),a.datepickerOptions||(a.datepickerOptions={}),K&&"month"===c.type&&(a.datepickerOptions.datepickerMode="month",a.datepickerOptions.minMode="month"),E.attr("datepicker-options","datepickerOptions"),K?G.$formatters.push(function(b){return a.date=l.fromTimezone(b,H.getOption("timezone")),b}):(G.$$parserName="date",G.$validators.date=s,G.$parsers.unshift(r),G.$formatters.push(function(b){return G.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,H.getOption("timezone")),l.filter(a.date,x))})),G.$viewChangeListeners.push(function(){a.date=q(G.$viewValue)}),b.on("keydown",u),I=d(D)(a),D.remove(),z?h.find("body").append(I):b.after(I),a.$on("$destroy",function(){for(!0===a.isOpen&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),I.remove(),b.off("keydown",u),h.off("click",t),F&&F.off("scroll",v),angular.element(g).off("resize",v);L.length;)L.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){"today"===b&&(b=l.fromTimezone(new Date,H.getOption("timezone")));var c={};return angular.forEach(["minDate","maxDate"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=new Date(a.datepickerOptions[b]):(p&&e.warn("Literal date support has been deprecated, please switch to date object usage"),c[b]=new Date(k(a.datepickerOptions[b],"medium"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){a.date=c;var d=a.date?l.filter(a.date,x):null;b.val(d),G.$setViewValue(d),y&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date)).setFullYear(d.getFullYear(),d.getMonth(),d.getDate()):(b=l.fromTimezone(d,H.getOption("timezone"))).setHours(0,0,0,0)}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&L.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),A&&a.$broadcast("uib:datepicker.focus"),h.on("click",t);var d=c.popupPlacement?c.popupPlacement:m.placement;z||j.parsePlacement(d)[2]?(F=F||angular.element(j.scrollParent(b)))&&F.on("scroll",v):F=null,angular.element(g).on("resize",v)},0,!1):(h.off("click",t),F&&F.off("scroll",v),angular.element(g).off("resize",v))}),a.$on("uib:datepicker.mode",function(){n(v,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(a,b,c){var d=null,e=c.createNew();this.isOnlyOpen=function(a,b){var c=e.get(b);if(c){if(c.reduce(function(b,c){return c.scope===a?c:b},{}))return 1===c.length}return!1},this.open=function(b,c,g){if(d||a.on("click",f),d&&d!==b&&(d.isOpen=!1),d=b,g){var h=e.get(g);if(h){-1===h.map(function(a){return a.scope}).indexOf(b)&&e.put(g,{scope:b})}else e.put(g,{scope:b})}},this.close=function(b,c,g){if(d===b&&(a.off("click",f),a.off("keydown",this.keybindFilter),d=null),g){var h=e.get(g);if(h){var i=h.reduce(function(a,c){return c.scope===b?c:a},{});i&&e.remove(g,i)}}};var f=function(a){if(d&&d.isOpen&&!(a&&"disabled"===d.getAutoClose()||a&&3===a.which)){var c=d.getToggleElement();if(!(a&&c&&c[0].contains(a.target))){var e=d.getDropdownElement();a&&"outsideClick"===d.getAutoClose()&&e&&e[0].contains(a.target)||(d.focusToggleElement(),d.isOpen=!1,b.$$phase||d.$apply())}}};this.keybindFilter=function(a){if(d){var b=d.getDropdownElement(),c=d.getToggleElement(),e=b&&b[0].contains(a.target),g=c&&c[0].contains(a.target);27===a.which?(a.stopPropagation(),d.focusToggleElement(),f()):d.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&d.isOpen&&(e||g)&&(a.preventDefault(),a.stopPropagation(),d.focusDropdownEntry(a.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){function l(){b.append(o.dropdownMenu)}var m,n,o=this,p=a.$new(),q=e.appendToOpenClass,r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=i.find("body");b.addClass("dropdown"),this.init=function(){c.isOpen&&(n=d(c.isOpen),s=n.assign,a.$watch(n,function(a){p.isOpen=!!a})),u=angular.isDefined(c.keyboardNav)},this.toggle=function(a){return p.isOpen=arguments.length?!!a:!p.isOpen,angular.isFunction(s)&&s(p,p.isOpen),p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return o.toggleElement},p.getAutoClose=function(){return c.autoClose||"always"},p.getElement=function(){return b},p.isKeynavEnabled=function(){return u},p.focusDropdownEntry=function(a){var c=o.dropdownMenu?angular.element(o.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===c.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=c.length-1}c[o.selectedOption].focus()},p.getDropdownElement=function(){return o.dropdownMenu},p.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},p.$watch("isOpen",function(e,n){var u=null,w=!1;if(angular.isDefined(c.dropdownAppendTo)){var x=d(c.dropdownAppendTo)(p);x&&(u=angular.element(x))}if(angular.isDefined(c.dropdownAppendToBody)){!1!==d(c.dropdownAppendToBody)(p)&&(w=!0)}if(w&&!u&&(u=v),u&&o.dropdownMenu&&(e?(u.append(o.dropdownMenu),b.on("$destroy",l)):(b.off("$destroy",l),l())),u&&o.dropdownMenu){var z,A,B,C=h.positionElements(b,o.dropdownMenu,"bottom-left",!0),D=0;if(z={top:C.top+"px",display:e?"block":"none"},(A=o.dropdownMenu.hasClass("dropdown-menu-right"))?(z.left="auto",(B=h.scrollbarPadding(u)).heightOverflow&&B.scrollbarWidth&&(D=B.scrollbarWidth),z.right=window.innerWidth-D-(C.left+b.prop("offsetWidth"))+"px"):(z.left=C.left+"px",z.right="auto"),!w){var E=h.offset(u);z.top=C.top-E.top+"px",A?z.right=window.innerWidth-(C.left-E.left+b.prop("offsetWidth"))+"px":z.left=C.left-E.left+"px"}o.dropdownMenu.css(z)}var F=u||b,G=u?q:r,H=F.hasClass(G),I=f.isOnlyOpen(a,u);if(H===!e){g[u?I?"removeClass":"addClass":e?"addClass":"removeClass"](F,G).then(function(){angular.isDefined(e)&&e!==n&&t(a,{open:!!e})})}if(e)o.dropdownMenuTemplateUrl?k(o.dropdownMenuTemplateUrl).then(function(a){m=p.$new(),j(a.trim())(m,function(a){var b=a;o.dropdownMenu.replaceWith(b),o.dropdownMenu=b,i.on("keydown",f.keybindFilter)})}):i.on("keydown",f.keybindFilter),p.focusToggleElement(),f.open(p,b,u);else{if(f.close(p,b,u),o.dropdownMenuTemplateUrl){m&&m.$destroy();var K=angular.element('<ul class="dropdown-menu"></ul>');o.dropdownMenu.replaceWith(K),o.dropdownMenu=K}o.selectedOption=null}angular.isFunction(s)&&s(a,e)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.on("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.off("click",e)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.pop()},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{restrict:"A",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,b,c,d){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(e,f,g){f.addClass(g.windowTopClass||""),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",e.close),e.$isRendered=!0;var h=b.defer();e.$$postDigest(function(){h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector("[autofocus]");c?c.focus():f[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(a){return{link:function(b,c,d,e,f){f(b.$parent,function(b){c.empty(),a.enter(b,c)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(a,b,c,d,e,f,g,h,i){function l(){for(var a=-1,b=x.keys(),c=0;c<b.length;c++)x.get(b[c]).value.backdrop&&(a=c);return a>-1&&A>a&&(a=A),a}function m(a,b){var c=x.get(a).value,d=c.appendTo;x.remove(a),(B=x.top())&&(A=parseInt(B.value.modalDomEl.attr("index"),10)),p(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||w;y.remove(b,a);var e=y.hasKey(b);d.toggleClass(b,e),!e&&v&&v.heightOverflow&&v.scrollbarWidth&&(v.originalRight?d.css({paddingRight:v.originalRight+"px"}):d.css({paddingRight:""}),v=null),n(!0)},c.closedDeferred),function(){if(t&&-1===l()){var a=u;p(t,u,function(){a=null}),t=void 0,u=void 0}}(),b&&b.focus?b.focus():d.focus&&d.focus()}function n(a){var b;x.length()>0&&(b=x.top().value).modalDomEl.toggleClass(b.windowTopClass||"",a)}function p(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){d&&d(),b.remove(),e&&e.resolve()}),c.$destroy())}var h,i=null;return c.$broadcast(z.NOW_CLOSING_EVENT,function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}}),f.when(i).then(g)}function q(a){if(a.isDefaultPrevented())return a;var b=x.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){z.dismiss(b.key,"escape key press")}));break;case 9:var c=z.loadFocusElementList(b),d=!1;a.shiftKey?(z.isFocusInFirstItem(a,c)||z.isModalFocused(a,b))&&(d=z.focusLastFocusableElement(c)):z.isFocusInLastItem(a,c)&&(d=z.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function r(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}function s(){Array.prototype.forEach.call(document.querySelectorAll("["+C+"]"),function(a){var c=parseInt(a.getAttribute(C),10)-1;a.setAttribute(C,c),c||(a.removeAttribute(C),a.removeAttribute("aria-hidden"))})}var t,u,v,w="modal-open",x=h.createNew(),y=g.createNew(),z={NOW_CLOSING_EVENT:"modal.stack.now-closing"},A=0,B=null,C="data-bootstrap-modal-aria-hidden-count",E=/[A-Z]/g;return e.$watch(l,function(a){u&&(u.index=a)}),c.on("keydown",q),e.$on("$destroy",function(){c.off("keydown",q)}),z.open=function(b,f){function g(a){if(a&&"BODY"!==a[0].tagName)return function(a){var b=a.parent()?a.parent().children():[];return Array.prototype.filter.call(b,function(b){return b!==a[0]})}(a).forEach(function(a){var b="true"===a.getAttribute("aria-hidden"),c=parseInt(a.getAttribute(C),10);c||(c=b?1:0),a.setAttribute(C,c+1),a.setAttribute("aria-hidden","true")}),g(a.parent())}var h=c[0].activeElement,k=f.openedClass||w;n(!1),B=x.top(),x.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),y.put(k,b);var m=f.appendTo,o=l();o>=0&&!t&&(u=e.$new(!0),u.modalOptions=f,u.index=o,(t=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),f.backdropClass&&t.addClass(f.backdropClass),f.animation&&t.attr("modal-animation","true"),d(t)(u),a.enter(t,m),i.isScrollable(m)&&(v=i.scrollbarPadding(m)).heightOverflow&&v.scrollbarWidth&&m.css({paddingRight:v.right+"px"}));var p;f.component?(p=document.createElement(function(a){return a.replace(E,function(a,c){return(c?"-":"")+a.toLowerCase()})}(f.component.name)),(p=angular.element(p)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):p=f.content,A=B?parseInt(B.value.modalDomEl.attr("index"),10)+1:0;var q=angular.element('<div uib-modal-window="modal-window"></div>');q.attr({class:"modal","template-url":f.windowTemplateUrl,"window-top-class":f.windowTopClass,role:"dialog","aria-labelledby":f.ariaLabelledBy,"aria-describedby":f.ariaDescribedBy,size:f.size,index:A,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(p),f.windowClass&&q.addClass(f.windowClass),f.animation&&q.attr("modal-animation","true"),m.addClass(k),f.scope&&(f.scope.$$topModalIndex=A),a.enter(d(q)(f.scope),m),x.top().value.modalDomEl=q,x.top().value.modalOpener=h,g(q)},z.close=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),m(a,c.value.modalOpener),!0):!c},z.dismiss=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),m(a,c.value.modalOpener),!0):!c},z.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},z.getTop=function(){return x.top()},z.modalRendered=function(a){var b=x.get(a);b&&b.value.renderDeferred.resolve()},z.focusFirstFocusableElement=function(a){return a.length>0&&(a[0].focus(),!0)},z.focusLastFocusableElement=function(a){return a.length>0&&(a[a.length-1].focus(),!0)},z.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},z.isFocusInFirstItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[0]},z.isFocusInLastItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[b.length-1]},z.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return c?Array.prototype.filter.call(c,function(a){return function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}(a)}):c}}},z}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return q}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!e.component&&!e.template&&!e.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var q;q=e.component?c.when(g.resolve(e.resolve,{},null,null)):c.all([i(e),g.resolve(e.resolve,{},null,null)]);var r;return r=k=c.all([k]).then(j,j).then(function(a){function c(b,c,d,e){b.$scope=g,b.$scope.$resolve={},d?b.$scope.$uibModalInstance=p:b.$uibModalInstance=p;var f=c?a[1]:a;angular.forEach(f,function(a,c){e&&(b[c]=a),b.$scope.$resolve[c]=a})}var d=e.scope||b,g=d.$new();g.$close=p.close,g.$dismiss=p.dismiss,g.$on("$destroy",function(){g.$$uibDestructionScheduled||g.$dismiss("$uibUnscheduledDestruction")});var i,j,k={scope:g,deferred:l,renderDeferred:o,closedDeferred:n,animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo},q={},r={};e.component?(c(q,!1,!0,!1),q.name=e.component,k.component=q):e.controller&&(c(r,!0,!1,!0),j=f(e.controller,r,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(i=j.instance,i.$close=g.$close,i.$dismiss=g.$dismiss,angular.extend(i,{$resolve:r.$scope.$resolve},d)),i=j(),angular.isFunction(i.$onInit)&&i.$onInit()),e.component||(k.content=a[0]),h.open(p,k),m.resolve(!0)},function(a){m.reject(a),l.reject(a)}).finally(function(){k===r&&(k=null)}),p},j}]};return a}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault();(!c.ngDisabled||!d)&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},link:function(b,c,d,e){c.addClass("pager");var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,b.$set("role","menu"),d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=function(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&b>i;g&&(j?(d=Math.max(a-Math.floor(i/2),1),(e=d+i-1)>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;e>=h;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(b>e){if(!l||b-2>e){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},link:function(a,c,d,e){c.addClass("pagination");var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),b=null)}}var o=m.createNew();return h.on("keyup",n),k.$on("$destroy",function(){h.off("keyup",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" ");return{show:b,hide:b.map(function(a){return c[a]||a})}}n=angular.extend({},b,d,n);var q=function(a){return a.replace(/[A-Z]/g,function(a,b){return(b?"-":"")+a.toLowerCase()})}(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup uib-title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'origin-scope="origScope" class="uib-position-measure '+k+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){P.isOpen?q():m()}function m(){O&&!a.$eval(d[k+"Enable"])||(u(),function(){P.title=d[k+"Title"],P.content=S?S(a):d[e],P.popupClass=d[k+"Class"],P.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(P.placement);L=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);P.popupDelay=isNaN(c)?n.popupDelay:c,P.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}(),P.popupDelay?H||(H=g(r,P.popupDelay,!1)):r())}function q(){s(),P.popupCloseDelay?I||(I=g(t,P.popupCloseDelay,!1)):t()}function r(){return s(),u(),P.content?(E||(F=P.$new(),E=c(F,function(a){M?h.find("body").append(a):b.after(a)}),o.add(P,{close:t}),T.length=0,S?(T.push(a.$watch(S,function(a){P.content=a,!a&&P.isOpen&&t()})),T.push(F.$watch(function(){Q||(Q=!0,F.$$postDigest(function(){Q=!1,P&&P.isOpen&&U()}))}))):T.push(d.$observe(e,function(a){P.content=a,!a&&P.isOpen?t():U()})),T.push(d.$observe(k+"Title",function(a){P.title=a,P.isOpen&&U()})),T.push(d.$observe(k+"Placement",function(a){P.placement=a||n.placement,P.isOpen&&U()}))),void P.$evalAsync(function(){P.isOpen=!0,y(!0),U()})):angular.noop}function s(){H&&(g.cancel(H),H=null),J&&(g.cancel(J),J=null)}function t(){P&&P.$evalAsync(function(){P&&(P.isOpen=!1,y(!1),P.animation?G||(G=g(w,150,!1)):w())})}function u(){I&&(g.cancel(I),I=null),G&&(g.cancel(G),G=null)}function w(){s(),u(),T.length&&(angular.forEach(T,function(a){a()}),T.length=0),E&&(E.remove(),E=null,K&&g.cancel(K)),o.remove(P),F&&(F.$destroy(),F=null)}function y(b){R&&angular.isFunction(R.assign)&&R.assign(a,b)}function B(a){P&&P.isOpen&&E&&(b[0].contains(a.target)||E[0].contains(a.target)||q())}function C(a){27===a.which&&q()}var E,F,G,H,I,J,K,L,M=!!angular.isDefined(n.appendToBody)&&n.appendToBody,N=p(void 0),O=angular.isDefined(d[k+"Enable"]),P=a.$new(!0),Q=!1,R=!!angular.isDefined(d[k+"IsOpen"])&&l(d[k+"IsOpen"]),S=!!n.useContentExp&&l(d[e]),T=[],U=function(){E&&E.html()&&(J||(J=g(function(){var a=i.positionElements(b,E,P.placement,M),c=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),d=M?i.offset(b):i.position(b);E.css({top:a.top+"px",left:a.left+"px"});var e=a.placement.split("-");E.hasClass(e[0])||(E.removeClass(L.split("-")[0]),E.addClass(e[0])),E.hasClass(n.placementClassPrefix+a.placement)||(E.removeClass(n.placementClassPrefix+L),E.addClass(n.placementClassPrefix+a.placement)),K=g(function(){var a=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),b=i.adjustTop(e,d,c,a);b&&E.css(b),K=null},0,!1),E.hasClass("uib-position-measure")?(i.positionArrow(E,a.placement),E.removeClass("uib-position-measure")):L!==a.placement&&i.positionArrow(E,a.placement),L=a.placement,J=null},0,!1)))};P.origScope=a,P.isOpen=!1,P.contentExp=function(){return P.content},d.$observe("disabled",function(a){a&&s(),a&&P.isOpen&&t()}),R&&a.$watch(R,function(a){P&&!a===P.isOpen&&j()});var V=function(){N.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j)),b.off("keypress",C)}),N.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};!function(){var c=[],e=[],f=a.$eval(d[k+"Trigger"]);V(),angular.isObject(f)?(Object.keys(f).forEach(function(a){c.push(a),e.push(f[a])}),N={show:c,hide:e}):N=p(f),"none"!==N.show&&N.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===N.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(N.hide[c],q)),b.on("keypress",C)})}();var W=a.$eval(d[k+"Animation"]);P.animation=angular.isDefined(W)?!!W:n.animation;var X,Y=k+"AppendToBody";X=Y in d&&void 0===d[Y]||a.$eval(d[Y]),M=angular.isDefined(X)?X:M,a.$on("$destroy",function(){V(),w(),P=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),n=c(d)(e,function(b){m(),a.enter(b,f)});j=n,(h=e).$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){(d=e).$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch("tabset.active",function(a){angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=""),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){!function(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase()||"uib:tab-heading"===a.tagName.toLowerCase())}(b)?c.append(b):e.headingElement=b})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours;return(a.showMeridian?b>0&&13>b:b>=0&&24>b)&&""!==a.hours?(a.showMeridian&&(12===b&&(b=0),a.meridian===y[1]&&(b+=12)),b):void 0}function i(){var b=+a.minutes;return b>=0&&60>b&&""!==a.minutes?b:void 0}function j(){var b=+a.seconds;return b>=0&&60>b?b:void 0}function k(a,b){return null===a?"":angular.isDefined(a)&&a.toString().length<2&&!b?"0"+a:a.toString()}function l(a){m(),x.$setViewValue(new Date(v)),n(a)}function m(){s&&s.$setValidity("hours",!0),t&&t.$setValidity("minutes",!0),u&&u.$setValidity("seconds",!0),x.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(x.$modelValue){var c=v.getHours(),d=v.getMinutes(),e=v.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c,!z),"m"!==b&&(a.minutes=k(d)),a.meridian=v.getHours()<12?y[0]:y[1],"s"!==b&&(a.seconds=k(e)),a.meridian=v.getHours()<12?y[0]:y[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=y[0]}function o(a){v=q(v,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}var s,t,u,v=new Date,w=[],x={$setViewValue:angular.noop},y=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,z=!angular.isDefined(c.padHours)||a.$parent.$eval(c.padHours);a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){(x=b).$render=this.render,x.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2);s=e.controller("ngModel"),t=f.controller("ngModel"),u=h.controller("ngModel");(angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel)&&this.setupMousewheelEvents(e,f,h);(angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys)&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var A=g.hourStep;c.hourStep&&w.push(a.$parent.$watch(d(c.hourStep),function(a){A=+a}));var B=g.minuteStep;c.minuteStep&&w.push(a.$parent.$watch(d(c.minuteStep),function(a){B=+a}));var C;w.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);C=isNaN(b)?void 0:b}));var D;w.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);D=isNaN(b)?void 0:b}));var E=!1;c.ngDisabled&&w.push(a.$parent.$watch(d(c.ngDisabled),function(a){E=a})),a.noIncrementHours=function(){var a=p(v,60*A);return E||a>D||v>a&&C>a},a.noDecrementHours=function(){var a=p(v,60*-A);return E||C>a||a>v&&a>D},a.noIncrementMinutes=function(){var a=p(v,B);return E||a>D||v>a&&C>a},a.noDecrementMinutes=function(){var a=p(v,-B);return E||C>a||a>v&&a>D},a.noIncrementSeconds=function(){var a=q(v,F);return E||a>D||v>a&&C>a},a.noDecrementSeconds=function(){var a=q(v,-F);return E||C>a||a>v&&a>D},a.noToggleMeridian=function(){return v.getHours()<12?E||p(v,720)>D:E||p(v,-720)<C};var F=g.secondStep;c.secondStep&&w.push(a.$parent.$watch(d(c.secondStep),function(a){F=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&w.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&w.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,x.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(v.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){x.$setViewValue(null),x.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b,s&&s.$setValidity("hours",!1)),angular.isDefined(c)&&(a.invalidMinutes=c,t&&t.$setValidity("minutes",!1)),angular.isDefined(d)&&(a.invalidSeconds=d,u&&u.$setValidity("seconds",!1))};a.updateHours=function(){var a=h(),b=i();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(a),v.setMinutes(b),C>v||v>D?e(!0):l("h")):e(!0)},b.on("blur",function(b){x.$setTouched(),r()?m():null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!z)})}),a.updateMinutes=function(){var a=i(),b=h();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(b),v.setMinutes(a),C>v||v>D?e(void 0,!0):l("m")):e(void 0,!0)},c.on("blur",function(b){x.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();x.$setDirty(),angular.isDefined(a)?(v.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.on("blur",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=x.$viewValue;isNaN(b)?(x.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(v=b),C>v||v>D?(x.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*A*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-A*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*B)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-B)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(F)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-F)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(v.getHours()<12?60:-60)):a.meridian=a.meridian===y[0]?y[1]:y[0])},a.blur=function(){x.$setTouched()},a.$on("$destroy",function(){for(;w.length;)w.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),$()}function o(){P.position=F?l.offset(b):l.position(b),P.position.top+=b.prop("offsetHeight")}var q,r,s=[9,13,27,38,40],u=a.$eval(c.typeaheadMinLength);u||0===u||(u=1),a.$watch(c.typeaheadMinLength,function(a){u=a||0===a?a:1});var v=a.$eval(c.typeaheadWaitMs)||0,w=!1!==a.$eval(c.typeaheadEditable);a.$watch(c.typeaheadEditable,function(a){w=!1!==a});var x,y,z=e(c.typeaheadLoading).assign||angular.noop,A=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){var c=b.$event;return 13===c.which||9===c.which},B=e(c.typeaheadOnSelect),C=!!angular.isDefined(c.typeaheadSelectOnBlur)&&a.$eval(c.typeaheadSelectOnBlur),D=e(c.typeaheadNoResults).assign||angular.noop,E=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,F=!!c.typeaheadAppendToBody&&a.$eval(c.typeaheadAppendToBody),G=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,H=!1!==a.$eval(c.typeaheadFocusFirst),I=!!c.typeaheadSelectOnExact&&a.$eval(c.typeaheadSelectOnExact),J=e(c.typeaheadIsOpen).assign||angular.noop,K=a.$eval(c.typeaheadShowHint)||!1,L=e(c.ngModel),M=e(c.ngModel+"($$$p)"),O=m.parse(c.uibTypeahead),P=a.$new(),Q=a.$on("$destroy",function(){P.$destroy()});P.$on("$destroy",Q);var R="typeahead-"+P.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":R});var S,T;K&&((S=angular.element("<div></div>")).css("position","relative"),b.after(S),(T=b.clone()).attr("placeholder",""),T.attr("tabindex","-1"),T.val(""),T.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),T.attr("id")&&T.removeAttr("id"),S.append(T),T.after(b));var U=angular.element("<div uib-typeahead-popup></div>");U.attr({id:R,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(c.typeaheadTemplateUrl)&&U.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&U.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var W=function(){P.matches=[],P.activeIdx=-1,b.attr("aria-expanded",!1),K&&T.val("")},X=function(a){return R+"-option-"+a};P.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",X(a))});var Z=function(c,d){var e={$viewValue:c};z(a,!0),D(a,!1),f.when(O.source(a,e)).then(function(f){var g=c===q.$viewValue;if(g&&x)if(f&&f.length>0){P.activeIdx=H?0:-1,D(a,!1),P.matches.length=0;for(var h=0;h<f.length;h++)e[O.itemName]=f[h],P.matches.push({id:X(h),label:O.viewMapper(P,e),model:f[h]});if(P.query=c,o(),b.attr("aria-expanded",!0),I&&1===P.matches.length&&function(a,b){return!!(P.matches.length>b&&a)&&a.toUpperCase()===P.matches[b].label.toUpperCase()}(c,0)&&(angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(0,d)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate.default):P.select(0,d)),K){var i=P.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?T.val(c+i.slice(c.length)):T.val("")}}else W(),D(a,!0);g&&z(a,!1)},function(){W(),z(a,!1),D(a,!0)})};F&&(angular.element(i).on("resize",n),h.find("body").on("scroll",n));var $=k(function(){P.matches.length&&o(),P.moveInProgress=!1},200);P.moveInProgress=!1,P.query=void 0;var _,ba=function(){_&&g.cancel(_)};W(),P.assignIsOpen=function(b){J(a,b)},P.select=function(d,e){var f,h,i={};y=!0,i[O.itemName]=h=P.matches[d].model,f=O.modelMapper(a,i),function(b,c){angular.isFunction(L(a))&&r.getOption("getterSetter")?M(b,{$$$p:c}):L.assign(b,c)}(a,f),q.$setValidity("editable",!0),q.$setValidity("parse",!0),B(a,{$item:h,$model:f,$label:O.viewMapper(a,i),$event:e}),W(),!1!==P.$eval(c.typeaheadFocusOnSelect)&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(b){if(0!==P.matches.length&&-1!==s.indexOf(b.which)){var c=A(a,{$event:b});if(-1===P.activeIdx&&c||9===b.which&&b.shiftKey)return W(),void P.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),W(),a.$digest();break;case 38:P.activeIdx=(P.activeIdx>0?P.activeIdx:P.matches.length)-1,P.$digest(),(d=U[0].querySelectorAll(".uib-typeahead-match")[P.activeIdx]).parentNode.scrollTop=d.offsetTop;break;case 40:P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest(),(d=U[0].querySelectorAll(".uib-typeahead-match")[P.activeIdx]).parentNode.scrollTop=d.offsetTop;break;default:c&&P.$apply(function(){angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(P.activeIdx,b)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate.default):P.select(P.activeIdx,b)})}}}),b.on("focus",function(a){x=!0,0!==u||q.$viewValue||g(function(){Z(q.$viewValue,a)},0)}),b.on("blur",function(a){C&&P.matches.length&&-1!==P.activeIdx&&!y&&(y=!0,P.$apply(function(){angular.isObject(P.debounceUpdate)&&angular.isNumber(P.debounceUpdate.blur)?k(function(){P.select(P.activeIdx,a)},P.debounceUpdate.blur):P.select(P.activeIdx,a)})),!w&&q.$error.editable&&(q.$setViewValue(),P.$apply(function(){q.$setValidity("editable",!0),q.$setValidity("parse",!0)}),b.val("")),x=!1,y=!1});var ca=function(c){b[0]!==c.target&&3!==c.which&&0!==P.matches.length&&(W(),j.$$phase||a.$digest())};h.on("click",ca),a.$on("$destroy",function(){h.off("click",ca),(F||G)&&da.remove(),F&&(angular.element(i).off("resize",n),h.find("body").off("scroll",n)),U.remove(),K&&S.remove()});var da=d(U)(P);F?h.find("body").append(da):G?angular.element(G).eq(0).append(da):b.after(da),this.init=function(b){r=function(a){var b;return angular.version.minor<6?(b=a.$options||{},b.getOption=function(a){return b[a]}):b=a.$options,b}(q=b),P.debounceUpdate=e(r.getOption("debounce"))(a),q.$parsers.unshift(function(b){return x=!0,0===u||b&&b.length>=u?v>0?(ba(),function(a){_=g(function(){Z(a)},v)}(b)):Z(b):(z(a,!1),ba(),W()),w?b:b?void q.$setValidity("editable",!1):(q.$setValidity("editable",!0),null)}),q.$formatters.push(function(b){var c,d,e={};return w||q.$setValidity("editable",!0),E?(e.$model=b,E(a,e)):(e[O.itemName]=b,c=O.viewMapper(a,e),e[O.itemName]=void 0,d=O.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(a,b,c,d){d[1].init(d[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e.default):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){var f;return f=b.has("$sanitize"),function(b,g){return!f&&function(a){return/<.*>/g.test(a)}(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(function(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(a,b){"use strict";if("function"==typeof define&&define.amd)define(["angular"],b);else if("object"==typeof module&&module.exports){var c=angular||require("angular");c&&c.module||"undefined"==typeof angular||(c=angular),module.exports=b(c)}else b(a.angular)}(this,function(a){"use strict";var b=a.module("rzModule",[]).factory("RzSliderOptions",function(){var b={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,showOuterSelectionBars:!1,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,reversedControls:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},c={},d={};return d.options=function(b){a.extend(c,b)},d.getOptions=function(d){return a.extend({},b,c,d)},d}).factory("rzThrottle",["$timeout",function(a){return function(b,c,d){var e,f,g,h=Date.now||function(){return(new Date).getTime()},i=null,j=0;d=d||{};var k=function(){j=h(),i=null,g=b.apply(e,f),e=f=null};return function(){var l=h(),m=c-(l-j);return e=this,f=arguments,0>=m?(a.cancel(i),i=null,j=l,g=b.apply(e,f),e=f=null):i||!1===d.trailing||(i=a(k,m)),g}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(b,c,d,e,f,g){var h=function(a,b){this.scope=a,this.lowValue=0,this.highValue=0,this.sliderElem=b,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return h.prototype={init:function(){var b,c,e=this,f=function(){e.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",f),a.element(d).on("resize",f),this.initHasRun=!0,b=g(function(){e.onLowHandleChange()},e.options.interval),c=g(function(){e.onHighHandleChange()},e.options.interval),this.scope.$on("rzSliderForceRender",function(){e.resetLabelsValue(),b(),e.range&&c(),e.resetSlider()}),this.scope.$watchCollection("rzSliderOptions()",function(a,b){a!==b&&(e.applyOptions(),e.syncLowValue(),e.range&&e.syncHighValue(),e.resetSlider())}),this.scope.$watch("rzSliderModel",function(a,c){e.internalChange||a!==c&&b()}),this.scope.$watch("rzSliderHigh",function(a,b){e.internalChange||a!==b&&(null!=a&&c(),(e.range&&null==a||!e.range&&null!=a)&&(e.applyOptions(),e.resetSlider()))}),this.scope.$on("$destroy",function(){e.unbindEvents(),a.element(d).off("resize",f),e.currentFocusElement=null})},findStepIndex:function(b){for(var c=0,d=0;d<this.options.stepsArray.length;d++){var e=this.options.stepsArray[d];if(e===b){c=d;break}if(a.isDate(e)){if(e.getTime()===b.getTime()){c=d;break}}else if(a.isObject(e)&&(a.isDate(e.value)&&e.value.getTime()===b.getTime()||e.value===b)){c=d;break}}return c},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(b){var c=this.options.stepsArray[b];return a.isDate(c)?c:a.isObject(c)?c.value:c},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var b;b=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=f.getOptions(b),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(a.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(a){return String(a)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(a){return this.options.bindIndexForStepsArray?this.getStepValue(a):a},this.getLegend=function(b){var c=this.options.stepsArray[b];return a.isObject(c)?c.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},initElemHandles:function(){a.forEach(this.sliderElem.children(),function(b,c){var d=a.element(b);switch(c){case 0:this.leftOutSelBar=d;break;case 1:this.rightOutSelBar=d;break;case 2:this.fullBar=d;break;case 3:this.selBar=d;break;case 4:this.minH=d;break;case 5:this.maxH=d;break;case 6:this.flrLab=d;break;case 7:this.ceilLab=d;break;case 8:this.minLab=d;break;case 9:this.maxLab=d;break;case 10:this.cmbLab=d;break;case 11:this.ticks=d}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var a=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,a||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,a||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,a||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.alwaysHide(this.leftOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.alwaysHide(this.rightOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.range&&this.options.showOuterSelectionBars&&this.fullBar.addClass("rz-transparent"),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(a,b){a.rzAlwaysHide=b,b?this.hideEl(a):this.showEl(a)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(a,b,c,d){d=void 0===d||d;var e="",f=!1,g=b.hasClass("no-label-injection");d?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(a=this.getStepValue(a)),e=String(this.customTrFn(a,this.options.id,c))):e=String(a),(void 0===b.rzsv||b.rzsv.length!==e.length||b.rzsv.length>0&&0===b.rzsd)&&(f=!0,b.rzsv=e),g||b.html(e),this.scope[c+"Label"]=e,f&&this.getDimension(b)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var a=this.getDimension(this.minH);if(this.handleHalfDim=a/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-a,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun){this.updateFloorLab(),this.updateCeilLab(),this.initHandles();var c=this;b(function(){c.updateTicksScale()})}},updateTicksScale:function(){if(this.options.showTicks){var a=this.options.ticksArray||this.getTicksArray(),b=this.options.vertical?"translateY":"translateX",c=this;this.options.rightToLeft&&a.reverse(),this.scope.ticks=a.map(function(a){var d=c.valueToPosition(a);c.options.vertical&&(d=c.maxPos-d);var e=b+"("+Math.round(d)+"px)",f={selected:c.isTickSelected(a),style:{"-webkit-transform":e,"-moz-transform":e,"-o-transform":e,"-ms-transform":e,transform:e}};if(f.selected&&c.options.getSelectionBarColor&&(f.style["background-color"]=c.getSelectionBarColor()),!f.selected&&c.options.getTickColor&&(f.style["background-color"]=c.getTickColor(a)),c.options.ticksTooltip&&(f.tooltip=c.options.ticksTooltip(a),f.tooltipPlacement=c.options.vertical?"right":"top"),(!0===c.options.showTicksValues||a%c.options.showTicksValues==0)&&(f.value=c.getDisplayValue(a,"tick-value"),c.options.ticksValuesTooltip&&(f.valueTooltip=c.options.ticksValuesTooltip(a),f.valueTooltipPlacement=c.options.vertical?"right":"top")),c.getLegend){var g=c.getLegend(a,c.options.id);g&&(f.legend=g)}return f})}},getTicksArray:function(){var a=this.step,b=[];this.intermediateTicks&&(a=this.options.showTicks);for(var c=this.minValue;c<=this.maxValue;c+=a)b.push(c);return b},isTickSelected:function(a){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var b=this.options.showSelectionBarFromValue;if(this.lowValue>b&&a>=b&&a<=this.lowValue)return!0;if(this.lowValue<b&&b>=a&&a>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(a>=this.lowValue)return!0}else if(this.options.showSelectionBar&&a<=this.lowValue)return!0;return!!(this.range&&a>=this.lowValue&&a<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var a=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,a)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var a=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,a)},updateHandles:function(a,b){"lowValue"===a?this.updateLowHandle(b):this.updateHighHandle(b),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(a,b){var c=this[a].rzsd,d=b-c/2+this.handleHalfDim,e=this.barDimension-c;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===a||!this.options.rightToLeft&&"maxLab"===a?Math.min(d,e):Math.min(Math.max(d,0),e):d},updateLowHandle:function(a){if(this.setPosition(this.minH,a),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",a)),this.options.getPointerColor){var b=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:b}}this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(a){if(this.setPosition(this.maxH,a),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",a)),this.options.getPointerColor){var b=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:b}}this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var a=!1,b=!1,c=this.isLabelBelowFloorLab(this.minLab),d=this.isLabelAboveCeilLab(this.minLab),e=this.isLabelAboveCeilLab(this.maxLab),f=this.isLabelBelowFloorLab(this.cmbLab),g=this.isLabelAboveCeilLab(this.cmbLab);if(c?(a=!0,this.hideEl(this.flrLab)):(a=!1,this.showEl(this.flrLab)),d?(b=!0,this.hideEl(this.ceilLab)):(b=!1,this.showEl(this.ceilLab)),this.range){var h=this.cmbLabelShown?g:e,i=this.cmbLabelShown?f:c;h?this.hideEl(this.ceilLab):b||this.showEl(this.ceilLab),i?this.hideEl(this.flrLab):a||this.showEl(this.flrLab)}}},isLabelBelowFloorLab:function(a){var b=this.options.rightToLeft,c=a.rzsp,d=a.rzsd,e=this.flrLab.rzsp,f=this.flrLab.rzsd;return b?c+d>=e-2:e+f+2>=c},isLabelAboveCeilLab:function(a){var b=this.options.rightToLeft,c=a.rzsp,d=a.rzsd,e=this.ceilLab.rzsp,f=this.ceilLab.rzsd;return b?e+f+2>=c:c+d>=e-2},updateSelectionBar:function(){var a=0,b=0,c=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,d=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)b=Math.abs(this.maxH.rzsp-this.minH.rzsp),a=d;else if(null!==this.options.showSelectionBarFromValue){var e=this.options.showSelectionBarFromValue,f=this.valueToPosition(e);(this.options.rightToLeft?this.lowValue<=e:this.lowValue>e)?(b=this.minH.rzsp-f,a=f+this.handleHalfDim):(b=f-this.minH.rzsp,a=this.minH.rzsp+this.handleHalfDim)}else c?(b=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,a=this.minH.rzsp+this.handleHalfDim):(b=this.minH.rzsp+this.handleHalfDim,a=0);if(this.setDimension(this.selBar,b),this.setPosition(this.selBar,a),this.range&&this.options.showOuterSelectionBars&&(this.options.rightToLeft?(this.setDimension(this.rightOutSelBar,a),this.setPosition(this.rightOutSelBar,0),this.setDimension(this.leftOutSelBar,this.getDimension(this.fullBar)-(a+b)),this.setPosition(this.leftOutSelBar,a+b)):(this.setDimension(this.leftOutSelBar,a),this.setPosition(this.leftOutSelBar,0),this.setDimension(this.rightOutSelBar,this.getDimension(this.fullBar)-(a+b)),this.setPosition(this.rightOutSelBar,a+b))),this.options.getSelectionBarColor){var h=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:h}}else if(this.options.selectionBarGradient){var i=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0,j=i-a>0^c,k=this.options.vertical?j?"bottom":"top":j?"left":"right";this.scope.barStyle={backgroundImage:"linear-gradient(to "+k+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(i+b+a+(j?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=i-a+(j?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%")}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(a){return"max"===a?this.options.getPointerColor(this.scope.rzSliderHigh,a):this.options.getPointerColor(this.scope.rzSliderModel,a)},getTickColor:function(a){return this.options.getTickColor(a)},updateCmbLabel:function(){if(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var b=this.getDisplayValue(this.lowValue,"model"),c=this.getDisplayValue(this.highValue,"high"),d="";d=this.options.mergeRangeLabelsIfSame&&b===c?b:this.options.rightToLeft?c+" - "+b:b+" - "+c,this.translateFn(d,this.cmbLab,"cmb",!1);var e=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,e),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab);this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(a,b){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(a=this.getStepValue(a)),this.customTrFn(a,this.options.id,b)},roundStep:function(a,b){var c=b||this.step,d=parseFloat((a-this.minValue)/c).toPrecision(12);d=Math.round(+d)*c;return+(this.minValue+d).toFixed(this.precision)},hideEl:function(a){return a.css({visibility:"hidden"})},showEl:function(a){return a.rzAlwaysHide?a:a.css({visibility:"visible"})},setPosition:function(a,b){a.rzsp=b;var c={};return c[this.positionProperty]=Math.round(b)+"px",a.css(c),b},getDimension:function(a){var b=a[0].getBoundingClientRect();return this.options.vertical?a.rzsd=(b.bottom-b.top)*this.options.scale:a.rzsd=(b.right-b.left)*this.options.scale,a.rzsd},setDimension:function(a,b){a.rzsd=b;var c={};return c[this.dimensionProperty]=Math.round(b)+"px",a.css(c),b},sanitizeValue:function(a){return Math.min(Math.max(a,this.minValue),this.maxValue)},valueToPosition:function(a){var b=this.linearValueToPosition;this.options.customValueToPosition?b=this.options.customValueToPosition:this.options.logScale&&(b=this.logValueToPosition);var c=b(a=this.sanitizeValue(a),this.minValue,this.maxValue)||0;return this.options.rightToLeft&&(c=1-c),c*this.maxPos},linearValueToPosition:function(a,b,c){return(a-b)/(c-b)},logValueToPosition:function(a,b,c){return((a=Math.log(a))-(b=Math.log(b)))/((c=Math.log(c))-b)},positionToValue:function(a){var b=a/this.maxPos;this.options.rightToLeft&&(b=1-b);var c=this.linearPositionToValue;return this.options.customPositionToValue?c=this.options.customPositionToValue:this.options.logScale&&(c=this.logPositionToValue),c(b,this.minValue,this.maxValue)||0},linearPositionToValue:function(a,b,c){return a*(c-b)+b},logPositionToValue:function(a,b,c){b=Math.log(b);var d=a*((c=Math.log(c))-b)+b;return Math.exp(d)},getEventAttr:function(a,b){return void 0===a.originalEvent?a[b]:a.originalEvent[b]},getEventXY:function(a,b){var c=this.options.vertical?"clientY":"clientX";if(void 0!==a[c])return a[c];var d=this.getEventAttr(a,"touches");if(void 0!==b)for(var e=0;e<d.length;e++)if(d[e].identifier===b)return d[e][c];return d[0][c]},getEventPosition:function(a,b){var c=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(a,b)+c:this.getEventXY(a,b)-c)*this.options.scale-this.handleHalfDim},getEventNames:function(a){var b={moveEvent:"",endEvent:""};return this.getEventAttr(a,"touches")?(b.moveEvent="touchmove",b.endEvent="touchend"):(b.moveEvent="mousemove",b.endEvent="mouseup"),b},getNearestHandle:function(a){if(!this.range)return this.minH;var b=this.getEventPosition(a),c=Math.abs(b-this.minH.rzsp),d=Math.abs(b-this.maxH.rzsp);return d>c?this.minH:c>d?this.maxH:this.options.rightToLeft?b>this.minH.rzsp?this.minH:this.maxH:b<this.minH.rzsp?this.minH:this.maxH},focusElement:function(a){a[0].focus()},bindEvents:function(){var b,c,d;this.options.draggableRange?(b="rzSliderDrag",c=this.onDragStart,d=this.onDragMove):(b="lowValue",c=this.onStart,d=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",a.bind(this,c,null,b)),this.selBar.on("mousedown",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",a.bind(this,c,null,b)),this.maxH.on("mousedown",a.bind(this,c,null,b))):(this.minH.on("mousedown",a.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",a.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",a.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",a.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",a.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",a.bind(this,c,null,b)),this.selBar.on("touchstart",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",a.bind(this,c,null,b)),this.maxH.on("touchstart",a.bind(this,c,null,b))):(this.minH.on("touchstart",a.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",a.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",a.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",a.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",a.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",a.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",a.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(b,d,e){var f,g,h=this.getEventNames(e);e.stopPropagation(),e.preventDefault(),this.calcViewDimensions(),b?this.tracking=d:(b=this.getNearestHandle(e),this.tracking=b===this.minH?"lowValue":"highValue"),b.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(b),f=a.bind(this,this.dragging.active?this.onDragMove:this.onMove,b),g=a.bind(this,this.onEnd,f),c.on(h.moveEvent,f),c.on(h.endEvent,g),this.endHandlerToBeRemovedOnEnd=g,this.callOnStart();var i=this.getEventAttr(e,"changedTouches");i&&(this.touchId||(this.isDragging=!0,this.touchId=i[0].identifier))},onMove:function(b,c,d){var e,f=this.getEventAttr(c,"changedTouches");if(f)for(var g=0;g<f.length;g++)if(f[g].identifier===this.touchId){e=f[g];break}if(!f||e){var h,i=this.getEventPosition(c,e?e.identifier:void 0),j=this.options.rightToLeft?this.minValue:this.maxValue,k=this.options.rightToLeft?this.maxValue:this.minValue;0>=i?h=k:i>=this.maxPos?h=j:(h=this.positionToValue(i),h=d&&a.isNumber(this.options.showTicks)?this.roundStep(h,this.options.showTicks):this.roundStep(h)),this.positionTrackingHandle(h)}},onEnd:function(a,b){var d=this.getEventAttr(b,"changedTouches");if(!d||d[0].identifier===this.touchId){this.isDragging=!1,this.touchId=null,this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1;var e=this.getEventNames(b);c.off(e.moveEvent,a),c.off(e.endEvent,this.endHandlerToBeRemovedOnEnd),this.endHandlerToBeRemovedOnEnd=null,this.callOnEnd()}},onTickClick:function(a,b){this.onMove(a,b,!0)},onPointerFocus:function(b,c){this.tracking=c,b.one("blur",a.bind(this,this.onPointerBlur,b)),b.on("keydown",a.bind(this,this.onKeyboardEvent)),b.on("keyup",a.bind(this,this.onKeyUp)),this.firstKeyDown=!0,b.addClass("rz-active"),this.currentFocusElement={pointer:b,ref:c}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(a){a.off("keydown"),a.off("keyup"),a.removeClass("rz-active"),this.isDragging||(this.tracking="",this.currentFocusElement=null)},getKeyActions:function(a){var b=a+this.step,c=a-this.step,d=a+this.valueRange/10,e=a-this.valueRange/10;this.options.reversedControls&&(b=a-this.step,c=a+this.step,d=a-this.valueRange/10,e=a+this.valueRange/10);var f={UP:b,DOWN:c,LEFT:c,RIGHT:b,PAGEUP:d,PAGEDOWN:e,HOME:this.options.reversedControls?this.maxValue:this.minValue,END:this.options.reversedControls?this.minValue:this.maxValue};return this.options.rightToLeft&&(f.LEFT=b,f.RIGHT=c,this.options.vertical&&(f.UP=c,f.DOWN=b)),f},onKeyboardEvent:function(a){var c=this[this.tracking],d=a.keyCode||a.which,h=this.getKeyActions(c)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[d]];if(null!=h&&""!==this.tracking){a.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var i=this;b(function(){var a=i.roundStep(i.sanitizeValue(h));if(i.options.draggableRangeOnly){var b,c,d=i.highValue-i.lowValue;"lowValue"===i.tracking?(b=a,(c=a+d)>i.maxValue&&(c=i.maxValue,b=c-d)):(c=a,(b=a-d)<i.minValue&&(b=i.minValue,c=b+d)),i.positionTrackingBar(b,c)}else i.positionTrackingHandle(a)})}},onDragStart:function(a,b,c){var d=this.getEventPosition(c);this.dragging={active:!0,value:this.positionToValue(d),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-d:d-this.minH.rzsp,highLimit:this.options.rightToLeft?d-this.maxH.rzsp:this.maxH.rzsp-d},this.onStart(a,b,c)},getValue:function(a,b,c,d){var e=this.options.rightToLeft,f=null;return f="min"===a?c?d?e?this.minValue:this.maxValue-this.dragging.difference:e?this.maxValue-this.dragging.difference:this.minValue:e?this.positionToValue(b+this.dragging.lowLimit):this.positionToValue(b-this.dragging.lowLimit):c?d?e?this.minValue+this.dragging.difference:this.maxValue:e?this.maxValue:this.minValue+this.dragging.difference:e?this.positionToValue(b+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(b-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(f)},onDragMove:function(a,b){var c,d,e,f,g,h,i,j,k=this.getEventPosition(b);if(this.options.rightToLeft?(e=this.dragging.lowLimit,f=this.dragging.highLimit,i=this.maxH,j=this.minH):(e=this.dragging.highLimit,f=this.dragging.lowLimit,i=this.minH,j=this.maxH),g=f>=k,h=k>=this.maxPos-e,g){if(0===i.rzsp)return;c=this.getValue("min",k,!0,!1),d=this.getValue("max",k,!0,!1)}else if(h){if(j.rzsp===this.maxPos)return;d=this.getValue("max",k,!0,!0),c=this.getValue("min",k,!0,!0)}else c=this.getValue("min",k,!1),d=this.getValue("max",k,!1);this.positionTrackingBar(c,d)},positionTrackingBar:function(a,b){null!=this.options.minLimit&&a<this.options.minLimit&&(a=this.options.minLimit,b=a+this.dragging.difference),null!=this.options.maxLimit&&b>this.options.maxLimit&&(b=this.options.maxLimit,a=b-this.dragging.difference),this.lowValue=a,this.highValue=b,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(a)),this.updateHandles("highValue",this.valueToPosition(b))},positionTrackingHandle:function(a){var b=!1;a=this.applyMinMaxLimit(a),this.range&&(this.options.pushRange?(a=this.applyPushRange(a),b=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&a>this.highValue?a=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&a<this.lowValue&&(a=this.applyMinMaxRange(this.lowValue))),a=this.applyMinMaxRange(a),"lowValue"===this.tracking&&a>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),b=!0):"highValue"===this.tracking&&a<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),b=!0))),this[this.tracking]!==a&&(this[this.tracking]=a,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(a)),this.updateAriaAttributes(),b=!0),b&&this.applyModel(!0)},applyMinMaxLimit:function(a){return null!=this.options.minLimit&&a<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&a>this.options.maxLimit?this.options.maxLimit:a},applyMinMaxRange:function(a){var b="lowValue"===this.tracking?this.highValue:this.lowValue,c=Math.abs(a-b);return null!=this.options.minRange&&c<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&c>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:a},applyPushRange:function(a){var b="lowValue"===this.tracking?this.highValue-a:a-this.lowValue,c=null!==this.options.minRange?this.options.minRange:this.options.step,d=this.options.maxRange;return c>b?("lowValue"===this.tracking?(this.highValue=Math.min(a+c,this.maxValue),a=this.highValue-c,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(a-c,this.minValue),a=this.lowValue+c,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==d&&b>d&&("lowValue"===this.tracking?(this.highValue=a+d,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=a-d,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),a},applyModel:function(a){this.internalChange=!0,this.scope.$apply(),a&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var a=this,b="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){a.options.onStart(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh,b)})}},callOnChange:function(){if(this.options.onChange){var a=this,b="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){a.options.onChange(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh,b)})}},callOnEnd:function(){if(this.options.onEnd){var a=this,b="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){a.options.onEnd(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh,b)})}this.scope.$emit("slideEnded")}},h}]).directive("rzslider",["RzSlider",function(a){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(a,b){return b.rzSliderTplUrl||"rzSliderTpl.html"},link:function(b,c){b.slider=new a(b,c)}}}]);return b.run(["$templateCache",function(a){a.put("rzSliderTpl.html",'<div class=rzslider><span class="rz-bar-wrapper rz-left-out-selection"><span class=rz-bar></span></span> <span class="rz-bar-wrapper rz-right-out-selection"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class="rz-bubble rz-model-value"></span> <span class="rz-bubble rz-model-high"></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),b.name}),angular.module("ui.checkbox",[]).directive("checkbox",function(){return{scope:{},require:"ngModel",restrict:"E",replace:"true",template:"<button type=\"button\" ng-style=\"stylebtn\" class=\"btn btn-default\" ng-class=\"{'btn-xs': size==='default', 'btn-sm': size==='large', 'btn-lg': size==='largest', 'checked': checked===true}\"><span ng-style=\"styleicon\" class=\"glyphicon\" ng-class=\"{'glyphicon-ok': checked===true, 'glyphicon-minus': checked===undefined}\"></span></button>",compile:function(elem,attrs,transclude){return void 0!==attrs.ngClass&&(attrs.ngClass=attrs.ngClass.replace(/}\s*{/g,", ")),function(scope,elem,attrs,modelCtrl){scope.size="default",scope.stylebtn={},scope.styleicon={width:"10px",left:"-1px"},void 0!==attrs.large&&(scope.size="large",scope.stylebtn={"padding-top":"2px","padding-bottom":"2px",height:"30px"},scope.styleicon={width:"8px",left:"-5px","font-size":"17px"}),void 0!==attrs.larger&&(scope.size="larger",scope.stylebtn={"padding-top":"2px","padding-bottom":"2px",height:"34px"},scope.styleicon={width:"8px",left:"-8px","font-size":"22px"}),void 0!==attrs.largest&&(scope.size="largest",scope.stylebtn={"padding-top":"2px","padding-bottom":"2px",height:"45px"},scope.styleicon={width:"11px",left:"-11px","font-size":"30px"});var indeterminate=!1;"true"===attrs.indeterminate&&(indeterminate=!0);var trueValue=!0,falseValue=!1,indeterminateValue=void 0;void 0!==attrs.ngTrueValue&&(trueValue=attrs.ngTrueValue),void 0!==attrs.ngFalseValue&&(falseValue=attrs.ngFalseValue),void 0!==attrs.ngIndeterminateValue&&(indeterminateValue=attrs.ngIndeterminateValue),void 0!==scope.name&&(elem.name=scope.name),scope.$watch(function(){return modelCtrl.$modelValue===trueValue||!0===modelCtrl.$modelValue?modelCtrl.$setViewValue(trueValue):!0!==indeterminate||modelCtrl.$modelValue!==indeterminateValue&&void 0!==modelCtrl.$modelValue?modelCtrl.$setViewValue(falseValue):modelCtrl.$setViewValue(indeterminateValue),modelCtrl.$modelValue},function(newVal,oldVal){!0===indeterminate&&modelCtrl.$modelValue===indeterminateValue?scope.checked=void 0:scope.checked=modelCtrl.$modelValue===trueValue},!0),elem.bind("click",function(){scope.$apply(function(){!0===indeterminate?modelCtrl.$modelValue===falseValue?modelCtrl.$setViewValue(trueValue):modelCtrl.$modelValue===trueValue?modelCtrl.$setViewValue(indeterminateValue):modelCtrl.$setViewValue(falseValue):modelCtrl.$modelValue===falseValue?modelCtrl.$setViewValue(trueValue):modelCtrl.$setViewValue(falseValue)})})}}}}),function(){"use strict";angular.module("ngTextTruncate",[]).directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function($compile,ValidationServices,CharBasedTruncation,WordBasedTruncation){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"@ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:function($scope,$element,$attrs){$scope.toggleShow=function(){$scope.open=!$scope.open},$scope.useToggling=void 0===$attrs.ngTtNoToggling},link:function($scope,$element,$attrs){$scope.open=!1,ValidationServices.failIfWrongThreshouldConfig($scope.charsThreshould,$scope.wordsThreshould);var CHARS_THRESHOLD=parseInt($scope.charsThreshould),WORDS_THRESHOLD=parseInt($scope.wordsThreshould);$scope.$watch("text",function(){$element.empty(),CHARS_THRESHOLD?$scope.text&&CharBasedTruncation.truncationApplies($scope,CHARS_THRESHOLD)?CharBasedTruncation.applyTruncation(CHARS_THRESHOLD,$scope,$element):$element.append($scope.text):$scope.text&&WordBasedTruncation.truncationApplies($scope,WORDS_THRESHOLD)?WordBasedTruncation.applyTruncation(WORDS_THRESHOLD,$scope,$element):$element.append($scope.text)})}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(firstThreshould,secondThreshould){if(!firstThreshould&&!secondThreshould||firstThreshould&&secondThreshould)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function($compile){return{truncationApplies:function($scope,threshould){return $scope.text.length>threshould},applyTruncation:function(threshould,$scope,$element){if($scope.useToggling){var el=angular.element("<span>"+$scope.text.substr(0,threshould)+"<span ng-show='!open'>... </span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'>"+($scope.customMoreLabel?$scope.customMoreLabel:"More")+"</span><span ng-show='open'>"+$scope.text.substring(threshould)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+($scope.customLessLabel?$scope.customLessLabel:"Less")+"</span></span></span>");$compile(el)($scope),$element.append(el)}else $element.append($scope.text.substr(0,threshould)+"...")}}}]).factory("WordBasedTruncation",["$compile",function($compile){return{truncationApplies:function($scope,threshould){return $scope.text.split(" ").length>threshould},applyTruncation:function(threshould,$scope,$element){var splitText=$scope.text.split(" ");if($scope.useToggling){var el=angular.element("<span>"+splitText.slice(0,threshould).join(" ")+" <span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+($scope.customMoreLabel?$scope.customMoreLabel:"More")+"</span><span ng-show='open'>"+splitText.slice(threshould,splitText.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+($scope.customLessLabel?$scope.customLessLabel:"Less")+"</span></span></span>");$compile(el)($scope),$element.append(el)}else $element.append(splitText.slice(0,threshould).join(" ")+"...")}}}])}(),function(n,c){"use strict";function l(b,a,g){var d=g.baseHref(),k=b[0];return function(b,e,f){var g,h;h=(f=f||{}).expires,g=c.isDefined(f.path)?f.path:d,c.isUndefined(e)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",e=""),c.isString(h)&&(h=new Date(h)),e=(e=encodeURIComponent(b)+"="+encodeURIComponent(e))+(g?";path="+g:"")+(f.domain?";domain="+f.domain:""),e+=h?";expires="+h.toUTCString():"",4096<(f=(e+=f.secure?";secure":"").length+1)&&a.warn("Cookie '"+b+"' possibly not set or overflowed because it was too large ("+f+" > 4096 bytes)!"),k.cookie=e}}c.module("ngCookies",["ng"]).info({angularVersion:"1.6.4"}).provider("$cookies",[function(){var b=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(a,g){return{get:function(d){return a()[d]},getObject:function(d){return(d=this.get(d))?c.fromJson(d):d},getAll:function(){return a()},put:function(d,a,m){g(d,a,m?c.extend({},b,m):b)},putObject:function(d,b,a){this.put(d,c.toJson(b),a)},remove:function(a,k){g(a,void 0,k?c.extend({},b,k):b)}}}]}]),c.module("ngCookies").factory("$cookieStore",["$cookies",function(b){return{get:function(a){return b.getObject(a)},put:function(a,c){b.putObject(a,c)},remove:function(a){b.remove(a)}}}]),l.$inject=["$document","$log","$browser"],c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=l})}(window,window.angular),function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){switch(t.which){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!(t.metaKey||t.ctrlKey||t.altKey)},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)},toSeparator:function(t){var s={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return s||(e[t]?void 0:t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],s=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(s.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,s=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return t++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon-refresh ui-select-spin"}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var s=e.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(s)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,s,i,c){c(e,function(e){t.append(e)})}}}).filter("highlight",function(){return function(t,s){return s&&t?(""+t).replace(new RegExp(function(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(s),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(s){var i=s[0].getBoundingClientRect();return{width:i.width||s.prop("offsetWidth"),height:i.height||s.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);s.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,s,i,c){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");return(t.parent().attr("theme")||e.theme)+"/choices.tpl.html"},compile:function(i,n){if(!n.repeat)throw s("repeat","Expected 'repeat' expression.");var l=n.groupBy,a=n.groupFilter;if(l){var r=i.querySelectorAll(".ui-select-choices-group");if(1!==r.length)throw s("rows","Expected 1 .ui-select-choices-group but got '{0}'.",r.length);r.attr("ng-repeat",t.getGroupNgRepeatExpression())}var o=t.parse(n.repeat),u=i.querySelectorAll(".ui-select-choices-row");if(1!==u.length)throw s("rows","Expected 1 .ui-select-choices-row but got '{0}'.",u.length);u.attr("ng-repeat",o.repeatExpression(l)).attr("ng-if","$select.open");var d=i.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw s("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);d.attr("uis-transclude-append","");return(c.document.addEventListener?u:d).attr("ng-click","$select.select("+o.itemName+",$select.skipFocusser,$event)"),function(t,s,c,n){n.parseRepeatAttr(c.repeat,l,a),n.disableChoiceExpression=c.uiDisableChoice,n.onHighlightCallback=c.onHighlight,n.dropdownPosition=c.position?c.position.toLowerCase():e.dropdownPosition,t.$on("$destroy",function(){u.remove()}),t.$watch("$select.search",function(e){e&&!n.open&&n.multiple&&n.activate(!1,!0),n.activeIndex=n.tagging.isActivated?-1:0,!c.minimumInputLength||n.search.length>=c.minimumInputLength?n.refresh(c.refresh):n.items=[]}),c.$observe("refreshDelay",function(){var s=t.$eval(c.refreshDelay);n.refreshDelay=void 0!==s?s:e.refreshDelay}),t.$watch("$select.open",function(e){e?i.attr("role","listbox"):i.removeAttr("role")})}}}}]),s.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(t,s,i,c,n,l,a,r,o,u,d){function h(){w.resetSearchInput&&(w.search=y,w.selected&&w.items.length&&!w.multiple&&(w.activeIndex=function(e,t,s){if(e.findIndex)return e.findIndex(t,s);for(var i,c=Object(e),n=c.length>>>0,l=0;n>l;l++)if(i=c[l],t.call(s,i,l,c))return l;return-1}(w.items,function(e){return angular.equals(this,e)},w.selected)))}function v(e){return S.indexOf(e)>-1}function b(){var e=s.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw a("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(w.activeIndex<0)){var i=t[w.activeIndex],c=i.offsetTop+i.clientHeight-e[0].scrollTop,n=e[0].offsetHeight;c>n?e[0].scrollTop+=c-n:c<i.clientHeight&&(w.isGrouped&&0===w.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-c)}}var w=this,y="";if(w.placeholder=r.placeholder,w.searchEnabled=r.searchEnabled,w.sortable=r.sortable,w.refreshDelay=r.refreshDelay,w.paste=r.paste,w.resetSearchInput=r.resetSearchInput,w.refreshing=!1,w.spinnerEnabled=r.spinnerEnabled,w.spinnerClass=r.spinnerClass,w.removeSelected=r.removeSelected,w.closeOnSelect=!0,w.skipFocusser=!1,w.search=y,w.activeIndex=0,w.items=[],w.open=!1,w.focus=!1,w.disabled=!1,w.selected=void 0,w.dropdownPosition="auto",w.focusser=void 0,w.multiple=void 0,w.disableChoiceExpression=void 0,w.tagging={isActivated:!1,fct:void 0},w.taggingTokens={isActivated:!1,tokens:void 0},w.lockChoiceExpression=void 0,w.clickTriggeredSelect=!1,w.$filter=c,w.$element=s,w.$animate=function(){try{return u.get("$animate")}catch(e){return null}}(),w.searchInput=s.querySelectorAll("input.ui-select-search"),1!==w.searchInput.length)throw a("searchInput","Expected 1 input.ui-select-search but got '{0}'.",w.searchInput.length);w.isEmpty=function(){return angular.isUndefined(w.selected)||null===w.selected||""===w.selected||w.multiple&&0===w.selected.length},w.activate=function(e,c){if(w.disabled||w.open)w.open&&!w.searchEnabled&&w.close();else{c||h(),t.$broadcast("uis:activate"),w.open=!0,w.activeIndex=w.activeIndex>=w.items.length?0:w.activeIndex,-1===w.activeIndex&&!1!==w.taggingLabel&&(w.activeIndex=0);var n=s.querySelectorAll(".ui-select-choices-content"),l=s.querySelectorAll(".ui-select-search");if(w.$animate&&w.$animate.on&&w.$animate.enabled(n[0])){var a=function(t,s){"start"===s&&0===w.items.length?(w.$animate.off("removeClass",l[0],a),i(function(){w.focusSearchInput(e)})):"close"===s&&(w.$animate.off("enter",n[0],a),i(function(){w.focusSearchInput(e)}))};w.items.length>0?w.$animate.on("enter",n[0],a):w.$animate.on("removeClass",l[0],a)}else i(function(){w.focusSearchInput(e),!w.tagging.isActivated&&w.items.length>1&&b()})}},w.focusSearchInput=function(e){w.search=e||w.search,w.searchInput[0].focus()},w.findGroupByName=function(e){return w.groups&&w.groups.filter(function(t){return t.name===e})[0]},w.parseRepeatAttr=function(e,s,i){w.setItemsFn=s?function(e){var c=t.$eval(s);if(w.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(c)?c(e):e[c],s=w.findGroupByName(t);s?s.items.push(e):w.groups.push({name:t,items:[e]})}),i){var n=t.$eval(i);angular.isFunction(n)?w.groups=n(w.groups):angular.isArray(n)&&(w.groups=function(e,t){var s,i,c=[];for(s=0;s<t.length;s++)for(i=0;i<e.length;i++)e[i].name==[t[s]]&&c.push(e[i]);return c}(w.groups,n))}w.items=[],w.groups.forEach(function(e){w.items=w.items.concat(e.items)})}:function(e){w.items=e},w.parserResult=l.parse(e),w.isGrouped=!!s,w.itemProperty=w.parserResult.itemName;var r=w.parserResult.source,u=function(){var e=r(t);t.$uisSource=Object.keys(e).map(function(t){var s={};return s[w.parserResult.keyName]=t,s.value=e[t],s})};w.parserResult.keyName&&(u(),w.parserResult.source=o("$uisSource"+w.parserResult.filters),t.$watch(r,function(e,t){e!==t&&u()},!0)),w.refreshItems=function(e){e=e||w.parserResult.source(t);var s=w.selected;if(w.isEmpty()||angular.isArray(s)&&!s.length||!w.multiple||!w.removeSelected)w.setItemsFn(e);else if(void 0!==e&&null!==e){var i=e.filter(function(e){return angular.isArray(s)?s.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,s)});w.setItemsFn(i)}"auto"!==w.dropdownPosition&&"up"!==w.dropdownPosition||t.calculateDropdownPos(),t.$broadcast("uis:refresh")},t.$watchCollection(w.parserResult.source,function(e){if(void 0===e||null===e)w.items=[];else{if(!angular.isArray(e))throw a("items","Expected an array but got '{0}'.",e);w.refreshItems(e),angular.isDefined(w.ngModel.$modelValue)&&(w.ngModel.$modelValue=null)}})};var x;w.refresh=function(e){void 0!==e&&(x&&i.cancel(x),x=i(function(){var s=t.$eval(e);s&&angular.isFunction(s.then)&&!w.refreshing&&(w.refreshing=!0,s.then(function(){w.refreshing=!1}))},w.refreshDelay))},w.isActive=function(e){if(!w.open)return!1;var t=w.items.indexOf(e[w.itemProperty]),s=t==w.activeIndex;return!(!s||0>t)&&(s&&!angular.isUndefined(w.onHighlightCallback)&&e.$eval(w.onHighlightCallback),s)};var E=function(e){return w.selected&&angular.isArray(w.selected)&&w.selected.filter(function(t){return angular.equals(t,e)}).length>0},S=[];w.isDisabled=function(e){if(w.open){var t=e[w.itemProperty],i=!1;if(w.items.indexOf(t)>=0&&(angular.isDefined(w.disableChoiceExpression)||w.multiple)){if(t.isTag)return!1;w.multiple&&(i=E(t)),!i&&angular.isDefined(w.disableChoiceExpression)&&(i=!!e.$eval(w.disableChoiceExpression)),function(e,t){var s=S.indexOf(e);t&&-1===s&&S.push(e),!t&&s>-1&&S.splice(s,1)}(t,i)}return i}},w.select=function(e,s,c){if(void 0===e||!v(e)){if(!w.items&&!w.search&&!w.tagging.isActivated)return;if(!e||!v(e)){if(w.clickTriggeredSelect=!1,c&&("click"===c.type||"touchend"===c.type)&&e&&(w.clickTriggeredSelect=!0),w.tagging.isActivated&&!1===w.clickTriggeredSelect){if(!1===w.taggingLabel)if(w.activeIndex<0){if(void 0===e&&(e=void 0!==w.tagging.fct?w.tagging.fct(w.search):w.search),!e||angular.equals(w.items[0],e))return}else e=w.items[w.activeIndex];else if(0===w.activeIndex){if(void 0===e)return;if(void 0!==w.tagging.fct&&"string"==typeof e){if(!(e=w.tagging.fct(e)))return}else"string"==typeof e&&(e=e.replace(w.taggingLabel,"").trim())}if(E(e))return void w.close(s)}h(),t.$broadcast("uis:select",e);var n={};n[w.parserResult.itemName]=e,i(function(){w.onSelectCallback(t,{$item:e,$model:w.parserResult.modelMapper(t,n)})}),w.closeOnSelect&&w.close(s)}}},w.close=function(e){w.open&&(w.ngModel&&w.ngModel.$setTouched&&w.ngModel.$setTouched(),w.open=!1,h(),t.$broadcast("uis:close",e))},w.setFocus=function(){w.focus||w.focusInput[0].focus()},w.clear=function(e){w.select(void 0),e.stopPropagation(),i(function(){w.focusser[0].focus()},0,!1)},w.toggle=function(e){w.open?(w.close(),e.preventDefault(),e.stopPropagation()):w.activate()},w.isLocked=function(){return!1},t.$watch(function(){return angular.isDefined(w.lockChoiceExpression)&&""!==w.lockChoiceExpression},function(e){function t(e,t){var s=i.indexOf(e);t&&-1===s&&i.push(e),!t&&s>-1&&i.splice(s,0)}function s(e){return i.indexOf(e)>-1}if(e){var i=[];w.isLocked=function(e,i){var c=!1,n=w.selected[i];return n&&(e?(c=!!e.$eval(w.lockChoiceExpression),t(n,c)):c=s(n)),c}}});var C=null,I=!1;w.sizeSearchInput=function(){var e=w.searchInput[0],s=w.searchInput.parent().parent()[0],c=function(){return s.clientWidth*!!e.offsetParent},n=function(t){if(0===t)return!1;var s=t-e.offsetLeft-10;return 50>s&&(s=t),w.searchInput.css("width",s+"px"),!0};w.searchInput.css("width","10px"),i(function(){null!==C||n(c())||(C=t.$watch(function(){I||(I=!0,t.$$postDigest(function(){I=!1,n(c())&&(C(),C=null)}))},angular.noop))})},w.searchInput.on("keydown",function(s){var c=s.which;~[e.ENTER,e.ESC].indexOf(c)&&(s.preventDefault(),s.stopPropagation()),t.$apply(function(){var t=!1;if((w.items.length>0||w.tagging.isActivated)&&(function(t){var s=!0;switch(t){case e.DOWN:!w.open&&w.multiple?w.activate(!1,!0):w.activeIndex<w.items.length-1&&w.activeIndex++;break;case e.UP:!w.open&&w.multiple?w.activate(!1,!0):(w.activeIndex>0||0===w.search.length&&w.tagging.isActivated&&w.activeIndex>-1)&&w.activeIndex--;break;case e.TAB:w.multiple&&!w.open||w.select(w.items[w.activeIndex],!0);break;case e.ENTER:w.open&&(w.tagging.isActivated||w.activeIndex>=0)?w.select(w.items[w.activeIndex],w.skipFocusser):w.activate(!1,!0);break;case e.ESC:w.close();break;default:s=!1}return s}(c)||w.searchEnabled||(s.preventDefault(),s.stopPropagation()),w.taggingTokens.isActivated)){for(var n=0;n<w.taggingTokens.tokens.length;n++)w.taggingTokens.tokens[n]===e.MAP[s.keyCode]&&w.search.length>0&&(t=!0);t&&i(function(){w.searchInput.triggerHandler("tagged");var t=w.search.replace(e.MAP[s.keyCode],"").trim();w.tagging.fct&&(t=w.tagging.fct(t)),t&&w.select(t,!0)})}}),e.isVerticalMovement(c)&&w.items.length>0&&b(),c!==e.ENTER&&c!==e.ESC||(s.preventDefault(),s.stopPropagation())}),w.searchInput.on("paste",function(t){var s;if(s=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),(s=w.search+s)&&s.length>0)if(w.taggingTokens.isActivated){for(var i=[],c=0;c<w.taggingTokens.tokens.length;c++){var n=e.toSeparator(w.taggingTokens.tokens[c])||w.taggingTokens.tokens[c];if(s.indexOf(n)>-1){i=s.split(n);break}}0===i.length&&(i=[s]);var l=w.search;angular.forEach(i,function(e){var t=w.tagging.fct?w.tagging.fct(e):e;t&&w.select(t,!0)}),w.search=l||y,t.preventDefault(),t.stopPropagation()}else w.paste&&(w.paste(s),w.search=y,t.preventDefault(),t.stopPropagation())}),w.searchInput.on("tagged",function(){i(function(){h()})});var A=n(function(){w.sizeSearchInput()},50);angular.element(d).bind("resize",A),t.$on("$destroy",function(){w.searchInput.off("keyup keydown tagged blur paste"),angular.element(d).off("resize",A)}),t.$watch("$select.activeIndex",function(e){e&&s.find("input").attr("aria-activedescendant","ui-select-choices-row-"+w.generatedId+"-"+e)}),t.$watch("$select.open",function(e){e||s.find("input").removeAttr("aria-activedescendant")})}]),s.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,s,i,c,n,l){return{restrict:"EA",templateUrl:function(e,s){return(s.theme||t.theme)+(angular.isDefined(s.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(c,a){var r=/{(.*)}\s*{(.*)}/.exec(a.ngClass);if(r){var o="{"+r[1]+", "+r[2]+"}";a.ngClass=o,c.attr("ng-class",o)}return angular.isDefined(a.multiple)?c.append("<ui-select-multiple/>").removeAttr("multiple"):c.append("<ui-select-single/>"),a.inputId&&(c.querySelectorAll("input.ui-select-search")[0].id=a.inputId),function(c,a,r,o,u){function d(e){if(g.open){if(!(window.jQuery?window.jQuery.contains(a[0],e.target):a[0].contains(e.target))&&!g.clickTriggeredSelect){var s;if(g.skipFocusser)s=!0;else{var n=angular.element(e.target).controller("uiSelect");(s=n&&n!==g)||(s=~["input","button","textarea","select"].indexOf(e.target.tagName.toLowerCase()))}g.close(s),c.$digest()}g.clickTriggeredSelect=!1}}function p(){var t=i(a);($=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=t.width+"px",$[0].style.height=t.height+"px",a.after($),m=a[0].style.width,e.find("body").append(a),a[0].style.position="absolute",a[0].style.left=t.left+"px",a[0].style.top=t.top+"px",a[0].style.width=t.width+"px"}function h(){null!==$&&($.replaceWith(a),$=null,a[0].style.position="",a[0].style.left="",a[0].style.top="",a[0].style.width=m,g.setFocus())}var g=o[0],f=o[1];g.generatedId=t.generateId(),g.baseTitle=r.title||"Select box",g.focusserTitle=g.baseTitle+" focus",g.focusserId="focusser-"+g.generatedId,g.closeOnSelect=angular.isDefined(r.closeOnSelect)?n(r.closeOnSelect)():t.closeOnSelect,c.$watch("skipFocusser",function(){var e=c.$eval(r.skipFocusser);g.skipFocusser=void 0!==e?e:t.skipFocusser}),g.onSelectCallback=n(r.onSelect),g.onRemoveCallback=n(r.onRemove),g.ngModel=f,g.choiceGrouped=function(e){return g.isGrouped&&e&&e.name},r.tabindex&&r.$observe("tabindex",function(e){g.focusInput.attr("tabindex",e),a.removeAttr("tabindex")}),c.$watch(function(){return c.$eval(r.searchEnabled)},function(e){g.searchEnabled=void 0!==e?e:t.searchEnabled}),c.$watch("sortable",function(){var e=c.$eval(r.sortable);g.sortable=void 0!==e?e:t.sortable}),r.$observe("limit",function(){g.limit=angular.isDefined(r.limit)?parseInt(r.limit,10):void 0}),c.$watch("removeSelected",function(){var e=c.$eval(r.removeSelected);g.removeSelected=void 0!==e?e:t.removeSelected}),r.$observe("disabled",function(){g.disabled=void 0!==r.disabled&&r.disabled}),r.$observe("resetSearchInput",function(){var e=c.$eval(r.resetSearchInput);g.resetSearchInput=void 0===e||e}),r.$observe("paste",function(){g.paste=c.$eval(r.paste)}),r.$observe("tagging",function(){if(void 0!==r.tagging){var e=c.$eval(r.tagging);g.tagging={isActivated:!0,fct:!0!==e?e:void 0}}else g.tagging={isActivated:!1,fct:void 0}}),r.$observe("taggingLabel",function(){void 0!==r.tagging&&("false"===r.taggingLabel?g.taggingLabel=!1:g.taggingLabel=void 0!==r.taggingLabel?r.taggingLabel:"(new)")}),r.$observe("taggingTokens",function(){if(void 0!==r.tagging){var e=void 0!==r.taggingTokens?r.taggingTokens.split("|"):[",","ENTER"];g.taggingTokens={isActivated:!0,tokens:e}}}),r.$observe("spinnerEnabled",function(){var e=c.$eval(r.spinnerEnabled);g.spinnerEnabled=void 0!==e?e:t.spinnerEnabled}),r.$observe("spinnerClass",function(){var e=r.spinnerClass;g.spinnerClass=void 0!==e?r.spinnerClass:t.spinnerClass}),angular.isDefined(r.autofocus)&&l(function(){g.setFocus()}),angular.isDefined(r.focusOn)&&c.$on(r.focusOn,function(){l(function(){g.setFocus()})}),e.on("click",d),c.$on("$destroy",function(){e.off("click",d)}),u(c,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw s("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);a.querySelectorAll(".ui-select-match").replaceWith(i);var c=t.querySelectorAll(".ui-select-choices");if(c.removeAttr("ui-select-choices"),c.removeAttr("data-ui-select-choices"),1!==c.length)throw s("transcluded","Expected 1 .ui-select-choices but got '{0}'.",c.length);a.querySelectorAll(".ui-select-choices").replaceWith(c);var n=t.querySelectorAll(".ui-select-no-choice");n.removeAttr("ui-select-no-choice"),n.removeAttr("data-ui-select-no-choice"),1==n.length&&a.querySelectorAll(".ui-select-no-choice").replaceWith(n)});var v=c.$eval(r.appendToBody);(void 0!==v?v:t.appendToBody)&&(c.$watch("$select.open",function(e){e?p():h()}),c.$on("$destroy",function(){h()}));var $=null,m="",b=null,w="direction-up";c.$watch("$select.open",function(){"auto"!==g.dropdownPosition&&"up"!==g.dropdownPosition||c.calculateDropdownPos()});var y=function(e,t){e=e||i(a),t=t||i(b),b[0].style.position="absolute",b[0].style.top=-1*t.height+"px",a.addClass(w)},E=function(){l(function(){if("up"===g.dropdownPosition)y();else{a.removeClass(w);var t=i(a),s=i(b),c=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+s.height>c+e[0].documentElement.clientHeight?y(t,s):function(e,t){a.removeClass(w),e=e||i(a),t=t||i(b),b[0].style.position="",b[0].style.top=""}(t,s)}b[0].style.opacity=1})},S=!1;c.calculateDropdownPos=function(){if(g.open){if(0===(b=angular.element(a).querySelectorAll(".ui-select-dropdown")).length)return;if(""!==g.search||S||(b[0].style.opacity=0,S=!0),!i(b).height&&g.$animate&&g.$animate.on&&g.$animate.enabled(b)){var e=!0;g.$animate.on("enter",b,function(t,s){"close"===s&&e&&(E(),e=!1)})}else E()}else{if(null===b||0===b.length)return;b[0].style.opacity=0,b[0].style.position="",b[0].style.top="",a.removeClass(w)}}}}}}]),s.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(s){s.addClass("ui-select-match");var i=s.parent();return(t(i,"theme")||e.theme)+(angular.isDefined(t(i,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,s,i,c){function n(e){c.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}c.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){c.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",n),n(i.allowClear),c.multiple&&c.sizeSearchInput()}}}]),s.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,s){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var s,i=this,c=e.$select;angular.isUndefined(c.selected)&&(c.selected=[]),e.$evalAsync(function(){s=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){s.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){c.refreshItems&&c.refreshItems(),c.sizeSearchInput&&c.sizeSearchInput()},i.removeChoice=function(s){if(c.isLocked(null,s))return!1;var n=c.selected[s],l={};return l[c.parserResult.itemName]=n,c.selected.splice(s,1),i.activeMatchIndex=-1,c.sizeSearchInput(),t(function(){c.onRemoveCallback(e,{$item:n,$model:c.parserResult.modelMapper(e,l)})}),i.updateModel(),!0},i.getPlaceholder=function(){return c.selected&&c.selected.length?void 0:c.placeholder}}],controllerAs:"$selectMultiple",link:function(i,c,n,l){function r(t){var i=function(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}(d.searchInput[0]),l=d.selected.length-1,r=h.activeMatchIndex,o=h.activeMatchIndex+1,u=h.activeMatchIndex-1,p=r;return!(i>0||d.search.length&&t==e.RIGHT)&&(d.close(),p=function(){switch(t){case e.LEFT:return~h.activeMatchIndex?u:l;case e.RIGHT:return~h.activeMatchIndex&&r!==l?o:(d.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?h.removeChoice(r)?u:r:l;case e.DELETE:return!!~h.activeMatchIndex&&(h.removeChoice(h.activeMatchIndex),r)}}(),d.selected.length&&!1!==p?h.activeMatchIndex=Math.min(l,Math.max(0,p)):h.activeMatchIndex=-1,!0)}function o(e){if(void 0===e||void 0===d.search)return!1;return e.filter(function(e){return void 0!==d.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===d.search.toUpperCase()}).length>0}function u(e,t){var s=-1;if(angular.isArray(e))for(var i=angular.copy(e),c=0;c<i.length;c++)if(void 0===d.tagging.fct)i[c]+" "+d.taggingLabel===t&&(s=c);else{var n=i[c];angular.isObject(n)&&(n.isTag=!0),angular.equals(n,t)&&(s=c)}return s}var d=l[0],p=i.ngModel=l[1],h=i.$selectMultiple;d.multiple=!0,d.focusInput=d.searchInput,p.$isEmpty=function(e){return!e||0===e.length},p.$parsers.unshift(function(){for(var e,t={},s=[],c=d.selected.length-1;c>=0;c--)t={},t[d.parserResult.itemName]=d.selected[c],e=d.parserResult.modelMapper(i,t),s.unshift(e);return s}),p.$formatters.unshift(function(e){var t,s=d.parserResult&&d.parserResult.source(i,{$select:{search:""}}),c={};if(!s)return e;var n=[],l=function(e,s){if(e&&e.length){for(var l=e.length-1;l>=0;l--){if(c[d.parserResult.itemName]=e[l],t=d.parserResult.modelMapper(i,c),d.parserResult.trackByExp){var a=/(\w*)\./.exec(d.parserResult.trackByExp),r=/\.([^\s]+)/.exec(d.parserResult.trackByExp);if(a&&a.length>0&&a[1]==d.parserResult.itemName&&r&&r.length>0&&t[r[1]]==s[r[1]])return n.unshift(e[l]),!0}if(angular.equals(t,s))return n.unshift(e[l]),!0}return!1}};if(!e)return n;for(var a=e.length-1;a>=0;a--)l(d.selected,e[a])||l(s,e[a])||n.unshift(e[a]);return n}),i.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(angular.isDefined(p.$modelValue)&&(p.$modelValue=null),h.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);p.$viewValue=[]}d.selected=p.$viewValue,h.refreshComponent(),i.$evalAsync()},i.$on("uis:select",function(e,t){d.selected.length>=d.limit||(d.selected.push(t),h.updateModel())}),i.$on("uis:activate",function(){h.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var s=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(s)&&(i=r(s)),i&&s!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){d.activeIndex=!1===d.taggingLabel?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=!1===d.taggingLabel?-1:0,!1===d.taggingLabel)return;var s,n,l,a=angular.copy(d.items),r=angular.copy(d.items),p=!1,h=-1;if(void 0!==d.tagging.fct){if((n=d.$filter("filter")(a,{isTag:!0})).length>0&&(l=n[0]),a.length>0&&l&&(p=!0,a=a.slice(1,a.length),r=r.slice(1,r.length)),s=d.tagging.fct(d.search),r.some(function(e){return angular.equals(e,s)})||d.selected.some(function(e){return angular.equals(e,s)}))return void i.$evalAsync(function(){d.activeIndex=0,d.items=a});s&&(s.isTag=!0)}else{if((n=d.$filter("filter")(a,function(e){return e.match(d.taggingLabel)})).length>0&&(l=n[0]),void 0!==a[0]&&a.length>0&&l&&(p=!0,a=a.slice(1,a.length),r=r.slice(1,r.length)),s=d.search+" "+d.taggingLabel,u(d.selected,d.search)>-1)return;if(o(r.concat(d.selected)))return void(p&&(a=r,i.$evalAsync(function(){d.activeIndex=0,d.items=a})));if(o(r))return void(p&&(d.items=r.slice(1,r.length)))}p&&(h=u(d.selected,s)),h>-1?a=a.slice(h+1,a.length-1):(a=[],s&&a.push(s),a=a.concat(r)),i.$evalAsync(function(){if(d.activeIndex=0,d.items=a,d.isGrouped){var e=s?a.slice(1):a;d.setItemsFn(e),s&&(d.items.unshift(s),d.groups.unshift({name:"",items:[s],tagging:!0}))}})}}),d.searchInput.on("blur",function(){s(function(){h.activeMatchIndex=-1})})}}}]),s.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-no-choice");return(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),s.directive("uiSelectSingle",["$timeout","$compile",function(t,s){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,c,n,l){var a=l[0],r=l[1];r.$parsers.unshift(function(e){var s={};return s[a.parserResult.itemName]=e,a.parserResult.modelMapper(i,s)}),r.$formatters.unshift(function(e){var t,s=a.parserResult&&a.parserResult.source(i,{$select:{search:""}}),c={};if(s){var n=function(s){return c[a.parserResult.itemName]=s,(t=a.parserResult.modelMapper(i,c))===e};if(a.selected&&n(a.selected))return a.selected;for(var l=s.length-1;l>=0;l--)if(n(s[l]))return s[l]}return e}),i.$watch("$select.selected",function(e){r.$viewValue!==e&&r.$setViewValue(e)}),r.$render=function(){a.selected=r.$viewValue},i.$on("uis:select",function(e,t){a.selected=t}),i.$on("uis:close",function(e,s){t(function(){a.focusser.prop("disabled",!1),s||a.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){o.prop("disabled",!0)});var o=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");s(o)(i),a.focusser=o,a.focusInput=o,c.parent().append(o),o.bind("focus",function(){i.$evalAsync(function(){a.focus=!0})}),o.bind("blur",function(){i.$evalAsync(function(){a.focus=!1})}),o.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),a.select(void 0),void i.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||(t.which!=e.DOWN&&t.which!=e.UP&&t.which!=e.ENTER&&t.which!=e.SPACE||(t.preventDefault(),t.stopPropagation(),a.activate()),i.$digest()))}),o.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(a.activate(o.val()),o.val(""),i.$digest())})}}}]),s.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,s){return{require:["^^uiSelect","^ngModel"],link:function(t,i,c,n){if(null===t[c.uiSelectSort])throw s("sort","Expected a list to sort");var l=n[0],a=n[1],o=angular.extend({axis:"horizontal"},t.$eval(c.uiSelectSortOptions)).axis,u="dragging",d="dropping",p="dropping-before",h="dropping-after";t.$watch(function(){return l.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(u),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),i.on("dragend",function(){v(u)});var g,v=function(e){angular.forEach(l.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},$=function(e){e.preventDefault();("vertical"===o?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===o?"offsetHeight":"offsetWidth"]/2?(v(h),i.addClass(p)):(v(p),i.addClass(h))},m=function(t){t.preventDefault();var s=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(g),g=e(function(){b(s)},20)},b=function(e){var s=t.$eval(c.uiSelectSort),n=s[e],l=null;l=i.hasClass(p)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,function(e,t){this.splice(t,0,this.splice(e,1)[0])}.apply(s,[e,l]),a.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:s,item:n,from:e,to:l})}),v(d),v(p),v(h),i.off("drop",m)};i.on("dragenter",function(){i.hasClass(u)||(i.addClass(d),i.on("dragover",$),i.on("drop",m))}),i.on("dragleave",function(e){e.target==i&&(v(d),v(p),v(h),i.off("dragover",$),i.off("drop",m))})}}}]),s.factory("$$uisDebounce",["$timeout",function(e){return function(t,s){var i;return function(){var c=this,n=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(c,n)},s)}}}]),s.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(s,i,c,n){n.onOpenCloseCallback=e(c.uisOpenClose),s.$watch("$select.open",function(e,i){e!==i&&t(function(){n.onOpenCloseCallback(s,{isOpen:e})})})}}}]),s.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){this.parse=function(s){var i;if(!(i=s.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",s);var c=i[5],n="";if(i[3]){c=i[5].replace(/(^\()|(\)$)/g,"");var l=i[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);l&&l[1].trim()&&(n=l[1],c=c.replace(n,""))}return{itemName:i[4]||i[2],keyName:i[3],source:t(c),filters:n,trackByExp:i[6],modelMapper:t(i[1]||i[4]||i[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]);var hex_chr="0123456789abcdef";!function(exports){"use strict";exports.stringify=function stringify(v){function encode(s){return/[^\w-.]/.test(s)?s.replace(/[^\w-.]/g,function(ch){return"$"===ch?"!":(ch=ch.charCodeAt(0))<256?"*"+("00"+ch.toString(16)).slice(-2):"**"+("0000"+ch.toString(16)).slice(-4)}):s}var tmpAry;switch(typeof v){case"number":return isFinite(v)?"~"+v:"~null";case"boolean":return"~"+v;case"string":return"~'"+encode(v);case"object":if(!v)return"~null";if(tmpAry=[],Array.isArray(v)){for(var i=0;i<v.length;i++)tmpAry[i]=stringify(v[i])||"~null";return"~("+(tmpAry.join("")||"~")+")"}for(var key in v)if(v.hasOwnProperty(key)){var val=stringify(v[key]);val&&tmpAry.push(encode(key)+val)}return"~("+tmpAry.join("~")+")";default:return}};var reserved={true:!0,false:!1,null:null};exports.parse=function(s){function eat(expected){if(s.charAt(i)!==expected)throw new Error("bad JSURL syntax: expected "+expected+", got "+(s&&s.charAt(i)));i++}function decode(){for(var ch,beg=i,r="";i<len&&"~"!==(ch=s.charAt(i))&&")"!==ch;)switch(ch){case"*":beg<i&&(r+=s.substring(beg,i)),"*"===s.charAt(i+1)?(r+=String.fromCharCode(parseInt(s.substring(i+2,i+6),16)),beg=i+=6):(r+=String.fromCharCode(parseInt(s.substring(i+1,i+3),16)),beg=i+=3);break;case"!":beg<i&&(r+=s.substring(beg,i)),r+="$",beg=++i;break;default:i++}return r+s.substring(beg,i)}if(!s)return s;var i=0,len=(s=s.replace(/%27/g,"'")).length;return function parseOne(){var result,ch,beg;switch(eat("~"),ch=s.charAt(i)){case"(":if(i++,"~"===s.charAt(i))if(result=[],")"===s.charAt(i+1))i++;else do{result.push(parseOne())}while("~"===s.charAt(i));else if(result={},")"!==s.charAt(i))do{result[decode()]=parseOne()}while("~"===s.charAt(i)&&++i);eat(")");break;case"'":i++,result=decode();break;default:for(beg=i++;i<len&&/[^)~]/.test(s.charAt(i));)i++;var sub=s.substring(beg,i);if(/[\d\-]/.test(ch))result=parseFloat(sub);else if(void 0===(result=reserved[sub]))throw new Error("bad value keyword: "+sub)}return result}()}}("undefined"!=typeof exports?exports:window.JSURL=window.JSURL||{}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}function F(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}function M(){this.expando=n.expando+M.uid++}function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c)}catch(e){}O.set(a,b,c)}else c=void 0;return c}function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,n.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function _(a,b){var c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if((f=a[o])||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;n.merge(m,g.childNodes),(g=l.firstChild).textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",o=0;f=m[o++];)if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c)for(k=0;f=g[k++];)Z.test(f.type||"")&&c.push(f);return l}function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(i=(h=n.map(_(e,"script"),qa)).length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||("none"!==(c=ya(a,b))&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),(b=wa[0].contentDocument).write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),""!==(g=c?c.getPropertyValue(b)||c[b]:void 0)&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ma(a){if(a in La)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;c--;)if((a=Ka[c]+b)in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if((0>(e=Fa(a,b,f))||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)(d=a[g]).style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)(d=a[g]).style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),f=1-(c/j.duration||0),g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(function(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=n.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function fb(a){return a.getAttribute&&a.getAttribute("class")||""}function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===tb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;(a=n.trim(a))&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a))for(c=a.length;c>d&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var e=[],f=0,g=a.length,h=!c;g>f;f++)!b(a[f],f)!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)null!=(e=b(a[g],g,c))&&h.push(e);else for(g in a)null!=(e=b(a[g],g,c))&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){for((k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),h=(r=g(a)).length,l=V.test(k)?"#"+k:"[id='"+k+"']";h--;)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){for(var c=a.split("|"),e=c.length;e--;)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function la(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&void 0!==a.getElementsByTagName&&a}function pa(){}function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||function(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ua(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if((c=d.filter[a[i].type].apply(null,a[i].matches))[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){for(o=0,g||l.ownerDocument===n||(m(l),h=!p);q=a[o++];)if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){for(o=0;q=b[o++];)q(t,u,g,h);if(f){if(r>0)for(;s--;)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!=d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(void 0!==b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return void 0!==b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(1&(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);for(c=a;c=c.parentNode;)g.unshift(c);for(c=b;c=c.parentNode;)h.unshift(c);for(;g[d]===h[d];)d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},(d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(t=(n=(j=(k=(l=(m=q)[u]||(m[u]={}))[m.uniqueID]||(l[m.uniqueID]={}))[a]||[])[0]===w&&j[1])&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}}).pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);return pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)},h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)(f=wa(b[c]))[u]?d.push(f):e.push(f);(f=A(a,xa(e,d))).selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if((j=o[0]=o[0].slice(0)).length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(!(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0]))return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=W.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),!(a=f.length&&qa(j)))return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(!(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a))||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return(f=d.getElementById(e[2]))&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))}).prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;n.Callbacks=function(a){a="string"==typeof a?function(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1)for(c=g.shift();++h<f.length;)!1===f[h].apply(c[0],c[1])&&a.stopOnFalse&&(h=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,f,c))>-1;)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(!0===a?--n.readyWait:n.isReady)||(n.isReady=!0,!0!==a&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}}),n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?void 0!==(d=this.get(a,b))?d:this.get(a,n.camelCase(b)):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&0===(d=g[c].name).indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d]));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(void 0!==(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase())))return c;if(d=n.camelCase(a),void 0!==(c=O.get(f,d)))return c;if(void 0!==(c=R(f,d,void 0)))return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b);"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,function(){n.dequeue(a,b)},f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=N.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;var ba=/<|&#?\w+;/;!function(){var b=d.createDocumentFragment().appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return void 0!==n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),j=(b=(b||"").match(G)||[""]).length;j--;)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,p,g)||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){for(j=(b=(b||"").match(G)||[""]).length;j--;)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},m=i[o=(d?l.delegateType:l.bindType)||o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,p,r.handle)||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,void 0!==(d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i))&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];for(h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;b--;)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,e=a.relatedTarget,f=a.handleObj;return e&&(e===this||n.contains(this,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return(g=_(h,"script")).length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){pa(this,a).appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)1===(b=this[c]||{}).nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"},Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}}))}();var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:("string"===(f=typeof c)&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),void(null!=c&&c==c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),(g=n.cssHooks[b]||n.cssHooks[h])&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(0,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=Ra,(Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}}).init.prototype=Ra.prototype,(Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""))&&"auto"!==b?b:0},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}}).scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,e,f,g,h,i,j,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(null==(h=n._queueHooks(a,"fx")).unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],"inline"===("none"===(j=n.css(a,"display"))?N.get(a,"olddisplay")||za(a.nodeName):j)&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,(a=d.createElement("input")).value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:null==(d=n.find.attr(a,b))?void 0:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return!1===b?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");e!==(h=n.trim(d))&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");e!==(h=n.trim(d))&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=n(this),f=a.match(G)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||((b=fb(this))&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(null==(e=d?a.call(this,c,n(this).val()):a)?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),(b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:"string"==typeof(c=e.value)?c.replace(gb,""):null==c?"":c:void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(((c=d[i]).selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||!1!==o.trigger.apply(e,c))){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=p[g++])&&!b.isPropagationStopped();)b.type=g>1?j:o.bindType||q,(m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"))&&m.apply(h,c),(m=l&&h[l])&&m.apply&&L(h)&&(b.result=m.apply(h,c),!1===b.result&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&!1!==o._default.apply(p.pop(),c)||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&((i=e[l])&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href,n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=function(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}(m,x,d)),u=function(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if((h=e.split(" "))[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}(m,u,x,j),j?(m.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(n.lastModified[f]=w),(w=x.getResponseHeader("etag"))&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h)for(h={};b=ob.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;(k=n.event&&m.global)&&0==n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(!1===m.beforeSend.call(o,x,m)||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):!1!==b.jsonp&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length},n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).selectivity=t()}}(function(){return function t(e,i,n){function s(o,l){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(r)return r(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return s(i||t)},h,h.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){var s=t(5).Symbol;e.exports=s},{5:5}],2:[function(t,e,i){var s=t(1),r=t(13),o=1/0,l=s?s.prototype:void 0,u=l?l.toString:void 0;e.exports=function(t){if("string"==typeof t)return t;if(r(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}},{1:1,13:13}],3:[function(t,e,i){e.exports=function(t){return t&&t.Object===Object?t:null}},{}],4:[function(t,e,i){var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};e.exports=function(t){return s[t]}},{}],5:[function(t,e,i){(function(i){var n=t(3),s=n("object"==typeof i&&i),r=n("object"==typeof self&&self),o=n("object"==typeof this&&this),l=s||r||o||Function("return this")();e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],6:[function(t,e,i){var s=t(10),r=t(14),o=t(15),l="Expected a function",u=Math.max,a=Math.min;e.exports=function(t,e,i){function n(e){var i=y,n=w;return y=w=void 0,E=e,_=t.apply(n,i)}function d(t){var i=t-x;return void 0===x||i>=e||i<0||S&&t-E>=b}function f(){var t=r();return d(t)?p(t):void(I=setTimeout(f,function(t){var s=e-(t-x);return S?a(s,b-(t-E)):s}(t)))}function p(t){return I=void 0,T&&y?n(t):(y=w=void 0,_)}function g(){var t=r(),i=d(t);if(y=arguments,w=this,x=t,i){if(void 0===I)return function(t){return E=t,I=setTimeout(f,e),O?n(t):_}(x);if(S)return I=setTimeout(f,e),n(x)}return void 0===I&&(I=setTimeout(f,e)),_}var y,w,b,_,I,x,E=0,O=!1,S=!1,T=!0;if("function"!=typeof t)throw new TypeError(l);return e=o(e)||0,s(i)&&(O=!!i.leading,S="maxWait"in i,b=S?u(o(i.maxWait)||0,e):b,T="trailing"in i?!!i.trailing:T),g.cancel=function(){E=0,y=x=w=I=void 0},g.flush=function(){return void 0===I?_:p(r())},g}},{10:10,14:14,15:15}],7:[function(t,e,i){var s=t(4),r=t(16),o=/[&<>"'`]/g,l=RegExp(o.source);e.exports=function(t){return(t=r(t))&&l.test(t)?t.replace(o,s):t}},{16:16,4:4}],8:[function(t,e,i){var n=Array.isArray;e.exports=n},{}],9:[function(t,e,i){var s=t(10),r="[object Function]",o="[object GeneratorFunction]",u=Object.prototype.toString;e.exports=function(t){var e=s(t)?u.call(t):"";return e==r||e==o}},{10:10}],10:[function(t,e,i){e.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},{}],11:[function(t,e,i){e.exports=function(t){return!!t&&"object"==typeof t}},{}],12:[function(t,e,i){var s=t(8),r=t(11),o="[object String]",u=Object.prototype.toString;e.exports=function(t){return"string"==typeof t||!s(t)&&r(t)&&u.call(t)==o}},{11:11,8:8}],13:[function(t,e,i){var s=t(11),r="[object Symbol]",l=Object.prototype.toString;e.exports=function(t){return"symbol"==typeof t||s(t)&&l.call(t)==r}},{11:11}],14:[function(t,e,i){e.exports=function(){return Date.now()}},{}],15:[function(t,e,i){var s=t(9),r=t(10),o=t(13),l=NaN,u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(o(t))return l;if(r(t)){var e=s(t.valueOf)?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var i=h.test(t);return i||c.test(t)?d(t.slice(2),i?2:8):a.test(t)?l:+t}},{10:10,13:13,9:9}],16:[function(t,e,i){var s=t(2);e.exports=function(t){return null==t?"":s(t)}},{2:2}],17:[function(t,e,i){"use strict";function n(t){s.each(l,function(e,i){t.on(e,function(t){t.originalEvent&&i.forEach(function(e){t[e]=t.originalEvent[e]})})})}var s=window.jQuery||window.Zepto,r=t(12),o=t(33),l={change:["added","removed","value"],"selectivity-change":["added","removed","value"],"selectivity-highlight":["id","item"],"selectivity-selected":["id","item"],"selectivity-selecting":["id","item"]};s.fn.selectivity=function(t,e){var i,l=Array.prototype.slice.call(arguments,1);return this.each(function(){var u=this.selectivity;if(u){if("data"===t?t=l.length?"setData":"getData":"val"===t||"value"===t?t=l.length?"setValue":"getValue":r(t)||(l=[t],t="setOptions"),!s.isFunction(u[t]))throw new Error("Unknown method: "+t);void 0===i&&(i=u[t].apply(u,l))}else if(r(t)){if("destroy"!==t)throw new Error("Cannot call method on element without Selectivity instance")}else{e=s.extend({},t,{element:this});var a=s(this);a.is("select")&&a.prop("multiple")&&(e.multiple=!0);var h=o.Inputs,c=e.inputType||(e.multiple?"Multiple":"Single");if(!s.isFunction(c)){if(!h[c])throw new Error("Unknown Selectivity input type: "+c);c=h[c]}this.selectivity=new c(e),n(a=s(this.selectivity.el)),void 0===i&&(i=a)}}),void 0===i?this:i},o.patchEvents=n},{12:12,33:33,jquery:"jquery"}],18:[function(t,e,i){"use strict";function n(t,e){for(;t&&!u(t,e);)t=t.parentElement;return t||null}function s(t,e){this.el=a(t.template("dropdown",{dropdownCssClass:t.options.dropdownCssClass,searchInputPlaceholder:t.options.searchInputPlaceholder,showSearchInput:e.showSearchInput})),this.resultsContainer=this.$(".selectivity-results-container"),this.hasMore=!1,this.highlightedResult=null,this.loadMoreHighlighted=!1,this.options=e,this.results=[],this.selectivity=t,this._closed=!1,this._lastMousePosition={},this.close=this.close.bind(this),this.position=this.position.bind(this),!1!==t.options.closeOnSelect&&t.events.on("selectivity-selecting",this.close),this.addToDom(),this.showLoading(),e.showSearchInput&&(t.initInput(this.$(".selectivity-search-input")),t.focus());var i={};i["click "+m]=this._loadMoreClicked,i["click "+g]=this._resultClicked,i["mouseenter "+m]=this._loadMoreHovered,i["mouseenter "+g]=this._resultHovered,this.events=new o(this.el,this),this.events.on(i),this._attachScrollListeners(),this._suppressWheel(),setTimeout(this.triggerOpen.bind(this),1)}var r=(window.jQuery||window.Zepto).extend,o=t(19),l=t(36),u=t(38),a=t(39),h=t(40),c=t(41),d=t(42),f=t(33),p="highlight",v="."+p,m=".selectivity-load-more",g=".selectivity-result-item",y=["scroll","touchend","touchmove"];r(s.prototype,{$:function(t){return this.el.querySelector(t)},addToDom:function(){this.selectivity.el.appendChild(this.el)},close:function(){this._closed||(this._closed=!0,h(this.el),this.selectivity.events.off("selectivity-selecting",this.close),this.triggerClose(),this._removeScrollListeners())},highlight:function(t,e){d(this.$(v),p,!1),d(this.$(l(g,t.id)),p,!0),this.highlightedResult=t,this.loadMoreHighlighted=!1,this.selectivity.triggerEvent("selectivity-highlight",{item:t,id:t.id,reason:e&&e.reason||"unspecified"})},highlightLoadMore:function(){d(this.$(v),p,!1),d(this.$(m),p,!0),this.highlightedResult=null,this.loadMoreHighlighted=!0},loadMore:function(){h(this.$(m)),this.resultsContainer.innerHTML+=this.selectivity.template("loading"),this.options.query({callback:function(t){if(!t||!t.results)throw new Error("callback must be passed a response object");this._showResults(f.processItems(t.results),{add:!0,hasMore:!!t.more})}.bind(this),error:this._showResults.bind(this,[],{add:!0}),offset:this.results.length,selectivity:this.selectivity,term:this.term})},position:function(){var t=this.options.position;t&&t(this.el,this.selectivity.el),this._scrolled()},renderItems:function(t){var e=this.selectivity;return t.map(function(t){var i=e.template(t.id?"resultItem":"resultLabel",t);return t.children&&(i+=e.template("resultChildren",{childrenHtml:this.renderItems(t.children)})),i},this).join("")},search:function(t){if(this.term=t,this.options.items){t=f.transformText(t);var e=this.selectivity.options.matcher||f.matcher;this._showResults(this.options.items.map(function(i){return e(i,t)}).filter(function(t){return!!t}),{term:t})}else this.options.query&&this.options.query({callback:function(e){if(!e||!e.results)throw new Error("callback must be passed a response object");this._showResults(f.processItems(e.results),{hasMore:!!e.more,term:t})}.bind(this),error:this.showError.bind(this),offset:0,selectivity:this.selectivity,term:t})},selectHighlight:function(){this.highlightedResult?this.selectItem(this.highlightedResult.id):this.loadMoreHighlighted&&this.loadMore()},selectItem:function(t){var e=f.findNestedById(this.results,t);if(e&&!e.disabled&&!1!==e.selectable){var i={id:t,item:e};this.selectivity.triggerEvent("selectivity-selecting",i)&&this.selectivity.triggerEvent("selectivity-selected",i)}},showError:function(t,e){this.resultsContainer.innerHTML=this.selectivity.template("error",{escape:!e||!1!==e.escape,message:t}),this.hasMore=!1,this.results=[],this.highlightedResult=null,this.loadMoreHighlighted=!1,this.position()},showLoading:function(){this.resultsContainer.innerHTML=this.selectivity.template("loading"),this.hasMore=!1,this.results=[],this.highlightedResult=null,this.loadMoreHighlighted=!1,this.position()},showResults:function(t,e){e.add?h(this.$(".selectivity-loading")):this.resultsContainer.innerHTML="";var i=this.renderItems(this.selectivity.filterResults(t));e.hasMore?i+=this.selectivity.template("loadMore"):i||e.add||(i=this.selectivity.template("noResults",{term:e.term})),this.resultsContainer.innerHTML+=i,this.results=e.add?this.results.concat(t):t,this.hasMore=e.hasMore;var n=this.selectivity.getValue();if(n&&!Array.isArray(n)){var s=f.findNestedById(t,n);s&&this.highlight(s,{reason:"current_value"})}else!1===this.options.highlightFirstItem||e.add&&!this.loadMoreHighlighted||this._highlightFirstItem(t);this.position()},triggerClose:function(){this.selectivity.triggerEvent("selectivity-close")},triggerOpen:function(){this.selectivity.triggerEvent("selectivity-open")},_attachScrollListeners:function(){for(var t=0;t<y.length;t++)window.addEventListener(y[t],this.position,!0);window.addEventListener("resize",this.position)},_highlightFirstItem:function(t){function e(t){for(var i=0,n=t.length;i<n;i++){var s=t[i];if(s.id)return s;if(s.children){var r=e(s.children);if(r)return r}}}var i=e(t);i?this.highlight(i,{reason:"first_result"}):(this.highlightedResult=null,this.loadMoreHighlighted=!1)},_loadMoreClicked:function(t){this.loadMore(),c(t)},_loadMoreHovered:function(t){void 0!==t.screenX&&t.screenX===this._lastMousePosition.x&&void 0!==t.screenY&&t.screenY===this._lastMousePosition.y||(this.highlightLoadMore(),this._recordMousePosition(t))},_recordMousePosition:function(t){this._lastMousePosition={x:t.screenX,y:t.screenY}},_removeScrollListeners:function(){for(var t=0;t<y.length;t++)window.removeEventListener(y[t],this.position,!0);window.removeEventListener("resize",this.position)},_resultClicked:function(t){this.selectItem(this.selectivity.getRelatedItemId(t)),c(t)},_resultHovered:function(t){if(!t.screenX||t.screenX!==this._lastMousePosition.x||!t.screenY||t.screenY!==this._lastMousePosition.y){var e=this.selectivity.getRelatedItemId(t),i=f.findNestedById(this.results,e);i&&!i.disabled&&this.highlight(i,{reason:"hovered"}),this._recordMousePosition(t)}},_scrolled:function(){var t=this.$(m);t&&t.offsetTop-this.resultsContainer.scrollTop<this.el.clientHeight&&this.loadMore()},_showResults:function(t,e){this.showResults(t,r({dropdown:this},e))},_suppressWheel:function(){var t=this.selectivity.options.suppressWheelSelector;if(null!==t){var e=t||".selectivity-results-container";this.events.on("wheel",e,function(t){function i(){c(t),t.preventDefault()}var s=0===t.deltaMode?t.deltaY:40*t.deltaY,r=n(t.target,e),o=r.clientHeight,l=r.scrollHeight,u=r.scrollTop;l>o&&(s<-u?(r.scrollTop=0,i()):s>l-o-u&&(r.scrollTop=l,i()))})}}}),e.exports=f.Dropdown=s},{19:19,33:33,36:36,38:38,39:39,40:40,41:41,42:42,"lodash/extend":"lodash/extend"}],19:[function(t,e,i){"use strict";function n(t,e){this.context=e||null,this.el=t,this.events={},this._onEvent=this._onEvent.bind(this)}var s=(window.jQuery||window.Zepto).extend,r=t(12),o=t(38),l=["blur","focus","mouseenter","mouseleave","scroll"];s(n.prototype,{destruct:function(){Object.keys(this.events).forEach(function(t){var e=l.indexOf(t)>-1;this.el.removeEventListener(t,this._onEvent,e)},this),this.context=null,this.el=null,this.events=null},off:function(t,e,i){if(r(e)||(i=e,e=""),i)for(var n=this.events[t][e],s=0;s<n.length;s++)n[s]===i&&(n.splice(s,1),s--);else this.events[t][e]=[]},on:function(t,e,i){if(r(t)){if(r(e)||(i=e,e=""),!this.events.hasOwnProperty(t)){var n=l.indexOf(t)>-1;this.el.addEventListener(t,this._onEvent,n),this.events[t]={}}this.events[t].hasOwnProperty(e)||(this.events[t][e]=[]),this.events[t][e].indexOf(i)<0&&this.events[t][e].push(i)}else{var s=t;for(var o in s)if(s.hasOwnProperty(o)){var u=o.split(" ");u.length>1?this.on(u[0],u[1],s[o]):this.on(u[0],s[o])}}},_onEvent:function(t){function e(e){for(var i=0;i<e.length;i++)e[i].call(s,t)}var i=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),i=!0};for(var s=this.context,r=t.target,l=this.events[t.type.toLowerCase()];r&&r!==this.el&&!i;){for(var u in l)u&&l.hasOwnProperty(u)&&o(r,u)&&e(l[u]);r=r.parentElement}!i&&l.hasOwnProperty("")&&e(l[""])}}),e.exports=n},{12:12,38:38,"lodash/extend":"lodash/extend"}],20:[function(t,e,i){"use strict";function n(t){var e=t.indexOf("@");if(-1===e||t.indexOf(" ")>-1)return!1;var i=t.lastIndexOf(".");return-1===i?e<t.length-2:!(i>e)||i<t.length-2}function s(t,e){for(var i=(e=void 0===e?t.length:e)-1;i>=0;i--)if(/\s/.test(t[i]))return t.slice(i+1,e);return t.slice(0,e)}function r(t,e){return t.charAt(0)===e[0]&&t.slice(-1)===e[1]?t.slice(1,-1).trim():t.trim()}function o(t){var e=s(t),i=t.slice(0,-e.length).trim();return n(e)?(e=r(r(e,"()"),"<>"),i=r(i,'""').trim()||e,{id:e,text:i}):t.trim()?{id:t,text:t}:null}function l(t,e,i){function r(t){if(t)for(var e=0,i=t.length;e<i;e++)switch(t[e]){case";":case",":case"\n":return!0;case" ":case"\t":if(n(s(t,e)))return!0;break;case'"':do{e++}while(e<i&&'"'!==t[e]);break;default:continue}return!1}function l(t){for(var e=0,i=t.length;e<i;e++)switch(t[e]){case";":case",":case"\n":return{term:t.slice(0,e),input:t.slice(e+1)};case" ":case"\t":if(n(s(t,e)))return{term:t.slice(0,e),input:t.slice(e+1)};break;case'"':do{e++}while(e<i&&'"'!==t[e]);break;default:continue}return{}}for(;r(t);){var u=l(t);if(u.term){var a=o(u.term);!a||a.id&&c.findById(e,a.id)||i(a)}t=u.input}return t}function u(t){h.call(this,a({createTokenItem:o,showDropdown:!1,tokenizer:l},t)),this.events.on("blur",function(){var t=this.input;t&&n(s(t.value))&&this.add(o(t.value))})}var a=(window.jQuery||window.Zepto).extend,h=t(21),c=t(33);c.inherits(u,h),e.exports=c.Inputs.Email=u},{21:21,33:33,"lodash/extend":"lodash/extend"}],21:[function(t,e,i){"use strict";function n(t){o.call(this,s({positionDropdown:function(t,e){var i=e.getBoundingClientRect(),n=t.clientHeight,r=i.bottom+n>window.innerHeight&&i.top-n>0;s(t.style,{left:i.left+"px",top:(r?i.top-n:i.bottom)+"px",width:i.width+"px"})},showSearchInputInDropdown:!1},t)),this._reset();var e={change:this.rerenderSelection,click:this._clicked,"selectivity-selected":this._resultSelected};e["change "+m]=c,e["click "+g]=this._itemClicked,e["click "+g+"-remove"]=this._itemRemoveClicked,e["keydown "+m]=this._keyHeld,e["keyup "+m]=this._keyReleased,e["paste "+m]=this._onPaste,this.events.on(e)}var s=(window.jQuery||window.Zepto).extend,r=t(12),o=t(33),l=t(36),u=t(37),a=t(39),h=t(40),c=t(41),d=t(42),m=".selectivity-multiple-input",g=".selectivity-multiple-selected-item",y="ontouchstart"in window,w=o.inherits(n,o,{add:function(t){var e=o.isValidId(t),i=e?t:this.validateItem(t)&&t.id;-1===this._value.indexOf(i)&&(this._value.push(i),e&&this.options.initSelection?this.options.initSelection([i],function(e){this._value.indexOf(i)>-1&&(t=this.validateItem(e[0]),this._data.push(t),this.triggerChange({added:t}))}.bind(this)):(e&&(t=this.getItemForId(i)),this._data.push(t),this.triggerChange({added:t}))),this.input.value="",this._updateInputWidth()},clear:function(){this.setData([])},filterResults:function(t){return t.filter(function(t){return!o.findById(this._data,t.id)},this)},getDataForValue:function(t){return t.map(this.getItemForId,this).filter(function(t){return!!t})},getValueForData:function(t){return t.map(function(t){return t.id})},remove:function(t){var e,i=t.id||t,n=o.findIndexById(this._data,i);n>-1&&(e=this._data[n],this._data.splice(n,1)),this._value[n]!==i&&(n=this._value.indexOf(i)),n>-1&&this._value.splice(n,1),e&&this.triggerChange({removed:e}),i===this._highlightedItemId&&(this._highlightedItemId=null),this._updateInputWidth()},rerenderSelection:function(t){(t=t||{}).added?(this._renderSelectedItem(t.added),this._scrollToBottom()):t.removed?h(this.$(l(g,t.removed.id))):(this._forEachSelectedItem(h),this._data.forEach(this._renderSelectedItem,this),this._updateInputWidth()),(t.added||t.removed)&&(this.dropdown&&this.dropdown.showResults(this.filterResults(this.dropdown.results),{hasMore:this.dropdown.hasMore}),y||this.focus()),this.positionDropdown(),this._updatePlaceholder()},search:function(t){this.options.tokenizer&&(t=this.options.tokenizer(t,this._data,this.add.bind(this),this.options),r(t)&&t!==this.input.value&&(this.input.value=t)),this._updateInputWidth(),this.dropdown&&w(this,"search",t)},setOptions:function(t){var e=this.enabled;w(this,"setOptions",t),e!==this.enabled&&this._reset()},validateData:function(t){if(null===t)return[];if(Array.isArray(t))return t.map(this.validateItem,this);throw new Error("Data for MultiSelectivity instance should be an array")},validateValue:function(t){if(null===t)return[];if(Array.isArray(t)){if(t.every(o.isValidId))return t;throw new Error("Value contains invalid IDs")}throw new Error("Value for MultiSelectivity instance should be an array")},_backspacePressed:function(){this.options.backspaceHighlightsBeforeDelete?this._highlightedItemId?this._deletePressed():this._value.length&&this._highlightItem(this._value.slice(-1)[0]):this._value.length&&this.remove(this._value.slice(-1)[0])},_clicked:function(t){this.enabled&&(!1!==this.options.showDropdown?this.open():this.focus(),c(t))},_createToken:function(){var t=this.input.value,e=this.options.createTokenItem;if(t&&e){var i=e(t);i&&this.add(i)}},_deletePressed:function(){this._highlightedItemId&&this.remove(this._highlightedItemId)},_forEachSelectedItem:function(t){Array.prototype.forEach.call(this.el.querySelectorAll(g),t)},_highlightItem:function(t){this._highlightedItemId=t,this._forEachSelectedItem(function(e){d(e,"highlighted",e.getAttribute("data-item-id")===t)}),y||this.focus()},_itemClicked:function(t){this.enabled&&this._highlightItem(this.getRelatedItemId(t))},_itemRemoveClicked:function(t){this.remove(this.getRelatedItemId(t)),c(t)},_keyHeld:function(t){this._originalValue=this.input.value,13!==u(t)||t.ctrlKey||t.preventDefault()},_keyReleased:function(t){var e=!!this._originalValue,i=u(t);13!==i||t.ctrlKey?8!==i||e?46!==i||e||this._deletePressed():this._backspacePressed():this._createToken()},_onPaste:function(){setTimeout(function(){this.search(this.input.value),this._createToken()}.bind(this),10)},_renderSelectedItem:function(t){var e=a(this.template("multipleSelectedItem",s({highlighted:t.id===this._highlightedItemId,removable:!this.options.readOnly},t)));this.input.parentNode.insertBefore(e,this.input)},_reset:function(){this.el.innerHTML=this.template("multipleSelectInput",{enabled:this.enabled}),this._highlightedItemId=null,this.initInput(this.$(m)),this.rerenderSelection()},_resultSelected:function(t){-1===this._value.indexOf(t.id)?this.add(t.item):this.remove(t.item)},_scrollToBottom:function(){var t=this.$(m+"-container");t.scrollTop=t.clientHeight},_updateInputWidth:function(){if(this.enabled){var t=this.input.value||!this._data.length&&this.options.placeholder||"";this.input.setAttribute("size",t.length+2),this.positionDropdown()}},_updatePlaceholder:function(){var t=!this._data.length&&this.options.placeholder||"";this.enabled?this.input.setAttribute("placeholder",t):this.$(".selectivity-placeholder").textContent=t}});e.exports=o.Inputs.Multiple=n},{12:12,33:33,36:36,37:37,39:39,40:40,41:41,42:42,"lodash/extend":"lodash/extend"}],22:[function(t,e,i){"use strict";function n(t){r.call(this,s({positionDropdown:function(t,e){var i=e.getBoundingClientRect(),n=i.bottom,r=Math.min(Math.max(n+t.clientHeight-window.innerHeight,0),i.top+i.height);s(t.style,{left:i.left+"px",top:n-r+"px",width:i.width+"px"})}},t)),this.el.innerHTML=this.template("singleSelectInput",this.options),this.rerenderSelection(),!1===t.showSearchInputInDropdown&&this.initInput(this.$(".selectivity-single-select-input"),{search:!1}),this.events.on({change:this.rerenderSelection,click:this._clicked,"click .selectivity-search-input":o,"click .selectivity-single-selected-item-remove":this._itemRemoveClicked,"focus .selectivity-single-select-input":this._focused,"selectivity-selected":this._resultSelected})}var s=(window.jQuery||window.Zepto).extend,r=t(33),o=t(41),l=r.inherits(n,r,{clear:function(){this.setData(null)},close:function(t){this._closing=!0,l(this,"close"),t&&t.keepFocus&&this.input&&this.input.focus(),this._closing=!1},getDataForValue:function(t){return this.getItemForId(t)},getValueForData:function(t){return t?t.id:null},rerenderSelection:function(){var t=this._data?"singleSelectedItem":"singleSelectPlaceholder",e=this._data?s({removable:this.options.allowClear&&!this.options.readOnly},this._data):{placeholder:this.options.placeholder};this.$(".selectivity-single-result-container").innerHTML=this.template(t,e)},validateData:function(t){return null===t?t:this.validateItem(t)},validateValue:function(t){if(null===t||r.isValidId(t))return t;throw new Error("Value for SingleSelectivity instance should be a valid ID or null")},_clicked:function(){this.enabled&&(this.dropdown?this.close({keepFocus:!0}):!1!==this.options.showDropdown&&this.open())},_focused:function(){!this.enabled||this._closing||this._opening||!1===this.options.showDropdown||this.open()},_itemRemoveClicked:function(t){this.setData(null),o(t)},_resultSelected:function(t){this.setData(t.item),this.close({keepFocus:!0})}});e.exports=r.Inputs.Single=n},{33:33,41:41,"lodash/extend":"lodash/extend"}],23:[function(t,e,i){"use strict";var n=t(7),s=t(33);e.exports=s.Locale={loading:"Loading...",loadMore:"Load more...",noResults:"No results found",ajaxError:function(t){return t?"Failed to fetch results for <b>"+n(t)+"</b>":"Failed to fetch results"},needMoreCharacters:function(t){return"Enter "+t+" more characters to search"},noResultsForTerm:function(t){return"No results for <b>"+n(t)+"</b>"}}},{33:33,7:7}],24:[function(t,e,i){"use strict";function n(t,e,i){return t+(t.indexOf("?")>-1?"&":"?")+e+"="+encodeURIComponent(i)}function r(t,e){var i=t.fetch||window.fetch,r=e.term,o="function"==typeof t.url?t.url(e):t.url;if(t.params){var l=t.params(r,e.offset||0);for(var a in l)l.hasOwnProperty(a)&&(o=n(o,a,l[a]))}var h=function(t,e){var i={};return e.forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i}(t,["body","cache","credentials","headers","integrity","method","mode","redirect","referrer","referrerPolicy"]);i(o,h,e).then(function(t){if(t.ok)return t.json();if(Array.isArray(t)||t.results)return t;throw new Error("Unexpected AJAX response")}).then(function(t){Array.isArray(t)?e.callback({results:t,more:!1}):e.callback({results:t.results,more:!!t.more})}).catch(function(i){var n=t.formatError||u.ajaxError;e.error(n(r,i),{escape:!1})})}var o=t(6),l=t(33),u=t(23);l.OptionListeners.unshift(function(t,e){var i=e.ajax;if(i&&i.url){var n=i.quietMillis?o(r,i.quietMillis):r;e.query=function(t){var e=i.minimumInputLength-t.term.length;return e>0?void t.error(u.needMoreCharacters(e)):void n(i,t)}}})},{23:23,33:33,6:6}],25:[function(t,e,i){"use strict";var s=0;t(33).OptionListeners.push(function(t,e){var i=e.query;i&&!i._async&&(e.query=function(t){var e=++s,n=t.callback,r=t.error;t.callback=function(){e===s&&n.apply(null,arguments)},t.error=function(){e===s&&r.apply(null,arguments)},i(t)},e.query._async=!0)})},{33:33}],26:[function(t,e,i){"use strict";var n={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"},s=t(33),r=s.transformText;s.transformText=function(t){for(var e="",i=0,s=t.length;i<s;i++){var o=t[i];e+=n[o]||o}return r(e)}},{33:33}],27:[function(t,e,i){"use strict";var n=window.jQuery||window.Zepto;t(33).OptionListeners.unshift(function(t,e){var i=e.ajax;i&&i.url&&!i.fetch&&n.Deferred&&(i.fetch=function(t,e){return n.ajax(t,{cache:"no-cache"!==e.cache,headers:e.headers||null,method:e.method||"GET",xhrFields:"include"===e.credentials?{withCredentials:!0}:null}).then(function(t){return{results:n.map(t,function(t){return t}),more:!1}},function(t,e,i){throw new Error("AJAX request returned: "+e+(i?", "+i:""))})})})},{33:33,jquery:"jquery"}],28:[function(t,e,i){"use strict";var r=window.jQuery||window.Zepto,o=t(33);o.OptionListeners.push(function(t,e){var i=r(t.el);i.is("select")&&(i.attr("autofocus")&&setTimeout(function(){t.focus()},1),t.el=function(t,e){var i=e.multiple?[]:null,n=function(){var t=r(this);if(t.is("option")){var s=t.text(),o=t.attr("value");if(void 0===o&&(o=s),t.prop("selected")){var l={id:o,text:s};e.multiple?i.push(l):i=l}return{id:o,text:t.attr("label")||s}}return{text:t.attr("label"),children:t.children("option,optgroup").map(n).get()}};e.allowClear="allowClear"in e?e.allowClear:!t.prop("required");var s=t.children("option,optgroup").map(n).get();e.data=i,e.items=e.query?null:s,e.placeholder=e.placeholder||t.data("placeholder")||"",e.tabIndex=void 0===e.tabIndex?t.attr("tabindex")||0:e.tabIndex;var o=(t.attr("class")||"selectivity-input").split(" ");o.indexOf("selectivity-input")<0&&o.push("selectivity-input");var l=r("<div>").attr({id:"s9y_"+t.attr("id"),class:o.join(" "),style:t.attr("style"),"data-name":t.attr("name")});return l.insertAfter(t),t.hide(),l[0]}(i,e),t.el.selectivity=t,o.patchEvents(i),function(t){var e=r(t.el);e.on("change",function(t){var i=t.originalEvent.value;e.prev("select").val("array"===r.type(i)?i.slice(0):i).trigger(t)})}(t))})},{33:33,jquery:"jquery"}],29:[function(t,e,i){"use strict";var s=t(33),r=t(35),o=t(37),l=8,u=40,a=13,h=27,c=9,d=38;s.InputListeners.push(function(t,e){function i(e,n){function o(){var t;e.highlightedResult?t=r(u,e.highlightedResult.id):e.loadMoreHighlighted&&(t=e.$(".selectivity-load-more")),t&&t.scrollIntoView(n<0)}var l=e.results;if(l.length){var u=[].slice.call(e.el.querySelectorAll(".selectivity-result-item"));if(e.submenu)return void i(e.submenu,n);var a=n>0?0:u.length-1,h=a,c=e.highlightedResult;if(c){var d=r(u,c.id);if(h=u.indexOf(d)+n,n>0?h>=u.length:h<0){if(e.hasMore)return e.highlightLoadMore(),void o();h=a}}var f=u[h],p=s.findNestedById(l,t.getRelatedItemId(f));p&&(e.highlight(p,{delay:!!p.submenu}),o())}}var p=!1,v=null;e.addEventListener("keydown",function(n){var s=t.dropdown;if(s){var r=o(n);if(r===l){if(!e.value){if(s.submenu){for(var h=s.submenu;h.submenu;)h=h.submenu;v=h}n.preventDefault(),p=!0}}else r===u?i(s,1):r===d?i(s,-1):r===c?setTimeout(function(){t.close()},1):r===a&&n.preventDefault()}}),e.addEventListener("keyup",function(e){function i(){!1!==t.options.showDropdown&&t.open()}var n=t.dropdown,s=o(e);p?(e.preventDefault(),p=!1,v&&(v.close(),t.focus(),v=null)):s===l?!n&&t.options.allowClear&&t.clear():s!==a||e.ctrlKey?s===h?(t.close(),e.preventDefault()):s===u||s===d?(i(),e.preventDefault()):i():(n?n.selectHighlight():!1!==t.options.showDropdown&&i(),e.preventDefault())})})},{33:33,35:35,37:37}],30:[function(t,e,i){"use strict";function n(t,e){this.parentMenu=e.parentMenu,s.call(this,t,e),this._closeSubmenuTimeout=0,this._openSubmenuTimeout=0}var s=t(18),r=t(33),o=t(35),l=r.inherits(n,s,{close:function(){this.submenu&&this.submenu.close(),l(this,"close"),this.parentMenu&&(this.parentMenu.submenu=null,this.parentMenu=null),clearTimeout(this._closeSubmenuTimeout),clearTimeout(this._openSubmenuTimeout)},highlight:function(t,e){var i=(e=e||{}).reason||"unspecified";e.delay?(l(this,"highlight",t),clearTimeout(this._openSubmenuTimeout),this._openSubmenuTimeout=setTimeout(this._doHighlight.bind(this,t,i),300)):this.submenu?this.highlightedResult&&this.highlightedResult.id===t.id?this._doHighlight(t,i):(clearTimeout(this._closeSubmenuTimeout),this._closeSubmenuTimeout=setTimeout(this._closeSubmenuAndHighlight.bind(this,t,i),100)):(this.parentMenu&&this.parentMenu._closeSubmenuTimeout&&(clearTimeout(this.parentMenu._closeSubmenuTimeout),this.parentMenu._closeSubmenuTimeout=0),!1===e.openSubmenu?l(this,"highlight",t):this._doHighlight(t,i))},search:function(t){if(this.submenu){var e=this.$(".selectivity-search-input");if(!e||e!==document.activeElement)return void this.submenu.search(t);this.submenu.close()}l(this,"search",t)},selectHighlight:function(){this.submenu?this.submenu.selectHighlight():l(this,"selectHighlight")},showResults:function(t,e){function i(t){t.children&&t.children.forEach(i),t.submenu&&(t.selectable=!!t.selectable)}this.submenu&&e.dropdown!==this?this.submenu.showResults(t,e):(t.forEach(i),l(this,"showResults",t,e))},triggerClose:function(){this.parentMenu?this.selectivity.triggerEvent("selectivity-close-submenu"):l(this,"triggerClose")},triggerOpen:function(){this.parentMenu?this.selectivity.triggerEvent("selectivity-open-submenu"):l(this,"triggerOpen")},_closeSubmenuAndHighlight:function(t,e){this.submenu&&this.submenu.close(),this._doHighlight(t,e)},_doHighlight:function(t,e){l(this,"highlight",t);var i=this.selectivity.options;if(!(!t.submenu||this.submenu||i.shouldOpenSubmenu&&!1===i.shouldOpenSubmenu(t,e))){var n=i.dropdown||r.Dropdown;if(n){var s=this.el.querySelectorAll(".selectivity-result-item"),u=o(s,t.id),a=this.el;this.submenu=new n(this.selectivity,{highlightFirstItem:!t.selectable,items:t.submenu.items||null,parentMenu:this,position:function(e,i){if(t.submenu.positionDropdown)t.submenu.positionDropdown(e,i,u,a);else{var n=a.getBoundingClientRect(),s=n.right,r=n.width;s+r>document.body.clientWidth&&n.left-r>0&&(s=n.left-r+10),e.style.left=s+"px",e.style.top=u.getBoundingClientRect().top+"px",e.style.width=r+"px"}},query:t.submenu.query||null,showSearchInput:t.submenu.showSearchInput}),this.submenu.search("")}}}});r.Dropdown=n,e.exports=n},{18:18,33:33,35:35}],31:[function(t,e,i){"use strict";var s=(window.jQuery||window.Zepto).extend,r=t(33);r.OptionListeners.push(function(t,e){e.tokenSeparators&&(e.allowedTypes=s({tokenSeparators:"array"},e.allowedTypes),e.tokenizer=e.tokenizer||function(t,e,i,n){function s(t){return!!t&&u.some(function(e){return t.indexOf(e)>-1})}function o(t){for(var e=0,i=t.length;e<i;e++)if(u.indexOf(t[e])>-1)return{term:t.slice(0,e),input:t.slice(e+1)};return{}}for(var l=n.createTokenItem||function(t){return t?{id:t,text:t}:null},u=n.tokenSeparators;s(t);){var a=o(t);if(a.term){var h=l(a.term);h&&!r.findById(e,h.id)&&i(h)}t=a.input}return t})})},{33:33,"lodash/extend":"lodash/extend"}],32:[function(t,e,i){t(18),t(20),t(21),t(22),t(23),t(24),t(25),t(26),t(27),t(28),t(29),t(30),t(31),t(34),t(17)},{17:17,18:18,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,34:34}],33:[function(t,e,i){"use strict";function n(t){this.dropdown=null,this.el=t.element,this.enabled=!t.readOnly&&!t.removeOnly,this.input=null,this.items=null,this.options={},this.templates=s({},n.Templates),this.term="",this.setOptions(t),t.value?this.setValue(t.value,{triggerChange:!1}):this.setData(t.data||null,{triggerChange:!1}),this.el.setAttribute("tabindex",t.tabIndex||0),this.events=new o(this.el,this),this.events.on({blur:this._blur,mouseenter:this._mouseenter,mouseleave:this._mouseleave,"selectivity-close":this._closed})}var s=(window.jQuery||window.Zepto).extend,r=t(12),o=t(19),l=t(42);s(n.prototype,{$:function(t){return this.el.querySelector(t)},close:function(){this._clearCloseTimeout(),this.dropdown&&(this.dropdown.close(),this.dropdown=null)},destroy:function(){this.events.destruct();for(var t=this.el;t.firstChild;)t.removeChild(t.firstChild);t.selectivity=null},filterResults:function(t){return t},focus:function(){this._clearCloseTimeout(),this._focusing=!0,this.input&&this.input.focus(),this._focusing=!1},getData:function(){return this._data},getItemForId:function(t){var e=this.items;return e?n.findNestedById(e,t):{id:t,text:""+t}},getRelatedItemId:function(t){for(var e=t.target||t;e&&!e.hasAttribute("data-item-id");)e=e.parentNode;if(!e)return null;var i=e.getAttribute("data-item-id");if(n.findById(this._data||[],i))return i;for(var s=this.dropdown;s;){if(n.findNestedById(s.results,i))return i;s=s.submenu}var r=parseInt(i,10);return""+r===i?r:i},getValue:function(){return this._value},initInput:function(t,e){this.input=t;var i=this;(this.options.inputListeners||n.InputListeners).forEach(function(n){n(i,t,e)}),e&&!1===e.search||t.addEventListener("keyup",function(t){t.defaultPrevented||i.search(t.target.value)})},open:function(){if(!this._opening&&!this.dropdown&&this.triggerEvent("selectivity-opening")){this._opening=!0;var t=this.options.dropdown||n.Dropdown;t&&(this.dropdown=new t(this,{items:this.items,position:this.options.positionDropdown,query:this.options.query,showSearchInput:!1!==this.options.showSearchInputInDropdown})),this.search(""),this.focus(),l(this.el,"open",!0),this._opening=!1}},positionDropdown:function(){this.dropdown&&this.dropdown.position()},search:function(t){this.open(),this.dropdown&&this.dropdown.search(t)},setData:function(t,e){e=e||{},t=this.validateData(t),this._data=t,this._value=this.getValueForData(t),!1!==e.triggerChange&&this.triggerChange()},setOptions:function(t){t=t||{};var e=this;n.OptionListeners.forEach(function(i){i(e,t)}),"items"in t&&(this.items=t.items?n.processItems(t.items):null),"templates"in t&&s(this.templates,t.templates),s(this.options,t),this.enabled=!this.options.readOnly&&!this.options.removeOnly},setValue:function(t,e){e=e||{},t=this.validateValue(t),this._value=t,this.options.initSelection?this.options.initSelection(t,function(i){this._value===t&&(this._data=this.validateData(i),!1!==e.triggerChange&&this.triggerChange())}.bind(this)):(this._data=this.getDataForValue(t),!1!==e.triggerChange&&this.triggerChange())},template:function(t,e){var i=this.templates[t];if(!i)throw new Error("Unknown template: "+t);return"function"==typeof i?i(e):i.render?i.render(e):i.toString()},triggerChange:function(t){var e=s({value:this._value},t);this.triggerEvent("change",e),this.triggerEvent("selectivity-change",e)},triggerEvent:function(t,e){var i=document.createEvent("Event");return i.initEvent(t,!1,!0),s(i,e),this.el.dispatchEvent(i),!i.defaultPrevented},validateItem:function(t){if(t&&n.isValidId(t.id)&&r(t.text))return t;throw new Error("Item should have id (number or string) and text (string) properties")},_blur:function(){this._focusing||this.el.classList.contains("hover")||(this._clearCloseTimeout(),this._closeTimeout=setTimeout(this.close.bind(this),166))},_clearCloseTimeout:function(){this._closeTimeout&&(clearTimeout(this._closeTimeout),this._closeTimeout=0)},_closed:function(){this.dropdown=null,l(this.el,"open",!1)},_mouseleave:function(){l(this.el,"hover",!1)},_mouseenter:function(){l(this.el,"hover",!0)}}),n.Dropdown=null,n.InputListeners=[],n.Inputs={},n.OptionListeners=[],n.Templates={},n.findById=function(t,e){var i=n.findIndexById(t,e);return i>-1?t[i]:null},n.findIndexById=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1},n.findNestedById=function(t,e){for(var i=0,s=t.length;i<s;i++){var r,o=t[i];if(o.id===e?r=o:o.children?r=n.findNestedById(o.children,e):o.submenu&&o.submenu.items&&(r=n.findNestedById(o.submenu.items,e)),r)return r}return null},n.inherits=function(t,e,i){return t.prototype=s(Object.create(e.prototype),{constructor:t},i),function(t,i){e.prototype[i].apply(t,Array.prototype.slice.call(arguments,2))}},n.isValidId=function(t){return"number"==typeof t||r(t)},n.matcher=function(t,e){var i=null;if(n.transformText(t.text).indexOf(e)>-1)i=t;else if(t.children){var s=t.children.map(function(t){return n.matcher(t,e)}).filter(function(t){return!!t});s.length&&(i={id:t.id,text:t.text,children:s})}return i},n.processItem=function(t){if(n.isValidId(t))return{id:t,text:""+t};if(t&&(n.isValidId(t.id)||t.children)&&r(t.text))return t.children&&(t.children=n.processItems(t.children)),t;throw new Error("invalid item")},n.processItems=function(t){if(Array.isArray(t))return t.map(n.processItem);throw new Error("invalid items")},n.transformText=function(t){return t.toLowerCase()},e.exports=n},{12:12,19:19,42:42,"lodash/extend":"lodash/extend"}],34:[function(t,e,i){"use strict";var n=t(7),s=t(33),r=t(23);s.Templates={dropdown:function(t){var e=t.dropdownCssClass?" "+t.dropdownCssClass:"",i="";if(t.showSearchInput){e+=" has-search-input";var s=t.searchInputPlaceholder;i='<div class="selectivity-search-input-container"><input type="text" class="selectivity-search-input"'+(s?' placeholder="'+n(s)+'"':"")+"></div>"}return'<div class="selectivity-dropdown'+e+'">'+i+'<div class="selectivity-results-container"></div></div>'},error:function(t){return'<div class="selectivity-error">'+(t.escape?n(t.message):t.message)+"</div>"},loading:function(){return'<div class="selectivity-loading">'+r.loading+"</div>"},loadMore:function(){return'<div class="selectivity-load-more">'+r.loadMore+"</div>"},multipleSelectInput:function(t){return'<div class="selectivity-multiple-input-container">'+(t.enabled?'<input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" class="selectivity-multiple-input">':'<div class="selectivity-multiple-input selectivity-placeholder"></div>')+'<div class="selectivity-clearfix"></div></div>'},multipleSelectedItem:function(t){return'<span class="selectivity-multiple-selected-item'+(t.highlighted?" highlighted":"")+'" data-item-id="'+n(t.id)+'">'+(t.removable?'<a class="selectivity-multiple-selected-item-remove"><i class="fa fa-remove"></i></a>':"")+n(t.text)+"</span>"},noResults:function(t){return'<div class="selectivity-error">'+(t.term?r.noResultsForTerm(t.term):r.noResults)+"</div>"},resultChildren:function(t){return'<div class="selectivity-result-children">'+t.childrenHtml+"</div>"},resultItem:function(t){return'<div class="selectivity-result-item'+(t.disabled?" disabled":"")+'" data-item-id="'+n(t.id)+'">'+n(t.text)+(t.submenu?'<i class="selectivity-submenu-icon fa fa-chevron-right"></i>':"")+"</div>"},resultLabel:function(t){return'<div class="selectivity-result-label">'+n(t.text)+"</div>"},singleSelectInput:'<div class="selectivity-single-select"><input type="text" class="selectivity-single-select-input"><div class="selectivity-single-result-container"></div><i class="fa fa-sort-desc selectivity-caret"></i></div>',singleSelectPlaceholder:function(t){return'<div class="selectivity-placeholder">'+n(t.placeholder)+"</div>"},singleSelectedItem:function(t){return'<span class="selectivity-single-selected-item" data-item-id="'+n(t.id)+'">'+(t.removable?'<a class="selectivity-single-selected-item-remove"><i class="fa fa-remove"></i></a>':"")+n(t.text)+"</span>"},selectCompliance:function(t){var e=t.mode,i=t.name;return"multiple"===e&&"[]"!==i.slice(-2)&&(i+="[]"),'<select name="'+i+'"'+("multiple"===e?" multiple":"")+"></select>"},selectOptionCompliance:function(t){return'<option value="'+n(t.id)+'" selected>'+n(t.text)+"</option>"}}},{23:23,33:33,7:7}],35:[function(t,e,i){"use strict";e.exports=function(t,e){for(var i=0,n=t.length;i<n;i++){var s=t[i],r=s.getAttribute("data-item-id");if(("number"==typeof e?parseInt(r,10):r)===e)return s}return null}},{}],36:[function(t,e,i){"use strict";e.exports=function(t,e){return t+"[data-item-id="+('"'+(""+e).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"')+"]"}},{}],37:[function(t,e,i){"use strict";e.exports=function(t){return t.which||t.keyCode||0}},{}],38:[function(t,e,i){"use strict";e.exports=function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).call(t,e)}},{}],39:[function(t,e,i){"use strict";e.exports=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}},{}],40:[function(t,e,i){"use strict";e.exports=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}},{}],41:[function(t,e,i){"use strict";e.exports=function(t){t.stopPropagation()}},{}],42:[function(t,e,i){"use strict";e.exports=function(t,e,i){t&&t.classList[i?"add":"remove"](e)}},{}]},{},[32])(32)});