<div class="container" ng-controller="TrafficCountsController">
    <div class="row">
        <div class="col-md-8">
            <h2>Galway Traffic</h2>
        </div>
        <div class="col-md-4" style="text-align: right">
            <yds-save-filters-button
                    dashboard-id="galway"
                    lang="{{ lang }}">
            </yds-save-filters-button>

            <yds-clear-filters-button
                    dashboard-id="galway"
                    lang="{{ lang }}">
            </yds-clear-filters-button>

            <yds-dashboard-sharing
                    dashboard-id="galway"
                    lang="{{ lang }}">
            </yds-dashboard-sharing>
        </div>
    </div>

    <div class="row">
        <!--Point selection map-->
        <div class="col-md-6">
            <yds-map
                    project-id="{{ projectId }}"
                    view-type="contract.trafficobservation.all"
                    enable-rating="true"
                    element-h="400"
                    clicked-point="clickedTrafficPoint"
                    lang="{{ lang }}">
            </yds-map>
        </div>

        <!--Related Contracts grid-->
        <div class="col-md-6">
            <yds-grid
                    ng-if="clickedTrafficPoint.point.length > 0"
                    project-id="{{ clickedTrafficPoint.point }}"
                    view-type="contract.for.trafficobservation"
                    allow-selection="true"
                    lang="{{ lang }}">
            </yds-grid>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <!--Temporary placeholder to show clicked point-->
            <div class="well well-sm" style="word-break: break-all">
                Clicked point: <code>{{ clickedTrafficPoint.point || "none" }}</code>
            </div>
        </div>
    </div>

    <!--Basket-->
    <yds-basket-preview
            user-id="ydsUser">
    </yds-basket-preview>
</div>
