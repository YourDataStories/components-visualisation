<div class="container" ng-controller="TrafficObservationsController">
    <div class="row">
        <div class="col-md-8">
            <h2>Traffic Observations</h2>
        </div>
    </div>

    <div class="row">
        <!--Map for point selection-->
        <div class="col-md-7">
            <yds-map
                    project-id="{{ galwayProjectId }}"
                    view-type="contract.trafficobservation.all"
                    enable-rating="true"
                    element-h="400"
                    max-cluster-radius="1"
                    clicked-point="selectedPoint"
                    lang="{{ lang }}">
            </yds-map>
        </div>

        <!--Year/day/time sliders-->
        <div class="col-md-5">
            <div class="panel panel-default">
                <div class="panel-heading">Ranges</div>
                <div class="panel-body">
                    <!--Start year-->
                    <yds-time-slider
                            type="year"
                            title="Start Year"
                            min-year="2000"
                            max-year="2020"
                            dashboard-id="traffic_observation"
                            selection-type="trafficobservation.start_year"
                            lang="{{ lang }}">
                    </yds-time-slider>

                    <!--End year-->
                    <yds-time-slider
                            type="year"
                            title="End Year"
                            min-year="2000"
                            max-year="2020"
                            dashboard-id="traffic_observation"
                            selection-type="trafficobservation.end_year"
                            default-value="2020"
                            lang="{{ lang }}">
                    </yds-time-slider>

                    <!--Start day-->
                    <yds-time-slider
                            type="day"
                            title="Start Day"
                            dashboard-id="traffic_observation"
                            selection-type="trafficobservation.start_day"
                            lang="{{ lang }}">
                    </yds-time-slider>

                    <!--End day-->
                    <yds-time-slider
                            type="day"
                            title="End Day"
                            dashboard-id="traffic_observation"
                            selection-type="trafficobservation.end_day"
                            default-value="6"
                            lang="{{ lang }}">
                    </yds-time-slider>

                    <!--Start time-->
                    <yds-time-slider
                            type="time"
                            title="Start Time"
                            dashboard-id="traffic_observation"
                            selection-type="trafficobservation.start_time"
                            lang="{{ lang }}">
                    </yds-time-slider>

                    <!--End time-->
                    <yds-time-slider
                            type="time"
                            title="End Time"
                            dashboard-id="traffic_observation"
                            selection-type="trafficobservation.end_time"
                            default-value="1439"
                            lang="{{ lang }}">
                    </yds-time-slider>
                </div>
            </div>
        </div>
    </div>

    <!--Comboboxes for vehicle type & traffic direction-->
    <div class="row" style="margin-top: 5px">
        <div class="col-md-offset-2 col-md-4">
            <yds-combobox-selector
                    title="Vehicle Type"
                    type="vehicleType.label.en"
                    selection-type="trafficobservation.vehicle_type"
                    dashboard-id="traffic_observation">
            </yds-combobox-selector>
        </div>
        <div class="col-md-4">
            <yds-combobox-selector
                    title="Direction"
                    type="directed.label.en"
                    selection-type="trafficobservation.direction"
                    dashboard-id="traffic_observation">
            </yds-combobox-selector>
        </div>
    </div>

    <!--Traffic observations per direction & time grid-->
    <div class="row" style="margin-top: 5px">
        <div class="col-md-12">
            <yds-dashboard-updater
                    type="simple-grid"
                    project-id="none"
                    view-type="trafficobservation.per.direction.time.vehicle.type"
                    dashboard-id="traffic_observation"
                    add-to-basket="false"
                    base-url="http://ydsdev.iit.demokritos.gr/YDSComponents/#!/redirect"
                    min-height="400"
                    lang="{{ lang }}">
            </yds-dashboard-updater>
        </div>
    </div>

    <!--Traffic observations list grid-->
    <div class="row" style="margin-top: 5px">
        <div class="col-md-12">
            <yds-dashboard-updater
                    type="grid-paging"
                    view-type="trafficobservation.listitems.for.filters"
                    dashboard-id="traffic_observation"
                    add-to-basket="false"
                    base-url="http://ydsdev.iit.demokritos.gr/YDSComponents/#!/redirect"
                    min-height="400"
                    lang="{{ lang }}">
            </yds-dashboard-updater>
        </div>
    </div>

    <!--Basket-->
    <yds-basket-preview
            user-id="ydsUser">
    </yds-basket-preview>
</div>
