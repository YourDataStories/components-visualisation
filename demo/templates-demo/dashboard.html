<div class="container" ng-controller="DashboardController">
    <!--Official Development Assistance, The advantage of YourDataStories-->
    <div class="row">
        <!--Dashboard title and description-->
        <div class="col-md-9">
            <h2>Official Development Assistance</h2>

            <p class="text-justify">This dashboard presents aspects of the data available regarding the official
                development assistance (ODA) provided by a set of benefactor countries (such as the Netherlands) to
                various beneficiary countries all over the world.</p>

            <div class="bs-callout bs-callout-success">
                <h4>The advantage of YourDataStories</h4>
                <p class="text-justify">YourDataStories aggregates data from various datasets, into a common “semantic
                    graph” in RDF. This enables users to browse, search, and visualise the aggregated data as curated by
                    YourDataStories, instead of the original, discrete datasets.</p>
            </div>
        </div>

        <!--Panel with links to datasets-->
        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Data from Datasets</h3>
                </div>
                <div class="list-group">
                    <a class="list-group-item list-group-item-sm" target="_blank" href="http://143.233.226.61:8890/describe/?url=http://linkedeconomy.org/resource/Dataset/ODA/NL">ODA of the Netherlands</a>
                    <a class="list-group-item list-group-item-sm" target="_blank" href="http://143.233.226.61:8890/describe/?url=http://linkedeconomy.org/resource/Dataset/ODA/ZW">ODA to Zimbabwe</a>
                    <a class="list-group-item list-group-item-sm" target="_blank" href="http://143.233.226.61:8890/describe/?url=http://linkedeconomy.org/resource/Dataset/trade/NL">International trade activities of the Netherlands</a>
                    <a class="list-group-item list-group-item-sm" target="_blank" href="http://143.233.226.61:8890/describe/?url=http://linkedeconomy.org/resource/Dataset/trade/ZW">International trade activities of Zimbabwe</a>
                </div>
            </div>
        </div>
    </div>

    <!--YourDataStories: Modelling ODA data, A quick overview of the ODA data-->
    <div class="row">
        <div class="col-md-12">
            <h3 style="color: #3C75B7; margin-top: 0">YourDataStories: Modelling ODA data</h3>

            <p class="text-justify">YourDataStories models ODA activities with the concept “<a href="http://vowl.visualdataweb.org/webvowl/#iri=http://platform.yourdatastories.eu/api/json-ld/model/owl/AidActivity.owl" target="_blank">Aid Activity</a>”, whose main
                properties include the benefactor/beneficiary countries, the duration of the activity, the involved
                organisations, the assistance sector, and a set of related transactions (modelled by concepts “<a href="http://vowl.visualdataweb.org/webvowl/#iri=http://platform.yourdatastories.eu/api/json-ld/model/owl/DisbursedItem.owl" target="_blank">Disbursed
                Item</a>”, “<a href="http://vowl.visualdataweb.org/webvowl/#iri=http://platform.yourdatastories.eu/api/json-ld/model/owl/CommittedItem.owl" target="_blank">Committed Item</a>”, “<a href="http://vowl.visualdataweb.org/webvowl/#iri=http://platform.yourdatastories.eu/api/json-ld/model/owl/Transaction.owl" target="_blank">Transaction</a>”).</p>

            <h3 style="color: #3C75B7">A quick overview of the ODA data</h3>

            <p class="text-justify">The following two maps show all beneficiary and benefactor countries contained in
                the data, coloured according to the number of Aid Activities they have been involved in. Both maps are
                interactive, allowing the selection of any number of beneficiary/benefactor countries.</p>

            <p class="text-justify">Below the maps, the time period of all Aid Activities available in the data is
                displayed, which is also interactive, and can be adjusted to any sub-range of the available time period
                (limiting the displayed information to the Aid Activities within the selected period).</p>
        </div>
    </div>

    <!--Maps-->
    <div class="row">
        <div class="col-md-6">
            <!--Heatmap of Beneficiaries-->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Number of Aid Activities per Beneficiary Country</h3>
                </div>
                <div class="panel-body">
                    <yds-heatmap
                            project-id="none"
                            view-type="aidactivity.beneficiary.countries.all"
                            color-axis="true"
                            color-type="logarithmic"
                            legend="true"
                            legend-v-align="bottom"
                            use-year-range="true"
                            dashboard-id="aidactivity"
                            country-selection="true"
                            no-border="true"
                            exporting="false"
                            element-h="350"></yds-heatmap>
                </div>
                <div class="panel-footer" style="padding: 3px 15px">
                    <small>You can select one or more countries (with <kbd>CTRL</kbd> key), and adjust the date range.</small>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <!--Heatmap of Benefactors-->
            <div class="panel panel-default panel-benefactor">
                <div class="panel-heading">
                    <h3 class="panel-title">Number of Aid Activities per Benefactor Country</h3>
                </div>
                <div class="panel-body">
                    <yds-heatmap
                            project-id="none"
                            view-type="aidactivity.benefactor.countries.all"
                            color-axis="true"
                            color-type="logarithmic"
                            legend="true"
                            legend-v-align="bottom"
                            use-year-range="true"
                            dashboard-id="aidactivity"
                            country-selection="true"
                            no-border="true"
                            exporting="false"
                            element-h="350"></yds-heatmap>
                </div>
                <div class="panel-footer" style="padding: 3px 15px">
                    <small>You can select one or more countries (with <kbd>CTRL</kbd> key), and adjust the date range.</small>
                </div>
            </div>
        </div>
    </div>

    <!--Year selection slider-->
    <div class="row">
        <div class="col-md-offset-3 col-md-6">
            <yds-year-range
                    title="Time Period for Aid Activities"
                    dashboard-id="aidactivity"
                    min-year="1997"
                    max-year="2018">
            </yds-year-range>
        </div>
    </div>

    <!--Dashboard Info box-->
    <div class="row" style="padding-top: 20px; padding-bottom: 10px;">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">Selected filters</h3>
                </div>

                <div class="panel-body dashboard-info-container">
                    <yds-dashboard-updater
                            type="info"
                            view-type="aidactivity.filters.selected"
                            dashboard-id="aidactivity"
                            min-height="90"
                            lang="en">
                    </yds-dashboard-updater>
                </div>
            </div>
        </div>
    </div>

    <!--Aggregates Explanation-->
    <div class="row">
        <div class="col-md-12">
            <p class="text-justify">Finally, there is a set of “info boxes”, showing various aspects of the ODA data.
                Clicking on “View Details” of each “info box”, some predefined visualisations are displayed in the
                details section.</p>
        </div>
    </div>

    <!--Aggregates-->
    <div class="row" style="margin-left: -10px; margin-right: -10px">
        <div ng-class="aidAggregateClass"
             ng-repeat="type in aidAggregates track by $index"
             style="padding-left: 10px; padding-right: 10px">
            <yds-dashboard-updater
                    type="aggregate"
                    project-id="{{ projectId }}"
                    dashboard-id="aidactivity"
                    view-type="{{ type }}"
                    min-height="150"
                    aggregate-set-on-init="{{ ($index == 0) }}">
            </yds-dashboard-updater>
        </div>
    </div>

    <!--Visualization-->
    <div class="row">
        <div class="col-md-12">
            <!--Dashboard Visualization-->
            <yds-dashboard-visualization
                    project-id="none"
                    dashboard-id="aidactivity"
                    element-h="460">
            </yds-dashboard-visualization>
        </div>
    </div>

    <!--Aid Activity "What else can I do" panel-->
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading clearfix" ng-click="isCollapsedAidActivityPanel = !isCollapsedAidActivityPanel">
                    <h3 class="panel-title pull-left">What else can I do with the available data?</h3>

                    <!--Icons to indicate if the panel is open or closed-->
                    <i ng-if="isCollapsedAidActivityPanel" class="fa fa-chevron-right pull-right" aria-hidden="true"></i>
                    <i ng-if="!isCollapsedAidActivityPanel" class="fa fa-chevron-down pull-right" aria-hidden="true"></i>
                </div>

                <div class="panel-body"
                     uib-collapse="isCollapsedAidActivityPanel"
                     ng-init="isCollapsedAidActivityPanel = true">
                    <uib-tabset active="aaTab"
                            template-url="templates/tabset-panel-success.html">
                        <uib-tab heading="View Data" index="0">
                            <p class="text-justify">The following table shows all Aid Activities for the selected
                                benefactor and beneficiary countries, that span the selected time period. You can obtain
                                the same results through search: an example is provided on the
                                <!--Because of extra scopes created by uib-tab we need
                                to access the aaTab variable like this-->
                                <a ng-click="$parent.$parent.aaTab = 1">search tab</a>.</p>

                            <!--AidActivity grid-->
                            <yds-dashboard-updater
                                    ng-if="!isCollapsedAidActivityPanel && aaTab == 0"
                                    type="grid"
                                    view-type="aidactivity.listitems.for.countries.and.period"
                                    dashboard-id="aidactivity"
                                    min-height="400"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="Search Data" index="1">
                            <p class="text-justify">The following example shows how a detailed search can be performed
                                in the YourDataStories platform, through the “Advanced Search”. The advanced search
                                allows to graphically create rules, that filter specific properties. Auto-completion is
                                also supported!</p>

                            <div class="bs-callout bs-callout-success" style="margin-top: 0">
                                <p class="text-justify">Select benefactor and beneficiary countries, change the time
                                    period, and see how the rules are automatically generated. Instructions on
                                    <a href="http://ydsdev.iit.demokritos.gr/YDS-docs/Tutorials/examples/advanced-search-usage">how to use Advanced Search</a>,
                                    a guided tutorial on filtering with a specific sector, access to the
                                    <a href="http://platform.yourdatastories.eu/content/tabbed-search">full search interface</a>.</p>
                            </div>

                            <yds-dashboard-updater
                                    ng-if="!isCollapsedAidActivityPanel && aaTab == 1"
                                    type="search"
                                    dashboard-id="aidactivity"
                                    min-height="480"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="View transactions" index="2">
                            <p class="text-justify">Each Aid Activity has a set of related transactions. In order to see
                                them, please select an Aid Activity from the table below, and press its “View” button.
                                The related transactions will be listed in a new page.</p>

                            <!--Grid with aid activities-->
                            <yds-dashboard-updater
                                    ng-if="!isCollapsedAidActivityPanel && aaTab == 2"
                                    type="grid"
                                    view-type="aidactivity.listitems.for.countries.and.period"
                                    dashboard-id="aidactivity"
                                    min-height="400"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="View sectors" index="3">
                            <p class="text-justify">Each Aid Activity has a set of related sectors. In order to see
                                them, please select an Aid Activity from the table below, and press its “View” button.
                                The related sectors will be listed in a new page.</p>

                            <!--Grid with aid activities-->
                            <yds-dashboard-updater
                                    ng-if="!isCollapsedAidActivityPanel && aaTab == 3"
                                    type="grid"
                                    view-type="aidactivity.listitems.for.countries.and.period"
                                    dashboard-id="aidactivity"
                                    min-height="400"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="Visualize the data" index="4">
                            <!--Workbench-->
                            <yds-workbench
                                    ng-if="!isCollapsedAidActivityPanel && aaTab == 4"
                                    user-id="ydsUser"></yds-workbench>
                        </uib-tab>
                    </uib-tabset>
                </div>
            </div>
        </div>
    </div>

    <!--Trade activities-->
    <div class="row">
        <!--Trade activities title and description-->
        <div class="col-md-12">
            <h2>What data is related? Trade Activities</h2>

            <p>International trade activities describe the trade activities among countries.</p>
            <p>In the following map you can see the trade relations between the Netherlands, and the rest of the world:</p>
        </div>
    </div>

    <!--Maps-->
    <div class="row">
        <div class="col-md-6">
            <!--Heatmap of Origins-->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Number of Trade Activities per Origin Country</h3>
                </div>
                <div class="panel-body">
                    <yds-heatmap
                            project-id="none"
                            view-type="tradeactivity.hasorigin.countries.all"
                            color-axis="true"
                            color-type="logarithmic"
                            legend="true"
                            legend-v-align="bottom"
                            use-year-range="true"
                            dashboard-id="tradeactivity"
                            country-selection="true"
                            no-border="true"
                            exporting="false"
                            element-h="350"></yds-heatmap>
                </div>
                <div class="panel-footer" style="padding: 3px 15px">
                    <small>You can select one or more countries (with <kbd>CTRL</kbd> key), and adjust the date range.</small>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <!--Heatmap of Destinations-->
            <div class="panel panel-default panel-benefactor">
                <div class="panel-heading">
                    <h3 class="panel-title">Number of Trade Activities per Destination Country</h3>
                </div>
                <div class="panel-body">
                    <yds-heatmap
                            project-id="none"
                            view-type="tradeactivity.hasdestination.countries.all"
                            color-axis="true"
                            color-type="logarithmic"
                            legend="true"
                            legend-v-align="bottom"
                            use-year-range="true"
                            dashboard-id="tradeactivity"
                            country-selection="true"
                            no-border="true"
                            exporting="false"
                            element-h="350"></yds-heatmap>
                </div>
                <div class="panel-footer" style="padding: 3px 15px">
                    <small>You can select one or more countries (with <kbd>CTRL</kbd> key), and adjust the date range.</small>
                </div>
            </div>
        </div>
    </div>

    <!--Year selection slider-->
    <div class="row">
        <div class="col-md-offset-3 col-md-6">
            <yds-year-range
                    title="Time Period for Trade Activities"
                    dashboard-id="tradeactivity"
                    min-year="1997"
                    max-year="2018">
            </yds-year-range>
        </div>
    </div>

    <!--Dashboard Info box-->
    <div class="row" style="padding-top: 20px; padding-bottom: 10px;">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">Selected filters</h3>
                </div>

                <div class="panel-body dashboard-info-container">
                    <yds-dashboard-updater
                            type="info"
                            view-type="tradeactivity.filters.selected"
                            dashboard-id="tradeactivity"
                            min-height="90"
                            lang="en">
                    </yds-dashboard-updater>
                </div>
            </div>
        </div>
    </div>

    <!--Aggregates-->
    <div class="row" style="margin-left: -10px; margin-right: -10px">
        <div ng-class="tradeAggregateClass"
             ng-repeat="type in tradeAggregates track by $index"
             style="padding-left: 10px; padding-right: 10px">
            <yds-dashboard-updater
                    type="aggregate"
                    project-id="{{ projectId }}"
                    dashboard-id="tradeactivity"
                    view-type="{{ type }}"
                    min-height="150"
                    aggregate-set-on-init="{{ ($index == 0) }}">
            </yds-dashboard-updater>
        </div>
    </div>

    <!--Visualization-->
    <div class="row">
        <div class="col-md-12">
            <!--Dashboard Visualization-->
            <yds-dashboard-visualization
                    project-id="none"
                    dashboard-id="tradeactivity"
                    element-h="460">
            </yds-dashboard-visualization>
        </div>
    </div>

    <!--Trade Activity "What else can I do" panel-->
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading clearfix" ng-click="isCollapsedTradeActivityPanel = !isCollapsedTradeActivityPanel">
                    <h3 class="panel-title pull-left">What else can I do with the available trade activity data?</h3>

                    <!--Icons to indicate if the panel is open or closed-->
                    <i ng-if="isCollapsedTradeActivityPanel" class="fa fa-chevron-right pull-right" aria-hidden="true"></i>
                    <i ng-if="!isCollapsedTradeActivityPanel" class="fa fa-chevron-down pull-right" aria-hidden="true"></i>
                </div>

                <div class="panel-body"
                     uib-collapse="isCollapsedTradeActivityPanel"
                     ng-init="isCollapsedTradeActivityPanel = true">
                    <uib-tabset active="taTab"
                                template-url="templates/tabset-panel-success.html">
                        <uib-tab heading="View Data" index="0">
                            <p class="text-justify">The following table shows all Trade Activities for the selected
                                origin and destination countries, that span the selected time period. You can obtain
                                the same results through search: an example is provided on the
                                <!--Because of extra scopes created by uib-tab we need
                                to access the taTab variable like this-->
                                <a ng-click="$parent.$parent.taTab = 1">search tab</a>.</p>

                            <!--TradeActivity grid-->
                            <yds-dashboard-updater
                                    ng-if="!isCollapsedTradeActivityPanel && taTab == 0"
                                    type="grid"
                                    view-type="tradeactivity.listitems.for.countries.and.period"
                                    dashboard-id="tradeactivity"
                                    min-height="400"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="Search Data" index="1">
                            <p class="text-justify">The following example shows how a detailed search can be performed
                                in the YourDataStories platform, through the “Advanced Search”. The advanced search
                                allows to graphically create rules, that filter specific properties. Auto-completion is
                                also supported!</p>

                            <div class="bs-callout bs-callout-success" style="margin-top: 0">
                                <p class="text-justify">Select origin and destination countries, change the time
                                    period, and see how the rules are automatically generated. Instructions on
                                    <a href="http://ydsdev.iit.demokritos.gr/YDS-docs/Tutorials/examples/advanced-search-usage">how to use Advanced Search</a>,
                                    a guided tutorial on filtering with a specific sector, access to the
                                    <a href="http://platform.yourdatastories.eu/content/tabbed-search">full search interface</a>.</p>
                            </div>

                            <yds-dashboard-updater
                                    ng-if="!isCollapsedTradeActivityPanel && taTab == 1"
                                    type="search"
                                    dashboard-id="tradeactivity"
                                    min-height="480"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="View transactions" index="2">
                            <p class="text-justify">Each Trade Activity has a set of related transactions. In order to
                                see them, please select a Trade Activity from the table below, and press its “View”
                                button. The related transactions will be listed in a new page.</p>

                            <!--Grid with trade activities-->
                            <yds-dashboard-updater
                                    ng-if="!isCollapsedTradeActivityPanel && taTab == 2"
                                    type="grid"
                                    view-type="tradeactivity.listitems.for.countries.and.period"
                                    dashboard-id="tradeactivity"
                                    min-height="400"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="View sectors" index="3">
                            <p class="text-justify">Each Trade Activity has a set of related sectors. In order to see
                                them, please select a Trade Activity from the table below, and press its “View” button.
                                The related sectors will be listed in a new page.</p>

                            <!--Grid with trade activities-->
                            <yds-dashboard-updater
                                    ng-if="!isCollapsedTradeActivityPanel && taTab == 3"
                                    type="grid"
                                    view-type="tradeactivity.listitems.for.countries.and.period"
                                    dashboard-id="tradeactivity"
                                    min-height="400"
                                    lang="en">
                            </yds-dashboard-updater>
                        </uib-tab>

                        <uib-tab heading="Visualize the data" index="4">
                            <!--Workbench-->
                            <yds-workbench
                                    ng-if="!isCollapsedTradeActivityPanel && taTab == 4"
                                    user-id="ydsUser"></yds-workbench>
                        </uib-tab>
                    </uib-tabset>
                </div>
            </div>
        </div>
    </div>
</div>
