<div class="container" ng-controller="DashboardPilot1Controller">
    <div class="row">
        <div class="col-md-12">
            <h2>Contracts</h2>
        </div>
    </div>
    <!--Maps-->
    <div class="row">
        <div class="col-md-5">
            <!--Heatmap of Sellers-->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Seller</h3>
                </div>
                <div class="panel-body">
                    <yds-heatmap
                            project-id="none"
                            view-type="contract.seller.countries.all"
                            color-axis="true"
                            color-type="logarithmic"
                            legend="true"
                            legend-v-align="bottom"
                            use-dashboard-params="true"
                            dashboard-id="contract"
                            country-selection="true"
                            no-border="true"
                            exporting="false"
                            element-h="350"></yds-heatmap>
                </div>
                <div class="panel-footer" style="padding: 3px 15px">
                    <small>You can select one or more countries with the <kbd>CTRL</kbd> key.</small>
                </div>
            </div>
        </div>

        <div class="col-md-5">
            <!--Heatmap of Buyers-->
            <div class="panel panel-default panel-benefactor">
                <div class="panel-heading">
                    <h3 class="panel-title">Buyer</h3>
                </div>
                <div class="panel-body">
                    <yds-heatmap
                            project-id="none"
                            view-type="contract.buyer.countries.all"
                            color-axis="true"
                            color-type="logarithmic"
                            legend="true"
                            legend-v-align="bottom"
                            use-dashboard-params="true"
                            dashboard-id="contract"
                            country-selection="true"
                            no-border="true"
                            exporting="false"
                            element-h="350"></yds-heatmap>
                </div>
                <div class="panel-footer" style="padding: 3px 15px">
                    <small>You can select one or more countries with the <kbd>CTRL</kbd> key.</small>
                </div>
            </div>
        </div>

        <!--Year selection slider-->
        <div class="col-md-2">
            <yds-year-range
                    title="Time Period for Contracts"
                    dashboard-id="contract"
                    min-year="1997"
                    max-year="2018"
                    vertical="true"
                    height="350">
            </yds-year-range>
        </div>
    </div>

    <!--Dashboard Visualization-->
    <div class="row">
        <div class="col-md-10" style="min-height: 600px">
            <uib-tabset active="dashboardVisActiveTab">
                <uib-tab index="$index" class="{{ 'tab-' + aggregateClasses[$index] }}" ng-repeat="type in aggregates track by $index" select="selectTab($index)">
                    <uib-tab-heading>
                        {{ aggregateTitles[$index] }}
                    </uib-tab-heading>
                    <yds-dashboard-visualization
                            ng-if="dashboardVisActiveTab == $index"
                            class="{{ 'content-' + aggregateClasses[$index] }}"
                            project-id="none"
                            dashboard-id="contract"
                            type="{{ type }}"
                            add-to-basket="true"
                            element-h="460">
                    </yds-dashboard-visualization>
                </uib-tab>
            </uib-tabset>
        </div>
        <div class="col-md-2">
            <yds-dashboard-updater
                    ng-repeat="type in aggregates track by $index"
                    ng-show="aggregateToShow == $index"
                    type="aggregate"
                    project-id="{{ projectId }}"
                    dashboard-id="contract"
                    view-type="{{ type }}"
                    min-height="125"
                    aggregate-show-button="false"
                    aggregate-icon-size="3">
            </yds-dashboard-updater>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Your selected filters</h3>
                </div>

                <div class="panel-body dashboard-info-container-default">
                    <yds-dashboard-updater
                            type="info-vertical"
                            view-type="contract.filters.selected"
                            dashboard-id="contract"
                            min-height="90"
                            lang="en">
                    </yds-dashboard-updater>
                </div>
            </div>
        </div>
    </div>
</div>
