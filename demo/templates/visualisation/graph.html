<div class="component-wrapper flex" ng-class="{'margin-bottom-30': enableRating == 'true'}">
    <!--Graph display controls-->
    <div class="row">
        <!--Layout selection-->
        <div class="col-md-3">
            <div class="form-group">
                <label>Layout:</label>
                <select class="form-control"
                        ng-options="layout.name for layout in graphLayouts track by layout.name"
                        ng-model="selectedLayout"
                        ng-change="selectLayout(selectedLayout)">
                </select>
            </div>
        </div>

        <!--Depth selection-->
        <div class="col-md-3">
            <div class="form-group">
                <label>Depth:</label>
                <input class="form-control" type="number" ng-model="maxDepth" min="1">
            </div>
        </div>
    </div>

    <!--Graph & Info panel-->
    <div class="row flex">
        <!--Graph-->
        <div class="col-md-9 flex">
            <div class="graph-container flex"></div>
        </div>

        <!--Info panel-->
        <div class="col-md-3">
            <div class="panel panel-info node-info-panel">
                <div class="panel-heading">
                    <strong>Information for:</strong>
                    <span ng-tt-more-label="{{ translations.showMore }}"
                          ng-tt-less-label="{{ translations.showLess }}"
                          ng-text-truncate="clickedNode.name"
                          ng-tt-words-threshold="15">
                        {{ clickedNode.name || "-" }}
                    </span>
                </div>
                <div class="panel-body">
                    <div ng-if="showNodeInfo" class="row">
                        <div class="col-sm-3">
                            <div class="graph-info-panel-icon" ng-style="clickedNode.iconStyle">
                                <img ng-src="{{ clickedNode.icon }}" width="100%">
                            </div>
                        </div>
                        <div class="col-sm-9" style="overflow-y: auto;">
                            <strong>
                                <span ng-tt-more-label="{{ translations.showMore }}"
                                      ng-tt-less-label="{{ translations.showLess }}"
                                      ng-text-truncate="clickedNode.name"
                                      ng-tt-words-threshold="15">
                                    {{ clickedNode.name || "-" }}
                                </span>
                            </strong>
                        </div>
                        <div class="col-sm-12">
                            <yds-info
                                    ng-if="showNodeInfoComponent"
                                    project-id="{{ clickedNode.id }}"
                                    vertical="true"
                                    view-type="graph.node"
                                    lang="{{ lang }}">
                            </yds-info>
                        </div>
                    </div>

                    <!--Info panel-->
                    <div class="graph-info-panel"
                         ng-if="showInfoPanel">
                        <!--Content-->
                        <div class="info-panel-content">
                            <table class="table table-striped table-condensed table-responsive info-panel-table">
                                <thead>
                                <tr>
                                    <th ng-repeat="val in infoPanelView">{{ val }}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="node in infoPanelContent track by $index">
                                    <td ng-repeat="val in node">{{ val }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div ng-if="!showNodeInfo" class="row">
                        <div class="col-sm-12">
                            <p>Select a node to display more information about it.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
